
/*! For license information please see db8122547752.embed.js.LICENSE.txt */
(()=>{var e,t,n,i,o={"../../clickhouse/mapper/index.js":(e,t,n)=>{var i=n("../../clickhouse/mapper/clickhouseDictionary.json");e.exports={compressPayload:function(e){var t={};return Object.keys(i).forEach(function(n){var o=n,r=i[n];t[o]=e[r]}),t},expandPayload:function(e){var t={},n=["up"],o=Object.keys(e).filter(function(e){return-1===Object.keys(i).indexOf(e)&&!n.includes(e)});return o.length&&(t.UNMATCHED={},o.forEach(function(n){t.UNMATCHED[n]=e[n]}),t.invalid=!0),Object.keys(i).forEach(function(o){if(!n.includes(o)){var r=o,s=i[o];e[r]&&(t[s]=e[r])}}),t}}},"./src/helpers/parseHref.ts":(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var i=n("./src/helpers/parseQueryParams.ts");const o=/#([^?&]+)/;function r(e){if(!e)return null;if(!o.test(e))return null;const t=/(#.+?)$/.exec(e);if(!t)return null;const n=t[0],r=o.exec(n);if(!r)return null;const s=r[1],a=(0,i.U)(n),c={key:s};return Object.assign(c,a),c}},"./src/helpers/parseQueryParams.ts":(e,t,n)=>{"use strict";function i(e,t=!0){if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const o=n.exec(e);if(!o)break;const[,r,s]=o;try{t?i[decodeURIComponent(r)]=decodeURIComponent(s):i[r]=s}catch(e){console.error(e)}}return i}n.d(t,{U:()=>i})},"./src/serviceContainer/getFrontendContainer.ts":(e,t,n)=>{"use strict";n.d(t,{w:()=>o});class i{constructor(){this.providers=new Map,this.cache=new Map}get(e,t=!0){const n=this.providers.get(e);if(!n)throw new Error(`${String(e)} is not provided`);if(t&&this.cache.has(e))return this.cache.get(e);const i=n();return t?(this.cache.has(e)||this.cache.set(e,i),i):i}provide(e,t){return this.providers.has(e)?(console.warn(`14 ${String(e)}`),this):(this.providers.set(e,t),this)}}function o(){return window.FUN_SERVICE_CONTAINER||(window.FUN_SERVICE_CONTAINER=new i),window.FUN_SERVICE_CONTAINER}},"./src/shared/common/debug/Debug.ts":(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var i=n("../murmur/dist/murmur.js"),o=n("../fun-storage/dist/webpack/funCookiesKeys.js"),r=n("../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs");class s{constructor(e,t=null){this.codes=t,this.expose=void 0!==r.A.get(o.e.DEBUG),this.prefix=e}createInstance(e){return new s(e,this.codes)}stringToColor(e){const t=(0,i.A)(e);let n="#";for(let e=0;e<3;e++)n+=("00"+(t>>8*e&255).toString(16)).substr(-2);return n}log(e,...t){this.expose&&(e=this.prefix?`${this.prefix}:${e}`:e,console.groupCollapsed("%c"+(new Date).toISOString().slice(11,-1)+" %c"+e,"color:grey;","font-weight:700;color:white;border-radius: 2px;padding:2px 5px;background-color:"+this.stringToColor(e)),console.log(...t),console.groupEnd(),this.push(e,...t))}logCode(e,...t){const n=this.codes?this.codes[e]:String(e),i=t.map(e=>"number"!=typeof e?e:this.codes&&this.codes[e]||e);this.log(n,...i)}push(e,...t){const n=window;Array.isArray(n.FUN_DEBUG_LOGS)&&n.FUN_DEBUG_LOGS.push({name:e,content:t})}}},"./src/shared/common/embed/helpers.ts":(e,t,n)=>{"use strict";n.d(t,{Ru:()=>o,cH:()=>r,dy:()=>s,i:()=>a});const i=/#(.+?)(&|$)/;function o(e,t){let n=e;for(;;){if(t(n))return n;if(!n.parentNode)return;n=n.parentNode}}function r(e,t){if(e.getAttribute)return e.getAttribute("data-"+t)||void 0}function s(e){if(!e)return null;if(!i.test(e))return null;const t=/(#.+?)$/.exec(e);if(!t)return null;const n=t[0],o=i.exec(n);if(!o)return null;const r=o[1],s=function(e,t=!0){if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const o=n.exec(e);if(!o)break;const[,r,s]=o;try{t?i[decodeURIComponent(r)]=decodeURIComponent(s):i[r]=s}catch(e){console.error(e)}}return i}(n),a={key:r};return Object.assign(a,s),a}function a(e){const t=[];for(const[n,i]of e)t.push(`${encodeURIComponent(n)}=${encodeURIComponent(i)}`);return t.join("&")}},"./src/shared/types/embed/frontendEmbedService.ts":(e,t,n)=>{"use strict";var i;n.d(t,{i:()=>i}),function(e){e[e.BACKDROP=1]="BACKDROP",e[e.STATIC_CONFIG=2]="STATIC_CONFIG",e[e.KEYS_KEEPER=3]="KEYS_KEEPER",e[e.COLLECTOR=4]="COLLECTOR",e[e.RESOLVER=5]="RESOLVER",e[e.DEBUG=6]="DEBUG",e[e.TRACKING_URLS=7]="TRACKING_URLS",e[e.FUN_SESSION_STORAGE=8]="FUN_SESSION_STORAGE",e[e.EMBED_ELEMENTS_API=9]="EMBED_ELEMENTS_API",e[e.EMBED_CHECKOUT_API=10]="EMBED_CHECKOUT_API",e[e.EMBED_INTERNAL_API=11]="EMBED_INTERNAL_API",e[e.EMBED_FORMS_API=12]="EMBED_FORMS_API",e[e.EMBED_CONFIG=13]="EMBED_CONFIG",e[e.EMBED_TRACKER=14]="EMBED_TRACKER",e[e.FUN_EXPERIMENTS_STORAGE=15]="FUN_EXPERIMENTS_STORAGE",e[e.CHECKOUT=16]="CHECKOUT",e[e.EMBED_ELEMENTS_SERVICE=17]="EMBED_ELEMENTS_SERVICE",e[e.ELEMENTS_API=18]="ELEMENTS_API",e[e.EVENT_EMITTER=19]="EVENT_EMITTER",e[e.HTML_ELEMENT_STYLE_MANAGER=20]="HTML_ELEMENT_STYLE_MANAGER",e[e.FUN_TRACKER_STORAGE=21]="FUN_TRACKER_STORAGE",e[e.FUN_STAT_STORAGE=22]="FUN_STAT_STORAGE",e[e.FUN_COOKIES_MIGRATOR=23]="FUN_COOKIES_MIGRATOR",e[e.FUN_COOKIES_MANAGER=24]="FUN_COOKIES_MANAGER",e[e.USER_SESSION=25]="USER_SESSION",e[e.FUN_DEBUG_STORAGE=26]="FUN_DEBUG_STORAGE",e[e.SENTRY_CLIENT=27]="SENTRY_CLIENT",e[e.EXPERIMENTS_CONTROLLER=28]="EXPERIMENTS_CONTROLLER",e[e.CHECKOUT_SKELETON=29]="CHECKOUT_SKELETON",e[e.EMBED_ELEMENTS_URL_API=30]="EMBED_ELEMENTS_URL_API",e[e.CHECKOUT_STEPLESS=31]="CHECKOUT_STEPLESS",e[e.GIFT_CATALOG_CHECKOUT=32]="GIFT_CATALOG_CHECKOUT",e[e.CONSENT_MANAGER_API=33]="CONSENT_MANAGER_API",e[e.GOALS_LOADER=34]="GOALS_LOADER",e[e.EMBED_GIFT_CATALOG_API=35]="EMBED_GIFT_CATALOG_API",e[e.GIFT_CATALOG_CART=36]="GIFT_CATALOG_CART",e[e.GIFT_CATALOG_API=37]="GIFT_CATALOG_API",e[e.EMBED_GIFT_CATALOG_CHECKOUT_API=38]="EMBED_GIFT_CATALOG_CHECKOUT_API",e[e.GIFT_CATALOG_CHECKOUT_SKELETON=39]="GIFT_CATALOG_CHECKOUT_SKELETON",e[e.GIFT_CATALOG_CART_COOKIE_SERVICE=40]="GIFT_CATALOG_CART_COOKIE_SERVICE",e[e.FUN_GIFT_STORAGE=41]="FUN_GIFT_STORAGE"}(i||(i={}))},"../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/resolve-url-loader@5.0.0/node_modules/resolve-url-loader/index.js!./src/preloader/backdrop.css":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/sourceMaps.js"),o=n.n(i),r=n("../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/api.js"),s=n.n(r)()(o());s.push([e.id,".fun-widget-backdrop-holder {\n  left: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  right: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  display: block !important;\n  position: fixed !important;\n  z-index: 2147483646 !important;\n  transition: opacity 0.2s ease-in-out !important;\n  transform: translateZ(99px) !important;\n  animation: fun-widget-backdrop 0.2s ease-in-out !important;\n}\n\n.fun-widget-backdrop {\n  position: absolute !important;\n  left: 50% !important;\n  top: 50% !important;\n  animation:\n    fun-widget-backdrop-rotate 1.5s infinite linear,\n    fun-widget-backdrop-fadein 0.6s ease-in-out !important;\n  padding: 0 !important;\n  margin: -30px 0 0 -30px !important;\n  width: 60px !important;\n  min-width: 60px !important;\n  max-width: 60px !important;\n  height: 60px !important;\n  min-height: 60px !important;\n  max-height: 60px !important;\n  border-radius: 50% !important;\n  border: 4px solid !important;\n  border-color: #e3e3e3 #e3e3e3 #666666 #666666 !important;\n}\n\n@keyframes fun-widget-backdrop {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-fadein {\n  0% {\n    opacity: 0;\n  }\n  33% {\n    opacity: 0;\n  }\n  66% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-rotate {\n  0% {\n    rotate: 0deg;\n  }\n  100% {\n    rotate: 359deg;\n  }\n}\n","",{version:3,sources:["webpack://./src/preloader/backdrop.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,oBAAoB;EACpB,mBAAmB;EACnB,sBAAsB;EACtB,uBAAuB;EACvB,yBAAyB;EACzB,0BAA0B;EAC1B,8BAA8B;EAC9B,+CAA+C;EAC/C,sCAAsC;EACtC,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,oBAAoB;EACpB,mBAAmB;EACnB;;0DAEwD;EACxD,qBAAqB;EACrB,kCAAkC;EAClC,sBAAsB;EACtB,0BAA0B;EAC1B,0BAA0B;EAC1B,uBAAuB;EACvB,2BAA2B;EAC3B,2BAA2B;EAC3B,6BAA6B;EAC7B,4BAA4B;EAC5B,wDAAwD;AAC1D;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;EACE;IACE,YAAY;EACd;EACA;IACE,cAAc;EAChB;AACF",sourcesContent:[".fun-widget-backdrop-holder {\n  left: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  right: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  display: block !important;\n  position: fixed !important;\n  z-index: 2147483646 !important;\n  transition: opacity 0.2s ease-in-out !important;\n  transform: translateZ(99px) !important;\n  animation: fun-widget-backdrop 0.2s ease-in-out !important;\n}\n\n.fun-widget-backdrop {\n  position: absolute !important;\n  left: 50% !important;\n  top: 50% !important;\n  animation:\n    fun-widget-backdrop-rotate 1.5s infinite linear,\n    fun-widget-backdrop-fadein 0.6s ease-in-out !important;\n  padding: 0 !important;\n  margin: -30px 0 0 -30px !important;\n  width: 60px !important;\n  min-width: 60px !important;\n  max-width: 60px !important;\n  height: 60px !important;\n  min-height: 60px !important;\n  max-height: 60px !important;\n  border-radius: 50% !important;\n  border: 4px solid !important;\n  border-color: #e3e3e3 #e3e3e3 #666666 #666666 !important;\n}\n\n@keyframes fun-widget-backdrop {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-fadein {\n  0% {\n    opacity: 0;\n  }\n  33% {\n    opacity: 0;\n  }\n  66% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-rotate {\n  0% {\n    rotate: 0deg;\n  }\n  100% {\n    rotate: 359deg;\n  }\n}\n"],sourceRoot:""}]);const a=s},"../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/api.js":e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},"../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/sourceMaps.js":e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(o," */");return[t].concat([r]).join("\n")}return[t].join("\n")}},"./src/preloader/backdrop.css":(e,t,n)=>{var i=n("../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/resolve-url-loader@5.0.0/node_modules/resolve-url-loader/index.js!./src/preloader/backdrop.css");i&&i.__esModule&&(i=i.default),e.exports="string"==typeof i?i:i.toString()},"../fun-storage/dist/webpack/funCookiesKeys.js":(e,t,n)=>{"use strict";var i;n.d(t,{e:()=>i}),function(e){e.SESSION="fundraiseup_session",e.FUNC="fundraiseup_func",e.PERFORMANCE="fundraiseup_stat",e.CONSENT="fundraiseup_consent",e.MARKETING="fundraiseup_mark",e.CID="fundraiseup_cid",e.DEBUG="fundraiseup_debug",e.EXPERIMENTS="fundraiseup_experiments",e.FUN_AB_STORAGE="fundraiseup_ab_test",e.DEV_MODE="developmentMode"}(i||(i={}))},"../murmur/dist/murmur.js":(e,t)=>{"use strict";t.A=function(e,t=0){let n,i,o,r,s,a,c,l;for(n=3&e.length,i=e.length-n,o=t,s=3432918353,a=461845907,l=0;l<i;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295,o^=c,o=o<<13|o>>>19,r=5*(65535&o)+((5*(o>>>16)&65535)<<16)&4294967295,o=27492+(65535&r)+(((r>>>16)+58964&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(l+2))<<16;break;case 2:c^=(255&e.charCodeAt(l+1))<<8;break;case 1:c^=255&e.charCodeAt(l),c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295,o^=c}return o^=e.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,o>>>0}},"../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs":(e,t,n)=>{"use strict";function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}n.d(t,{A:()=>o});var o=function e(t,n){function o(e,o,r){if("undefined"!=typeof document){"number"==typeof(r=i({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in r)r[a]&&(s+="; "+a,!0!==r[a]&&(s+="="+r[a].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},o=0;o<n.length;o++){var r=n[o].split("="),s=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(i[a]=t.read(s,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){o(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},"../../clickhouse/mapper/clickhouseDictionary.json":e=>{"use strict";e.exports=JSON.parse('{"u":"URL","ck":"companyKey","cm":"checkoutCompanyKey","cd":"clientId","ct":"clientTime","cz":"clientTimeZone","lo":"clientLocale","ek":"elementKey","el":"elementLocale","er":"elementReminderKey","ey":"elementType","ep":"elementParams","et":"eventType","te":"customEventType","ev":"customEventData","ed":"elementData","eg":"eventTags","pv":"pageViewId","pl":"pageViewLifetime","r":"referer","rh":"resolutionHeight","rw":"resolutionWidth","t":"title","hl":"uaHistoryLength","wk":"widgetKey","wh":"windowHeight","wx":"windowScrollX","wy":"windowScrollY","ww":"windowWidth","cv":"checkoutViewId","ce":"checkoutError","co":"checkoutOpenTime","cl":"checkoutLifetime","cs":"checkoutScreen","sd":"checkoutScreenData","cc":"checkoutClickElement","cf":"checkoutFrequency","fp":"clickDOMPath","fh":"clickAHref","ft":"clickText","dk":"chargeCampaignKey","dd":"chargeKey","du":"chargeInUSDAmount","di":"chargeInDefaultCurrencyAmount","da":"chargeAmount","dc":"chargeCurrency","df":"chargeFeeCovered","dm":"chargePaymentMethod","dr":"chargeIsRecurring","dn":"chargeHasComment","dh":"chargeHasTribute","dg":"chargeGoal","st":"splitTestName","sv":"splitTestVariant","pm":"paymentMethod","ws":"widgetSession","lm":"livemode","fv":"funSnippetVersion","fe":"funEmbedRelease","vf":"isFundraiseupVisitor","lc":"checkoutLocale","cr":"checkoutIsRecurring","cy":"checkoutCurrency","ca":"checkoutAmount","cu":"checkoutInUSDAmount","yr":"checkoutCurrencyRate","fa":"checkoutDefaultAmount","cp":"checkoutPresets","ps":"pageScripts","ol":"clientOnLine","dt":"clientDoNotTrack","pr":"clientDevicePixelRatio","rm":"clientDeviceMemory","hc":"clientHardwareConcurrency","nt":"clientConnectionType","nd":"clientConnectionDownlink","nr":"clientConnectionRTT","ne":"clientConnectionEffectiveType","bc":"clientBatteryCharging","bt":"clientBatteryChargingTime","bd":"clientBatteryDischargingTime","bl":"clientBatteryLevel","de":"dataLayerEventName","dp":"dataLayerParams","fn":"pixelEventName","fs":"pixelEventData","gk":"fundraisingGroupKey","pk":"fundraisingPageKey","pc":"fundraisingPageCustomerKey","ec":"eventComment","ba":"uaIsInApp","uw":"uaWebdriver","rd":"duration","se":"source","sk":"supporterKey","ak":"agentKey","pu":"pointingDeviceIsUsed","fo":"donationType","cn":"clientCookieConsent","tt":"checkoutType","pi":"paymentIntentId","ds":"donationItems"}')}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return o[e].call(n.exports,n,n.exports,s),n.exports}s.m=o,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var o=Object.create(null);s.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>r[e]=()=>n[e]);return r.default=()=>n,s.d(o,r),o},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,n)=>(s.f[n](e,t),t),[])),s.u=e=>e+"."+{31:"58f89a13fbe8",604:"3ddf429a7c2a",707:"4dcff0c96075"}[e]+"."+(707===e?"SplitTesting":e)+".js",s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="@fundraiseup/embed:",s.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+o){a=u;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+o),a.src=e),n[e]=[t];var p=(t,i)=>{a.onerror=a.onload=null,clearTimeout(h);var o=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(i)),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="https://static.fundraiseup.com/",(()=>{if(void 0!==s){var e=s.u,t=s.e,n={},i={};s.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},s.e=function(o){return t(o).catch(function(t){var r=i.hasOwnProperty(o)?i[o]:3;if(r<1){var a=e(o);throw t.message="Loading chunk "+o+" failed after 3 retries.\n("+a+")",t.request=a,t}return new Promise(function(e){var t=3-r+1;setTimeout(function(){var a="cache-bust=true&retry-attempt="+t;n[o]=a,i[o]=r-1,e(s.e(o))},0)})})}}})(),(()=>{var e={722:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((n,o)=>i=e[t]=[n,o]);n.push(i[2]=o);var r=s.p+s.u(t),a=new Error;s.l(r,n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}},"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,a,c]=n,l=0;if(r.some(t=>0!==e[t])){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);c&&c(s)}for(t&&t(n);l<r.length;l++)o=r[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.funEmbed=self.funEmbed||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=s("./src/shared/common/debug/Debug.ts");const t={};function n(e){return function(e){const i=t[e];if(i)return i;const o=new Promise(function(t,i){setTimeout(()=>{const o=window.document.createElement("script");o.type="text/javascript",o.charset="UTF-8",o.async=!0,o.onerror=function(e){i(e)},o.onload=function(){t(!0)},o.src=e,window.document.documentElement.appendChild(o),n._immedeatly&&t(!0)},0)});return t[e]=o,o}(e)}var i;n._immedeatly=!1,function(e){e.DUMMY_EXPERIMENT="DummyExperiment",e.CHECKOUT_BUNDLE_EXPERIMENT="CheckoutBundleExperiment",e.DONOR_PORTAL_TEST_EXPERIMENT="DonorPortalTestExperiment",e.CAMPAIGN_PAGE_TEST_EXPERIMENT="CampaignPageTestExperiment",e.EMBED_TEST_EXPERIMENT="EmbedTestExperiment",e.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT="CheckoutWithoutPreDonationUpsellExperiment",e.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT="CampaignPagesWithoutPreDonationUpsellExperiment",e.SMART_COVERING_FEE_CHECKOUT_V_2_EXPERIMENT="SmartCoveringFeeSuggestionCheckoutExperimentV2",e.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_2_EXPERIMENT="SmartCoveringFeeSuggestionCampaignPagesExperimentV2",e.AA_CHECKOUT_EXPERIMENT="AACheckoutExperiment",e.SMART_POST_DONATION_UPSELL_CHECKOUT_V_2_EXPERIMENT="SmartPostDonationUpsellCheckoutV2Experiment",e.SMART_POST_DONATION_UPSELL_CAMPAIGN_PAGES_V_2_EXPERIMENT="SmartPostDonationUpsellCampaignPagesV2Experiment",e.UPSELL_AMOUNTS_DATASET_MODAL_EXPERIMENT="UpsellAmountsDatasetModalExperiment",e.UPSELL_AMOUNTS_DATASET_PAGES_EXPERIMENT="UpsellAmountsDatasetPagesExperiment",e.UPGRADE_LINKS_PAGE_AI_V_2_EXPERIMENT="UpgradeLinksPageAIv2Experiment",e.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT="SteplessMobileCheckoutExperiment",e.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CHECKOUT_V_3_EXPERIMENT="CollectDatasetPostDonationUpsellAmountCheckoutV3Experiment",e.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CAMPAIGN_PAGES_V_3_EXPERIMENT="CollectDatasetPostDonationUpsellAmountCampaignPagesV3Experiment",e.SMART_PDU_CHECKOUT_V_3_EXPERIMENT="SmartPDUCheckoutV3Experiment",e.SMART_PDU_CAMPAIGN_PAGES_V_3_EXPERIMENT="SmartPDUCampaignPagesV3Experiment",e.RECURRING_FREQUENCY_HINT_CAMPAIGN_PAGES_EXPERIMENT="RecurringFrequencyHintCampaignPagesExperiment",e.CHECKOUT_STEPS_CAMPAIGN_PAGES_EXPERIMENT="CheckoutStepsCampaignPagesExperiment",e.CHECKOUT_STEPS_CHECKOUT_MODAL_EXPERIMENT="CheckoutStepsCheckoutModalExperiment",e.DONOR_RATING_CHECKOUT_EXPERIMENT="DonorRatingCheckoutExperiment",e.DONOR_RATING_CAMPAIGN_PAGES_EXPERIMENT="DonorRatingCampaignPagesExperiment",e.ML_DONATION_RETRY_V_3_EXPERIMENT="MlDonationRetryV3Experiment",e.AVERAGE_DONATION_HINT_EXPERIMENT="AverageDonationHintExperiment",e.AVERAGE_DONATION_HINT_CAMPAIGN_PAGES_EXPERIMENT="AverageDonationHintCampaignPagesExperiment",e.FAST_TRACK_CAMPAIGN_PAGES_EXPERIMENT="FastTrackCampaignPagesExperiment",e.SMART_COVERING_FEE_CHECKOUT_V_4_EXPERIMENT="SmartCoveringFeeCheckoutV4Experiment",e.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_4_EXPERIMENT="SmartCoveringFeeCampaignPagesV4Experiment",e.MULTIPLE_RECURRING_PLAN_CHECKOUT_EXPERIMENT="MultipleRecurringPlanCheckoutExperiment",e.AMOUNT_PRESETS_CHECKOUT_V_5_EXPERIMENT="AmountPresetsCheckoutV5Experiment",e.AMOUNT_PRESETS_PAGES_V_5_EXPERIMENT="AmountPresetsPagesV5Experiment",e.AMOUNT_PRESETS_DONATION_FORM_V_5_EXPERIMENT="AmountPresetsDonationFormV5Experiment",e.STRIPE_LINK_CHECKOUT_EXPERIMENT="StripeLinkCheckoutExperiment",e.STRIPE_LINK_PAGES_EXPERIMENT="StripeLinkPagesExperiment",e.FEE_COVERAGE_SELECTION_MODAL_EXPERIMENT="FeeCoverageSelectionModalExperiment",e.FEE_COVERAGE_SELECTION_PAGES_EXPERIMENT="FeeCoverageSelectionPagesExperiment",e.DONATE_BY_VOICE_V2_MODAL_EXPERIMENT="DonateByVoiceV2ModalExperiment",e.DONATE_BY_VOICE_V2_PAGES_EXPERIMENT="DonateByVoiceV2PagesExperiment",e.UPSELL_SCREEN_CAMPAIGN_PAGE_V_3_EXPERIMENT="UpsellScreenCampaingPageV3Experiment",e.LAPSED_DONOR_REENGAGEMENT_EXPERIMENT="LapsedDonorReengagementExperiment",e.SOFT_UPGRADE_LINKS_EXPERIMENT="SoftUpgradeLinksExperiment",e.PRE_DONATION_AMOUNTS_100_200_USD_PAGES_EXPERIMENT="PreDonationAmounts100200USDPagesExperiment",e.PRE_DONATION_AMOUNTS_100_200_USD_MODAL_EXPERIMENT="PreDonationAmounts100200USDModalExperiment",e.DONOR_PORTAL_DONATION_SHARING_BUTTON_EXPERIMENT="DonorPortalDonationSharingButtonExperiment",e.NEW_FONT_FOR_HINT_TO_RECURRING_EXPERIMENT="NewFontForHintToRecurringExperiment",e.QUARTERLY_UPSELL_MODAL_EXPERIMENT="QuarterlyUpsellModalExperiment",e.QUARTERLY_UPSELL_PAGES_EXPERIMENT="QuarterlyUpsellPagesExperiment",e.MOBILE_FIRST_STEP_PAGES_EXPERIMENT="MobileFirstStepPagesExperiment",e.CLOUDFLARE_WORKER_STRATEGY_FOR_ELEMENTS_EXPERIMENT="CloudflareWorkerStrategyForElementsExperiment",e.CHECKOUT_CAPTCHA_MODAL_EXPERIMENT="CheckoutCaptchaModalExperiment",e.CHECKOUT_CAPTCHA_PAGES_EXPERIMENT="CheckoutCaptchaPagesExperiment",e.DONOR_PORTAL_PROMO_EMAILS_EXPERIMENT="DonorPortalPromoEmailsExperiment"}(i||(i={}));const o={[i.DUMMY_EXPERIMENT]:"33802",[i.CHECKOUT_BUNDLE_EXPERIMENT]:"61172",[i.DONOR_PORTAL_TEST_EXPERIMENT]:"68092",[i.CAMPAIGN_PAGE_TEST_EXPERIMENT]:"68383",[i.EMBED_TEST_EXPERIMENT]:"65492",[i.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT]:"73814",[i.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT]:"73816",[i.SMART_COVERING_FEE_CHECKOUT_V_2_EXPERIMENT]:"82767-modal",[i.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_2_EXPERIMENT]:"82767-pages",[i.AA_CHECKOUT_EXPERIMENT]:"77715",[i.SMART_POST_DONATION_UPSELL_CHECKOUT_V_2_EXPERIMENT]:"79870-modal",[i.SMART_POST_DONATION_UPSELL_CAMPAIGN_PAGES_V_2_EXPERIMENT]:"79870-pages",[i.UPSELL_AMOUNTS_DATASET_MODAL_EXPERIMENT]:"87159-modal",[i.UPSELL_AMOUNTS_DATASET_PAGES_EXPERIMENT]:"87159-pages",[i.UPGRADE_LINKS_PAGE_AI_V_2_EXPERIMENT]:"87190",[i.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT]:"60395",[i.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CHECKOUT_V_3_EXPERIMENT]:"89924-modal",[i.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CAMPAIGN_PAGES_V_3_EXPERIMENT]:"89924-pages",[i.SMART_PDU_CHECKOUT_V_3_EXPERIMENT]:"89260-modal",[i.SMART_PDU_CAMPAIGN_PAGES_V_3_EXPERIMENT]:"89260-pages",[i.RECURRING_FREQUENCY_HINT_CAMPAIGN_PAGES_EXPERIMENT]:"59392-pages",[i.CHECKOUT_STEPS_CAMPAIGN_PAGES_EXPERIMENT]:"133620-pages",[i.CHECKOUT_STEPS_CHECKOUT_MODAL_EXPERIMENT]:"133620-modal",[i.DONOR_RATING_CHECKOUT_EXPERIMENT]:"99706-modal",[i.DONOR_RATING_CAMPAIGN_PAGES_EXPERIMENT]:"99706-pages",[i.ML_DONATION_RETRY_V_3_EXPERIMENT]:"99145",[i.AMOUNT_PRESETS_DONATION_FORM_V_5_EXPERIMENT]:"115114-DF",[i.AVERAGE_DONATION_HINT_EXPERIMENT]:"101523-modal",[i.AVERAGE_DONATION_HINT_CAMPAIGN_PAGES_EXPERIMENT]:"101523-pages",[i.FAST_TRACK_CAMPAIGN_PAGES_EXPERIMENT]:"101284-pages",[i.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_4_EXPERIMENT]:"113277-pages",[i.SMART_COVERING_FEE_CHECKOUT_V_4_EXPERIMENT]:"113277-modal",[i.MULTIPLE_RECURRING_PLAN_CHECKOUT_EXPERIMENT]:"114635-modal",[i.AMOUNT_PRESETS_CHECKOUT_V_5_EXPERIMENT]:"115114-modal",[i.AMOUNT_PRESETS_PAGES_V_5_EXPERIMENT]:"115114-pages",[i.STRIPE_LINK_CHECKOUT_EXPERIMENT]:"115596-modal",[i.STRIPE_LINK_PAGES_EXPERIMENT]:"115596-pages",[i.FEE_COVERAGE_SELECTION_MODAL_EXPERIMENT]:"101219-modal",[i.FEE_COVERAGE_SELECTION_PAGES_EXPERIMENT]:"101219-pages",[i.DONATE_BY_VOICE_V2_MODAL_EXPERIMENT]:"138976-modal",[i.DONATE_BY_VOICE_V2_PAGES_EXPERIMENT]:"138976-pages",[i.UPSELL_SCREEN_CAMPAIGN_PAGE_V_3_EXPERIMENT]:"118987",[i.LAPSED_DONOR_REENGAGEMENT_EXPERIMENT]:"120522",[i.SOFT_UPGRADE_LINKS_EXPERIMENT]:"124937",[i.PRE_DONATION_AMOUNTS_100_200_USD_PAGES_EXPERIMENT]:"135267-pages",[i.PRE_DONATION_AMOUNTS_100_200_USD_MODAL_EXPERIMENT]:"135267-modal",[i.DONOR_PORTAL_DONATION_SHARING_BUTTON_EXPERIMENT]:"119139",[i.NEW_FONT_FOR_HINT_TO_RECURRING_EXPERIMENT]:"141481",[i.QUARTERLY_UPSELL_MODAL_EXPERIMENT]:"133727-modal",[i.QUARTERLY_UPSELL_PAGES_EXPERIMENT]:"133727-pages",[i.MOBILE_FIRST_STEP_PAGES_EXPERIMENT]:"141253",[i.CLOUDFLARE_WORKER_STRATEGY_FOR_ELEMENTS_EXPERIMENT]:"143564",[i.CHECKOUT_CAPTCHA_MODAL_EXPERIMENT]:"138382-modal",[i.CHECKOUT_CAPTCHA_PAGES_EXPERIMENT]:"138382-pages",[i.DONOR_PORTAL_PROMO_EMAILS_EXPERIMENT]:"120485"};var r,a,c,l,d,u,p,h,m,E,g,f,T,_,v,y,A,S,w,C,O,N,I,R,P,b,L,D,x,M,k,U,G,F,K,B,V,H,j,X,Y,z,W,$,q,J,Z,Q,ee,te,ne,ie,oe,re,se,ae,ce,le,de,ue,pe,he,me,Ee;Object.values(o),function(e){e.BILLING="billing",e.EMBED="embed",e.CAMPAIGN_PAGES="campaignPages",e.DONOR_PORTAL="donorPortal",e.EMAILS="emails"}(r||(r={})),function(e){e.CONTROL="control",e.TEST="test"}(a||(a={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(c||(c={})),function(e){e.CONTROL="control",e.TEST="test"}(l||(l={})),function(e){e.CONTROL="control",e.TEST="test"}(d||(d={})),function(e){e.CONTROL="control",e.TEST="test"}(u||(u={})),function(e){e.CONTROL="control",e.TEST="test"}(p||(p={})),function(e){e.CONTROL="control",e.TEST="test"}(h||(h={})),function(e){e.CONTROL="control",e.TEST="test"}(m||(m={})),function(e){e.CONTROL="control",e.TEST="test"}(E||(E={})),function(e){e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(g||(g={})),function(e){e.CONTROL="control",e.TEST="test"}(f||(f={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(T||(T={})),function(e){e.CONTROL="control",e.TEST="test"}(_||(_={})),function(e){e.CONTROL="control",e.TEST="test"}(v||(v={})),function(e){e.CONTROL="control",e.TEST="test"}(y||(y={})),function(e){e.CONTROL="control",e.TEST="test"}(A||(A={})),function(e){e.CONTROL="control",e.TEST="test"}(S||(S={})),function(e){e.CONTROL="control",e.TEST="test"}(w||(w={})),function(e){e.CONTROL="control",e.TEST="test"}(C||(C={})),function(e){e.CONTROL="control",e.TEST="test"}(O||(O={})),function(e){e.CONTROL="control",e.TEST="test"}(N||(N={})),function(e){e.CONTROL="control",e.TEST="test"}(I||(I={})),function(e){e.CONTROL="control",e.TEST="test"}(R||(R={})),function(e){e.CONTROL="control",e.TEST="test"}(P||(P={})),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(b||(b={})),function(e){e.CONTROL="control",e.TEST="test"}(L||(L={})),function(e){e.CONTROL="control",e.TEST="test"}(D||(D={})),function(e){e.CONTROL="control",e.TEST="test"}(x||(x={})),function(e){e.CONTROL="control",e.TEST="test"}(M||(M={})),function(e){e.CONTROL="control",e.TEST="test"}(k||(k={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(U||(U={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(G||(G={})),function(e){e.CONTROL="control",e.TEST="test"}(F||(F={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3",e.TEST_4="test-4"}(K||(K={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(B||(B={})),function(e){e.CONTROL="control",e.TEST="test"}(V||(V={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(H||(H={})),function(e){e.CONTROL="control",e.TEST="test"}(j||(j={})),function(e){e.CONTROL="control",e.TEST="test"}(X||(X={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(Y||(Y={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3",e.TEST_4="test-4"}(z||(z={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3",e.TEST_4="test-4",e.TEST_5="test-5"}(W||(W={})),function(e){e.CONTROL="control",e.TEST="test"}($||($={})),function(e){e.CONTROL="control",e.TEST="test"}(q||(q={})),function(e){e.CONTROL="control",e.TEST="test"}(J||(J={})),function(e){e.CONTROL="control",e.TEST="test"}(Z||(Z={})),function(e){e.CONTROL="control",e.TEST="test"}(Q||(Q={})),function(e){e.CONTROL="control",e.TEST="test"}(ee||(ee={})),function(e){e.CONTROL="control",e.TEST="test"}(te||(te={})),function(e){e.CONTROL="control",e.TEST="test"}(ne||(ne={})),function(e){e.CONTROL="control",e.TEST="test"}(ie||(ie={})),function(e){e.CONTROL="control",e.TEST="test"}(oe||(oe={})),function(e){e.CONTROL="control",e.TEST="test"}(re||(re={})),function(e){e.CONTROL="control",e.TEST="test"}(se||(se={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(ae||(ae={})),function(e){e.CONTROL="control",e.TEST="test"}(ce||(ce={})),function(e){e.CONTROL="control",e.TEST="test"}(le||(le={})),function(e){e.CONTROL="control",e.TEST="test"}(de||(de={})),function(e){e.CONTROL="control",e.TEST_1="test-1"}(ue||(ue={})),function(e){e.CONTROL="control",e.TEST="test"}(pe||(pe={})),function(e){e.CONTROL="control",e.TEST="test"}(he||(he={})),function(e){e.AUSTRALIA="AU",e.AUSTRIA="AT",e.BELGIUM="BE",e.BRAZIL="BR",e.BULGARIA="BG",e.CANADA="CA",e.CROATIA="HR",e.CYPRUS="CY",e.CZECH_REPUBLIC="CZ",e.DENMARK="DK",e.ESTONIA="EE",e.FINLAND="FI",e.FRANCE="FR",e.GERMANY="DE",e.GREECE="GR",e.HONG_KONG="HK",e.HUNGARY="HU",e.INDIA="IN",e.INDONESIA="ID",e.IRELAND="IE",e.ITALY="IT",e.JAPAN="JP",e.LATVIA="LV",e.LITHUANIA="LT",e.LUXEMBOURG="LU",e.MALAYSIA="MY",e.MALTA="MT",e.MEXICO="MX",e.NETHERLANDS="NL",e.NEW_ZEALAND="NZ",e.NORWAY="NO",e.POLAND="PL",e.PORTUGAL="PT",e.ROMANIA="RO",e.SINGAPORE="SG",e.SLOVAKIA="SK",e.SLOVENIA="SI",e.SPAIN="ES",e.SWEDEN="SE",e.SWITZERLAND="CH",e.THAILAND="TH",e.UNITED_ARAB_EMIRATES="AE",e.UNITED_KINGDOM="GB",e.UNITED_STATES="US",e.GIBRALTAR="GI",e.LIECHTENSTEIN="LI",e.PHILIPPINES="PH",e.ISRAEL="IL"}(me||(me={})),function(e){e.V5_1="v5.1",e.V5_2="v5.2",e.V5_3="v5.3",e.V5_4="v5.4"}(Ee||(Ee={}));const ge=/^E[A-Z\d]{7}$/;K.TEST_1,Ee.V5_1,K.TEST_2,Ee.V5_2,K.TEST_3,Ee.V5_3,K.TEST_4,Ee.V5_4;var fe,Te,_e,ve,ye,Ae=s("./src/shared/types/embed/frontendEmbedService.ts");!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(fe||(fe={})),function(e){e.type="type",e.recurring="recurring",e.amount="amount",e.modifyAmount="modifyAmount",e.designationId="designationId",e.fundraiser="fundraiser",e.modifyDesignation="modifyDesignation",e.firstName="firstName",e.lastName="lastName",e.email="email",e.fundraiseupLivemode="fundraiseupLivemode"}(Te||(Te={})),function(e){e.ELEMENTS="ELEMENTS",e.CHECKOUT="CHECKOUT"}(_e||(_e={})),function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.TOP_LOCATIONS="topLocations",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.FUNDRAISING_PAGE_INVITE_LINK="fundraisingPageInviteLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting",e.JS_API="jsApi"}(ve||(ve={})),function(e){e.POPUP="POPUP",e.CHECKOUT="CHECKOUT",e.P2P_FORM="P2P_FORM"}(ye||(ye={}));const Se=[me.UNITED_KINGDOM,me.CANADA,me.GERMANY],we=e=>!Se.includes(e),Ce=(e,t)=>{const{disabledAccounts:n,enabledAccounts:i}=e;if(null==n?void 0:n.find(e=>e===t))return!1;const o=null==i?void 0:i.find(e=>e===t);return!((null==i?void 0:i.length)&&!o)};class Oe extends Error{constructor(e){super(`4 - ${e}`)}}class Ne extends Error{constructor(e){super(`6 - ${e}`)}}class Ie extends Error{constructor(e){super(`8 - ${e}`)}}class Re extends Error{constructor(e){super(`5 - ${e}`)}}class Pe extends Error{constructor(e){super(`9 - ${e}`)}}class be{constructor(e){this.excluded=!1,this.isInitialized=!1,this.isActive=!1;const{settings:t,companyKey:n,widgetKey:i,tracker:o,funStorage:r,user:s,parentCompanyKey:a,infrastructureParams:c,sentry:l,distribution:d,allowExperiments:u=!0}=e;this.sentry=l,this.companyKey=n,this.parentCompanyKey=a,this.widgetKey=i,this.tracker=o,this.funStorage=r,this.user=s,this.infrastructureParams=c;const{experimentId:p,name:h,disabledAccounts:m,enabledAccounts:E,enabled:g,enabledWidgets:f}=t;this.name=h,this.experimentId=p,this.disabledAccounts=m,this.enabledAccounts=E,this.enabledWidgets=f,this.disabledWidgets=t.disabledWidgets,this.settings=t,this.enabled=g,this.distribution=d;const T=Array.isArray(window.FUN_DISABLED_EXPERIMENTS)?window.FUN_DISABLED_EXPERIMENTS:[];this.globalDisabled=!u||window.FUN_DISABLE_EXPERIMENTS||-1!==T.indexOf(p)}get isExperimentEnabled(){return((e,t)=>{var n;if(!t)return!1;const{enabled:i,experimentId:o}=t,r=e.get(),s=r&&(null===(n=r.settings[o])||void 0===n?void 0:n.enabled);return i||Boolean(s)})(this.funStorage,this.settings)}getDebugPanelEnabled(){var e,t;const n=null===(e=this.funStorage.get())||void 0===e?void 0:e.settings;return Boolean(n&&(null===(t=n[this.experimentId])||void 0===t?void 0:t.enabled))}get active(){return this.isActive}get variantName(){return this.distribution.currentVariantName}get variantKey(){return this.distribution.currentVariantKey}start(e){if(!this.checkDisabled()&&(this.isInitialized=this.init(),this.isInitialized)){this.activate();const e=this.getTags();this.tracker.setEventTags(e)}}getTags(){const e=[this.experimentId,`${this.experimentId}-${this.variantName}`];return this.excluded&&e.push(`${this.experimentId}-exclusion`),e}isVariant(e){return this.variantKey===e}setVariant(e,t=!0){this.distribution.setVariant(e),this.excluded=t;const n=[this.experimentId];this.tracker.removeEventTags(n);const i=this.getTags();this.tracker.setEventTags(i)}restoreVariant(){this.distribution.previousVariantName&&this.setVariant(this.distribution.previousVariantName,!1)}exposure(){this.isActive&&this.tracker.customTrack({type:"testGroupExposed",data:{exclusion:this.excluded,experimentId:this.experimentId,variantName:this.variantName}})}init(){var e,t,n,i;const o=this.getDebugPanelVariant();if(o.variant&&o.enabled)return this.setVariant(o.variant),!0;if(o.enabled&&!o.variant&&(this.excluded=!0),!Ce(this.settings,this.companyKey))return!1;const r=null===(e=this.enabledWidgets)||void 0===e?void 0:e.find(e=>e===this.widgetKey);if((null===(t=this.enabledWidgets)||void 0===t?void 0:t.length)&&!r)return!1;const s=null===(n=this.disabledWidgets)||void 0===n?void 0:n.find(e=>e===this.widgetKey);return!((null===(i=this.disabledWidgets)||void 0===i?void 0:i.length)&&s||(this.distribution.initCurrentVariantName(),0))}activate(){this.isActive?this.sentry.captureException(new Oe(this.name)):this.isActive=!0}checkDisabled(){const e=this.getDebugPanelExperimentsSettings();if(e){const t=e[this.experimentId];if(t&&t.enabled)return!1}return!this.enabled||this.globalDisabled}getDebugPanelExperimentsSettings(){const e=this.funStorage.get();return"object"!=typeof e?(this.sentry.captureException(new Ne(e)),null):(null==e?void 0:e.settings)||null}getDebugPanelVariant(){var e;const t=null===(e=this.funStorage.get())||void 0===e?void 0:e.settings;if(!t)return{enabled:!1};const n=t[this.experimentId];return n&&(null==n?void 0:n.enabled)?{enabled:!0,variant:n.variant}:{enabled:!1}}}var Le,De,xe,Me,ke,Ue;(Ue=Le||(Le={})).CARD="creditCard",Ue.APPLE_PAY="applePay",Ue.GOOGLE_PAY="googlePay",Ue.CLICK_TO_PAY="clickToPay",Ue.ACH="ach",Ue.PLAID="plaid",Ue.PAYPAL="paypal",Ue.VENMO="venmo",Ue.AU_BECS="auBecsDebit",Ue.UK_BACS="ukBacs",Ue.ACSS="acss",Ue.SEPA="sepa",Ue.IDEAL="ideal",Ue.CRYPTO="crypto",Ue.STOCK="stock",Ue.US_BANK_ACCOUNT="usBankAccount",function(e){e.PAN_ONLY="PAN_ONLY",e.CRYPTOGRAM_3DS="CRYPTOGRAM_3DS"}(De||(De={})),function(e){e.AMEX="AMEX",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.VISA="VISA"}(xe||(xe={})),function(e){e.FUNDRAISING_PAGE="fundraisingPage",e.REDIRECT="redirect",e.THANK_YOU_SCREEN="thankYouScreen"}(Me||(Me={})),function(e){e.NONE="none",e.GENERAL="general",e.CUSTOMIZED="customized"}(ke||(ke={}));const Ge=[Le.CARD,Le.APPLE_PAY,Le.GOOGLE_PAY,Le.PAYPAL,Le.VENMO,Le.US_BANK_ACCOUNT,Le.CRYPTO];class Fe extends be{tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted({isMobile:e,company:t,resolveData:n}){const{campaign:i,company:o}=n;return!(!e||!we(t.country)||i.config.showMailing||i.config.showDouble||i.config.donationTypes.crypto.enabled||!(e=>{const t=Object.keys(e).filter(t=>e[t]);return!!t.length&&t.every(e=>Ge.includes(e))})(o.paymentOptions)||n.fundraisingPage||i.config.consent.type===ke.CUSTOMIZED)}get isTestGroup(){return this.isActive&&this.isVariant(N.TEST)}tryTrackStart(){this.isActive&&this.tracker.customTrack({type:"steplessCheckoutExperimentStarted",data:{variantName:this.variantName,exclusion:this.excluded}})}}var Ke;!function(e){e.IN_HONOR_MEMORY="inHonorMemory",e.DEDICATION="dedication"}(Ke||(Ke={}));const Be=e=>"string"==typeof e&&""!==e.trim()?e:void 0,Ve=e=>"no"!==e.fundraiseupLivemode&&("boolean"!=typeof window.fundraiseup_livemode||window.fundraiseup_livemode);function He(e,t){let n=t;return e.isWidgetCustomHash(t)&&(n=e.getWidgetKeyByCustomHash(t)||t),n.toUpperCase()}const je="pageView",Xe="pageLeave",Ye="customEvent",ze="dataLayer",We="fun_test";var $e,qe,Je;!function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.TOP_LOCATIONS="topLocations",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.FUNDRAISING_PAGE_INVITE_LINK="fundraisingPageInviteLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting",e.JS_API="jsApi"}($e||($e={}));class Ze{constructor(){this.payload={}}merge(e){const t={};for(const n in e)t[n]=e[n];for(const e in this.payload)t[e]=this.payload[e];var n;!e.elementType||(n=e.elementType)&&Object.values($e).includes(n)||delete t.elementType,this.payload=t,e.eventComment&&this.mergeEventComment(e.eventComment)}validate(){return!(!this.payload.companyKey||8!==this.payload.companyKey.length||!this.payload.clientId||!this.eventType)}toObject(){const e={};for(const t in this.payload)e[t]=this.payload[t];return this.payload.eventComment&&(e.eventComment=JSON.stringify(this.payload.eventComment)),e.eventType=this.eventType,e}mergeEventComment(e){this.payload.eventComment||(this.payload.eventComment={}),Object.assign(this.payload.eventComment,e)}}class Qe extends Ze{constructor(e){if(super(),this.payload={widgetKey:e.widgetKey,elementKey:e.elementKey,elementType:e.elementType,elementLocale:e.elementLocale,elementReminderKey:e.elementReminderKey,splitTestName:e.splitTestName,splitTestVariant:e.splitTestVariant,fundraisingPageKey:e.fundraisingPageKey,fundraisingPageCustomerKey:e.fundraisingPageCustomerKey,eventComment:e.eventComment},e.getElementTrackingData){const t=e.getElementTrackingData();t&&(this.payload.elementData=JSON.stringify(t))}else e.elementData&&(this.payload.elementData=JSON.stringify(e.elementData))}}class et extends Qe{get eventType(){return"elementOpenCheckout"}}class tt extends Qe{constructor(e,t){super(e),t&&t.elementPartName&&this.merge({eventComment:{source:t.elementPartName}})}get eventType(){return"elementClick"}}class nt extends Ze{constructor(e){super(),this.merge({customEventType:e.customEventType,customEventData:JSON.stringify(e.customEventData)})}get eventType(){return Ye}}function it({tracker:e,keysKeeper:t,widgetKey:n,splitTestVariant:i,splitTestName:o,elementKey:r,elementType:s}){return e.track(new et({widgetKey:t?He(t,n):n,splitTestName:o,elementKey:r,elementType:s,splitTestVariant:i}))}!function(e){e.TOP_LEVEL_DOMAIN="topLevelDomain",e.INTENT="intent",e.MESSAGE_BAR="messageBar",e.SOCIAL_PROOF="socialProof",e.POPUP="popup",e.SESSION_AT="sessionAt",e.SESSION_PAGE="sessionPage",e.X_FACTOR="xFactor",e.LIGHTBOX="lightbox",e.LAST_SUCCESS_DONATION_AT="lastSuccessDonationAt",e.FLOATING_BUTTON_POPUP_SHOWN="floatingButtonPopupShown",e.GIFT_CATALOG_CART_ITEMS="giftsCatalogCartItems"}(qe||(qe={})),function(e){e.EN_US="en-US",e.EN_GB="en-GB",e.EN_CA="en-CA",e.FR_CA="fr-CA",e.FR_FR="fr-FR",e.ES="es",e.NL="nl",e.NO="no",e.DE="de",e.DE_X_INFORMAL="de-x-informal",e.FI_FI="fi-FI",e.AR_001="ar-001",e.SV="sv",e.IT="it",e.PT_PT="pt-PT",e.PT_BR="pt-BR",e.ZH_CN="zh-CN",e.ZH_TW="zh-TW",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU_RU="ru-RU",e.ES_US="es-US",e.PL_PL="pl-PL"}(Je||(Je={}));const ot=[Je.EN_US,Je.EN_GB,Je.EN_CA,Je.FR_CA,Je.FR_FR,Je.ES,Je.NL,Je.NO,Je.DE,Je.FI_FI,Je.SV,Je.IT,Je.PT_PT,Je.PT_BR,Je.AR_001,Je.ZH_CN,Je.ZH_TW,Je.JA,Je.KO,Je.HU,Je.DA,Je.ES_US,Je.PL_PL,Je.DE_X_INFORMAL,Je.RU_RU],rt=[Je.AR_001];var st,at;function ct(e,t,n){return e.replace(new RegExp(t,"g"),n)}function lt(e){return e.split("-")[0]}(at=st||(st={})).LTR="ltr",at.RTL="rtl";const dt={"&amp;":"&"};function ut(e){let t=e;for(const n in dt)Object.prototype.hasOwnProperty.call(dt,n)&&e.includes(n)&&(t=ct(t,n,dt[n]));return t}function pt(e,t=!1){return!t&&function(e){return rt.includes(e)}(e)?st.RTL:st.LTR}function ht(e){const t=e.split("-");if(t.length<2)return!1;const n=t.indexOf("x");return-1===n||n>1}var mt=s("./src/shared/common/embed/helpers.ts");const Et="_lang";var gt;!function(e){e.URL="URL",e.WINDOW="WINDOW",e.URL_MATCHING="URL_MATCHING",e.BROWSER="BROWSER"}(gt||(gt={}));var ft,Tt,_t;class vt{constructor(e){this.checkoutTypes=e.checkoutTypes,this.donorPortalUrl=e.donorPortalUrl,this.window=e.window,this.campaignKey=e.campaignKey,this.customHash=e.customHash,this.hasBenefits=e.hasBenefits||!1}shouldRedirect(){var e,t;return!(!this.donorPortalUrl||!(null===(e=this.checkoutTypes)||void 0===e?void 0:e.campaignPage)||!this.hasBenefits&&(null===(t=this.checkoutTypes)||void 0===t?void 0:t.checkoutModal))}getCampaignPageUrl(){if(!this.donorPortalUrl)return"";const e=this.customHash||this.campaignKey;return function(e,t){const n=new URL(`${e}/page/${t}`);return n.toString()}(this.donorPortalUrl,e)}openCampaignPage(e){return t=this,n=void 0,o=function*(){const{searchParams:t,elementType:n,element:i,checkoutData:o,checkoutIntent:r,elementTitle:s,elementName:a,elementLocale:c}=e||{},l=this.getCampaignPageUrl();if(!l)return;const d=new URL(l),u=null!=t?t:new URLSearchParams;u.set("embedClientId",e.clientId),u.set("eventTags",e.tags.join(",")),n&&u.set("elementType",n),s&&u.set("elementTitle",s),a&&u.set("elementName",a),c&&u.set("elementLocale",c),i&&u.set("element",i),(null==o?void 0:o.fundraiser)&&u.set("fundraiser",o.fundraiser),o&&u.set("elementCheckoutData",this.encodeCheckoutData(o)),r&&u.set("checkoutIntent",this.encodeCheckoutData(r)),this.donorPortalUrl===this.window.location.origin&&u.set("fromDonorPortal","1"),e.locale.source&&[gt.URL,gt.WINDOW].includes(e.locale.source)&&u.set(Et,e.locale.code);const p=d.toString(),h=(0,mt.i)(u),m=h?`?${h}`:"";(function(){const e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);return Boolean(e)})()&&(yield new Promise(e=>setTimeout(e,200))),this.window.location.href=`${p}${m}`},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,a)}c((o=o.apply(t,n||[])).next())});var t,n,i,o}encodeCheckoutData(e){const t=JSON.stringify(e),n=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(e,t)=>{const n=parseInt(t,16);return String.fromCharCode(n)});return btoa(n)}}!function(e){e[e.INTERNAL_API_INITIALIZED=1]="INTERNAL_API_INITIALIZED",e[e.INIT=2]="INIT",e[e.TRY_TO_OPEN_BY_DIRECT_LINK=3]="TRY_TO_OPEN_BY_DIRECT_LINK",e[e.TRY_TO_OPEN_BY_URL=4]="TRY_TO_OPEN_BY_URL",e[e.TRY_TO_OPEN_BY_ELEMENT_KEY_URL=5]="TRY_TO_OPEN_BY_ELEMENT_KEY_URL",e[e.TRY_TO_OPEN_BY_FUNDRAISER_KEY_URL=6]="TRY_TO_OPEN_BY_FUNDRAISER_KEY_URL",e[e.EMIT_EVENT=7]="EMIT_EVENT",e[e.GOT_ELEMENT_RESPONSE=8]="GOT_ELEMENT_RESPONSE",e[e.GOT_GLOBAL_ELEMENTS_RESPONSE=9]="GOT_GLOBAL_ELEMENTS_RESPONSE",e[e.TRY_TO_RENDER_NON_RENDERED_GLOBAL_ELEMENTS=10]="TRY_TO_RENDER_NON_RENDERED_GLOBAL_ELEMENTS",e[e.FIND_ELEMENTS=11]="FIND_ELEMENTS",e[e.EXTRACT_NODE_PARAMS=12]="EXTRACT_NODE_PARAMS",e[e.CREATE_ELEMENTS_PARAMS=13]="CREATE_ELEMENTS_PARAMS",e[e.RESOLVE_FUNDRAISING_PAGE=14]="RESOLVE_FUNDRAISING_PAGE",e[e.RESOLVE_KEYS=15]="RESOLVE_KEYS",e[e.EMPTY_RESOLVE_REQUEST=16]="EMPTY_RESOLVE_REQUEST",e[e.SEND_RESOLVE_REQUEST=17]="SEND_RESOLVE_REQUEST",e[e.GOT_RESOLVE_RESPONSE=18]="GOT_RESOLVE_RESPONSE",e[e.DOM_OBSERVER_INIT=19]="DOM_OBSERVER_INIT",e[e.CONSENT_API_INITIALIZED=20]="CONSENT_API_INITIALIZED",e[e.CONSENT_API_UPDATE=21]="CONSENT_API_UPDATE",e[e.CONSENT_API_DISABLED=22]="CONSENT_API_DISABLED",e[e.CONSENT_API_ERROR=23]="CONSENT_API_ERROR",e[e.FIND_GIFT_CATALOGS=24]="FIND_GIFT_CATALOGS",e[e.LOADED_GIFT_CATALOG=25]="LOADED_GIFT_CATALOG",e[e.OPEN_GIFT_CART=26]="OPEN_GIFT_CART",e[e.OPEN_GIFT_CHECKOUT=27]="OPEN_GIFT_CHECKOUT"}(ft||(ft={})),function(e){e.ONLY_CAMPAIGN_PAGES="onlyCampaignPages",e.ONLY_CHECKOUT_MODAL="onlyCheckoutModal",e.BOTH_TYPES="bothTypes"}(Tt||(Tt={})),function(e){e.WIDGET="widget",e.URL="url",e.NOWHERE="nowhere"}(_t||(_t={}));var yt=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};const At=(e,t,r,s,a,c,l,d,u,p,h,m,E,g,f)=>{let T=null;h.register(i.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT,Fe);const _=h.get(i.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT);let v=!1,y=null;const A=e=>!!(r.inactiveWidgets||[]).find(([t,n])=>t===e||n===e),S=t=>yt(void 0,void 0,void 0,function*(){return e.needResolve(t)?new Promise(e=>{setTimeout(e,600)}):Promise.resolve()}),w=(e,t,n,i,o)=>yt(void 0,void 0,void 0,function*(){try{yield Promise.all([I(e,t,n,i,o),S(t)])}catch(e){v=!1,G(),console.error(e)}}),C=(e,...t)=>yt(void 0,[e,...t],void 0,function*(e,t={},n){var i,o,s;if(v)return;const a=Ve(r.queryParams||{}),l=Date.now();y=l;const d=null===(s=null===(o=null===(i=t.launcher)||void 0===i?void 0:i.checkoutInitialData)||void 0===o?void 0:o.campaign)||void 0===s?void 0:s.fundraiser,u=He(c,e),p=[u,d].filter(e=>Boolean(e));return c.isWidgetKeyExists(p)?""===e&&d?((e,t,n,i)=>yt(void 0,void 0,void 0,function*(){v=!0,U("",t),yield w("",e,t,n,i)}))([d],a,t,l):((e,t,n,i,o,r,s)=>yt(void 0,void 0,void 0,function*(){A(e)?x(r,e):F(e)?yield R(e,i,s):(v=!0,U(e,n),yield w(e,t,n,i,o))}))(u,p,a,t,l,r.currentCompany,n):void 0}),O=(t,n,i)=>yt(void 0,void 0,void 0,function*(){var o,r,s;const a=(null===(r=null===(o=i.launcher)||void 0===o?void 0:o.element)||void 0===r?void 0:r.type)===ve.DIRECT_LINK,c=yield e.resolveKeys({keys:t,livemode:n,externalQueryParams:i.queryParams,isDirectOpen:a});if(null===(s=null==c?void 0:c.campaign)||void 0===s?void 0:s.key){const e=c.campaign.key;if(c.forceCampaignPageOpen||F(e)){const t=new URLSearchParams(i.queryParams||{});return t.delete("form"),yield R(e,i,t),c}}return c}),N=e=>g().load({widgetKey:e,locale:r.locale.code,source:_e.CHECKOUT}),I=(e,n,i,o,s)=>yt(void 0,void 0,void 0,function*(){var a;const[h]=yield Promise.all([O(n,i,o)]),g=B(h)||V();_.tryTrackStart();let T=P,v=m;g&&(T=b,v=E),yield T(),d.emit("checkoutBeforeOpen",void 0);const y=yield v()(l,t,c,d,p,{resolvedConfig:h,trackingUrls:r.server.trackingUrls,currencyRates:r.data.currencyRates,env:r.server.env,pendingRequests:{goals:N(h.campaign.key)},paymentMethods:r.paymentMethods,livemode:r.livemode,isMobile:r.isMobile,isMobileSafari16:r.deviceData.isMobileSafari16,showcase:!1,externalParams:o,integrations:r.integrations,localeCode:r.locale.code,userMeta:null===(a=r.meta)||void 0===a?void 0:a.user,infrastructureQueryParams:null==r?void 0:r.queryParams,checkoutOpenTimestamp:s,htmlElementStyleManager:u,embedVersion:r.version,mainDomain:r.server.mainDomain,experimentsConfig:r.experimentsConfig,browserData:r.browserData,isDebugMode:r.isDebugMode,isFundraiseupVisitor:r.isFundraiseupVisitor,isAbTestMode:r.abTestDemoMode,steplessCheckoutExperimentVariant:_.variantName,steplessCheckoutExperimentExcluded:_.excluded,fromDonorPortal:r.fromDonorPortal,initialMarketingCookieConsent:f.getUserSessionConsent()});y&&D({checkoutApi:y,key:e,options:o,isLivemode:i})}),R=(e,t,n)=>yt(void 0,void 0,void 0,function*(){var i,o,s,a,c,d,u,p,h,m,E,g,f,T,_;const v=n||new URL(window.location.href).searchParams,y=null===(o=null===(i=t.launcher)||void 0===i?void 0:i.element)||void 0===o?void 0:o.customHash,A=new vt({donorPortalUrl:r.staticConfig.donorPortalUrl,window,campaignKey:e,customHash:y}),S=null===(c=null===(a=null===(s=t.launcher)||void 0===s?void 0:s.checkoutInitialData)||void 0===a?void 0:a.campaign)||void 0===c?void 0:c.fundraiser,w=S?{checkoutData:{fundraiser:S}}:void 0;yield A.openCampaignPage(Object.assign({elementType:null===(u=null===(d=null==t?void 0:t.launcher)||void 0===d?void 0:d.element)||void 0===u?void 0:u.type,elementTitle:null===(h=null===(p=null==t?void 0:t.launcher)||void 0===p?void 0:p.element)||void 0===h?void 0:h.title,elementName:null===(E=null===(m=null==t?void 0:t.launcher)||void 0===m?void 0:m.element)||void 0===E?void 0:E.name,elementLocale:null===(f=null===(g=null==t?void 0:t.launcher)||void 0===g?void 0:g.element)||void 0===f?void 0:f.locale,element:null===(_=null===(T=null==t?void 0:t.launcher)||void 0===T?void 0:T.element)||void 0===_?void 0:_.key,checkoutIntent:null==t?void 0:t.intent,searchParams:v,clientId:l.clientId,tags:l.getTags(),locale:r.locale},w))}),P=()=>yt(void 0,void 0,void 0,function*(){const e=r.server.checkoutAssets.scripts.filter(e=>!(e.includes("checkout-rtl-styles")&&L()===st.LTR||e.includes("checkout-styles")&&L()===st.RTL));yield Promise.all(e.map(e=>n(e)))}),b=()=>yt(void 0,void 0,void 0,function*(){const e=r.server.checkoutSteplessAssets.scripts.filter(e=>!(e.includes("checkout-stepless-rtl-styles")&&L()===st.LTR||e.includes("checkout-stepless-styles")&&L()===st.RTL));yield Promise.all(e.map(e=>n(e)))}),L=()=>pt(r.locale.code),D=e=>{const{checkoutApi:t,key:n,options:i}=e;t.on("close",e=>{const{shouldReopen:t,tributeSelected:o}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(e,["shouldReopen","tributeSelected"]);v=!1,M("checkoutClose",r),t?window.setTimeout(()=>{var e,t,r;const s=Object.assign(Object.assign({},i),{launcher:Object.assign(Object.assign({},i.launcher),{checkoutInitialData:Object.assign(Object.assign({},null===(e=i.launcher)||void 0===e?void 0:e.checkoutInitialData),{tribute:Object.assign(Object.assign({},null===(r=null===(t=i.launcher)||void 0===t?void 0:t.checkoutInitialData)||void 0===r?void 0:r.tribute),{isSelected:o})})})});C(n,s)},300):s.remove()}),t.on("checkoutIntent",e=>{M("checkoutIntent",e)}),t.on("donationComplete",e=>{M("donationComplete",e),k()});const o=t.getOpenParams();M("checkoutOpen",o),setTimeout(()=>{G()},150)},x=(e,t)=>{const n=e.disabledWidgets.redirectTo;if(n===_t.WIDGET)return A(e.disabledWidgets.widgetKey)?void s.remove(!0):void C(e.disabledWidgets.widgetKey);n===_t.URL&&window.location.assign(e.disabledWidgets.url),s.remove(!0),console.warn(`Campaign is not active | Widget ${t} is archived`)},M=(e,n)=>{t.logCode(ft.EMIT_EVENT,{event:e,payload:n}),setTimeout(()=>{try{d.emit(e,n)}catch(e){console.error(e)}},0)},k=()=>{p.setField(qe.LAST_SUCCESS_DONATION_AT,Date.now())},U=(e,t)=>{const n=pt(r.locale.code)===st.RTL;s.render({source:ye.CHECKOUT}),a.render({campaignKey:e,isMobile:r.isMobile,isLivemode:t,isRtl:n})},G=()=>{a.hide()},F=e=>!!K(e),K=e=>c.getCheckoutType(e)===Tt.ONLY_CAMPAIGN_PAGES,B=e=>(_.tryStart({isMobile:r.isMobile,company:r.currentCompany,resolveData:e}),_.isTestGroup),V=()=>r.server.env!==fe.PRODUCTION&&"true"===new URL(window.location.href).searchParams.get("stepless");return{getLatestStartOpenCheckoutTimestamp:()=>y,open:C,createShowcase:(e,n,i,o,s)=>(e.config.cryptoCurrencies=n,P().then(()=>{var n;return m()(l,t,c,d,p,{trackingUrls:r.server.trackingUrls,env:r.server.env,resolvedConfig:e,currencyRates:r.data.currencyRates,paymentMethods:r.paymentMethods,integrations:r.integrations,localeCode:r.locale.code,userMeta:null===(n=r.meta)||void 0===n?void 0:n.user,infrastructureQueryParams:null==r?void 0:r.queryParams,showcase:!0,isMobile:!1,isMobileSafari16:!1,livemode:!1,externalParams:{},checkoutOpenTimestamp:0,node:o,initialScreen:s,htmlElementStyleManager:u,embedVersion:r.version,mainDomain:r.server.mainDomain,experimentsConfig:{experiments:[]},browserData:r.browserData,isDebugMode:r.isDebugMode,isFundraiseupVisitor:r.isFundraiseupVisitor,isAbTestMode:r.abTestDemoMode,fromDonorPortal:r.fromDonorPortal},i)})),preloadCheckout:()=>{window.FUN_DISABLE_PRELOADING||(()=>{const e=r.experimentsConfig.experiments.find(e=>e.experimentId===o[i.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT]);return function(e,t,n,i){if(!i||!i.enabled)return!1;const o=Ce(i,e),r=we(t);return o&&n&&r}(r.currentCompany.key,r.currentCompany.country,r.isMobile,e)?()=>Promise.all([P(),b()]).then():P})()()},on:(e,t)=>{d.on(e,t)},emit:M,openCheckout:(e,t)=>{const{checkoutExternalParams:n,campaignPageSearchParams:i}=(e=>{var t,n,i,o,r,s,a,c,l,d,u;if(!e)return{checkoutExternalParams:{launcher:{element:{type:ve.JS_API}}}};const p=e.customFields,h=Be(e.fundraiser),m=Be(null===(t=e.donation)||void 0===t?void 0:t.recurring),E=Be(null===(n=e.donation)||void 0===n?void 0:n.currency),g="number"==typeof(f=null===(i=e.donation)||void 0===i?void 0:i.amount)&&Number.isFinite(f)?f:void 0;var f;const T=null===(o=e.config)||void 0===o?void 0:o.modifyAmount,_=Be(null===(s=null===(r=e.designations)||void 0===r?void 0:r[0])||void 0===s?void 0:s.id),v=null===(a=e.config)||void 0===a?void 0:a.modifyDesignation,y=Be(null===(c=e.tribute)||void 0===c?void 0:c.honoree),A=Be(null===(l=e.supporter)||void 0===l?void 0:l.firstName),S=Be(null===(d=e.supporter)||void 0===d?void 0:d.lastName),w=Be(null===(u=e.supporter)||void 0===u?void 0:u.email),C={queryParams:{fundraiser:h},launcher:{element:{type:ve.JS_API,customFields:p?Object.entries(p).map(([e,t])=>({name:e,value:t})):void 0},checkoutInitialData:{campaign:{fundraiser:h},donation:{frequency:m,currency:E,amount:void 0!==g?Math.round(100*g):void 0,isAmountEditable:T},designation:{id:_,isEditable:v},tribute:{inHonorOf:y,labelType:y?Ke.IN_HONOR_MEMORY:void 0},supporter:{firstName:A,lastName:S,email:w}}}},O=new URLSearchParams;if(h&&O.set("fundraiser",h),m&&O.set("recurring",m),E&&O.set("currency",E),void 0!==g&&O.set("amount",g.toString()),void 0!==T&&O.set("modifyAmount",T?"yes":"no"),_&&O.set("designationId",_),void 0!==v&&O.set("modifyDesignation",v?"yes":"no"),y&&O.set("tributeHonoree",y),A&&O.set("firstName",A),S&&O.set("lastName",S),w&&O.set("email",w),p)for(const[e,t]of Object.entries(p))O.set(e,t);return{checkoutExternalParams:C,campaignPageSearchParams:O}})(t);it({tracker:l,widgetKey:e,keysKeeper:c,elementType:ve.JS_API,elementKey:"",splitTestName:"",splitTestVariant:""}),C(e,n,i)},setOpenedCheckoutElementId:e=>{T=e},getLastOpenedCheckoutElementId:()=>T}};class St{static isLocaleCode(e){return void 0!==e&&ot.includes(e)}constructor(e,t,n,i,o,r,s){this.translationService=e,this.dateFormatter=t,this.currencyFormatter=n,this.numberFormatter=i,this.company=o,this.donateToPayTokens=r,this._locale=St.DEFAULT_LOCALE,this._donateToPayCompanyKeys=["AFJCHFEK","APRQUTCN"],this.availableLocales=s.availableLocales,this.locale=s.locale,this.company=o,this.donateToPayTokens=r,this.dateFormatter.intl=this}get locale(){return this._locale}get language(){return this.locale.split("-")[0]}getCurrencyFormat(){return this.currencyFormatter.getFormat()}setLocale(e){const t=this.locale;this.locale=e;const n=[this.translationService.changeLocale(this.locale)];return Promise.all(n).then(()=>this.locale).catch(e=>(this.locale=t,Promise.reject(e))).finally(()=>{this.dateFormatter.changeLocale(this.locale),this.currencyFormatter.changeLocale(this.locale),this.numberFormatter.changeLocale(this.locale)})}translate(e,t){const n=ut(this.translationService.translate(e,t));return this.replaceDonateToPay(e,n)}safeTranslate(e,t){const n=ut(this.translationService.safeTranslate(e,t));return this.replaceDonateToPay(e,n)}formatDate(e,t){return this.dateFormatter.format(e,t)}formatCurrency(e,t){return this.currencyFormatter.format(e,t)}formatAmount(e){return this.currencyFormatter.formatAmount(e)}formatSymbol(e,t){return this.currencyFormatter.formatCurrencySymbol(e,t)}formatNumber(e,t){return this.numberFormatter.format(e,t)}isLocaleAvailable(e){return this.availableLocales.some(t=>t===e)}replaceDonateToPay(e,t){if(this._donateToPayCompanyKeys.includes(this.company)&&this.locale===Je.EN_US&&this.donateToPayTokens.includes(e)){const e={donations:"payments",Donations:"Payments",Donating:"Paying",donating:"paying",donation:"payment",Donation:"Payment",Donate:"Pay",donate:"pay"};return t.replace(/donations|Donations|Donating|donating|donation|Donation|Donate|donate/g,t=>e[t])}return t}set locale(e){this.isLocaleAvailable(e)?this._locale=e:this._locale=St.DEFAULT_LOCALE}}let wt;function Ct(e,t){if("test"===e)return Ot();const n=St.isLocaleCode(e);return{code:n?e:St.DEFAULT_LOCALE,source:n?t:void 0,isTest:!1}}function Ot(){return{code:St.DEFAULT_LOCALE,isTest:(void 0===wt&&(wt=!1),wt)}}function Nt(e,t){return{code:e,source:t,isTest:!1}}var It;St.DEFAULT_LOCALE=Je.EN_US,function(e){e.DONOR="donor",e.EMBED="embed",e.TEST="test"}(It||(It={}));class Rt{static get(e){switch(e){case It.DONOR:return Ct;case It.EMBED:return Nt;case It.TEST:return Ot;default:throw new Error(`13 ${e}`)}}}function Pt(e){const t="^"+e.replace(/([[\]{}()+?.^$|\\/])/g,"\\$1").replace(/\*/g,".*")+"$";return new RegExp(t)}const bt=[Je.DE_X_INFORMAL],Lt={[Je.DE]:Je.DE_X_INFORMAL},Dt={[Je.DE_X_INFORMAL]:Je.DE},xt=["HRMEIGNS","ASMHWLHL"];class Mt{static initializeUserLocales(e,t){return e.map(e=>this.initializeUserLocale(e,t))}static initializeUserLocale(e,t){const n=xt.includes(t.companyKey);if(bt.includes(e))return n?e:Dt[e];const i=Lt[e];return i&&n?i:e}static getOriginalLocale(e){return e&&Dt[e]?Dt[e]:e}static isPrivateUseLocale(e){return bt.includes(e)}}class kt{constructor(e,t){this.locale=e,this.localizationConfig=t,this.next=null}setNext(e){this.next=e}handle(){return this.retrieveLocale()||(this.next?this.next.handle():null)}}class Ut extends kt{retrieveLocale(){if(e=this.locale,!ot.includes(e))return null;var e;if(this.localizationConfig.interfaceLocales.includes(this.locale))return this.locale;if(Mt.isPrivateUseLocale(this.locale)){const e=Mt.getOriginalLocale(this.locale);if(e&&this.localizationConfig.interfaceLocales.includes(e))return this.locale}return null}}class Gt extends kt{retrieveLocale(){var e;return(e=this.locale,this.localizationConfig.interfaceLocales.find(t=>lt(e)===lt(t)))||null}}class Ft extends kt{retrieveLocale(){return lt(this.locale)===lt(this.localizationConfig.defaultLocale)?this.localizationConfig.defaultLocale:null}}var Kt,Bt;!function(e){e.EN="en",e.ES="es",e.FR="fr",e.NL="nl",e.NO="no",e.DE="de",e.FI="fi",e.AR="ar",e.SV="sv",e.IT="it",e.PT="pt",e.ZH="zh",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU="ru",e.PL="pl"}(Kt||(Kt={}));class Vt extends kt{retrieveLocale(){return lt(this.localizationConfig.defaultLocale)===Kt.EN?this.localizationConfig.defaultLocale:null}}class Ht extends kt{retrieveLocale(){return this.localizationConfig.interfaceLocales.find(e=>lt(e)===Kt.EN)||null}}!function(e){e.HA="ha",e.IU="iu",e.GD="gd",e.CY="cy",e.BR="br",e.SQ="sq",e.SC="sc",e.NB="nb",e.NN="nn",e.HY="hy",e.AZ="az",e.BE="be",e.CE="ce",e.ET="et",e.KK="kk",e.KY="ky",e.LV="lv",e.LT="lt",e.MN="mn",e.TG="tg",e.UK="uk",e.UZ="uz",e.EU="eu",e.CA="ca",e.GL="gl"}(Bt||(Bt={}));class jt extends kt{retrieveLocale(){const e=jt.fallbackLocales.get(this.locale);return e&&-1!==this.localizationConfig.interfaceLocales.indexOf(e)?e:null}}jt.fallbackLocales=new Map([[Bt.HA,Je.AR_001],[Bt.IU,Je.EN_CA],[Bt.GD,Je.EN_GB],[Bt.CY,Je.EN_GB],[Bt.BR,Je.FR_FR],[Bt.SQ,Je.IT],[Bt.SC,Je.IT],[Bt.NB,Je.NO],[Bt.NN,Je.NO],[Bt.HY,Je.RU_RU],[Bt.AZ,Je.RU_RU],[Bt.BE,Je.RU_RU],[Bt.CE,Je.RU_RU],[Bt.ET,Je.RU_RU],[Bt.KK,Je.RU_RU],[Bt.KY,Je.RU_RU],[Bt.LV,Je.RU_RU],[Bt.LT,Je.RU_RU],[Bt.MN,Je.RU_RU],[Bt.TG,Je.RU_RU],[Bt.UK,Je.RU_RU],[Bt.UZ,Je.RU_RU],[Bt.EU,Je.ES],[Bt.CA,Je.ES],[Bt.GL,Je.ES]]);class Xt extends kt{retrieveLocale(){return this.localizationConfig.defaultLocale}handle(){return this.retrieveLocale()}}function Yt(e,t,n){const i=new Ft(e,t),o=new Ut(e,t),r=new Gt(e,t),s=new jt(e,t),a=new Ht(e,t),c=new Xt(e,t),l=new Vt(e,t);return o.setNext(i),i.setNext(r),r.setNext(s),n&&(s.setNext(l),l.setNext(a),a.setNext(c)),o}class zt{constructor(e,t){this.locales=e,this.companyLocalizationConfig=t}getUILocale(){const e=new Xt(this.locales[0]||"",this.companyLocalizationConfig);if(!this.locales.length)return e.handle();return function(e,t){if(!e.length)return null;for(let n=0;n<e.length;n++){const i=Yt(e[n],t,n===e.length-1).handle();if(i)return i}return null}(this.locales,this.companyLocalizationConfig)||e.handle()}}class Wt{constructor(e){this.companyLocalizationSettings=e.companyLocalizationSettings,this.localeDetector=function(e){const t=e.currentUrl,n=e.queryParams,i=e.companyLocalizationSettings;return{detect:()=>{let o=n[Et],r=o?gt.URL:void 0;o||(o=e.window[Et],r=o?gt.WINDOW:void 0),!o&&i.matchURL&&(o=(()=>{let e;return i.urlRules.forEach(n=>{const i=Pt(n.url).test(t);!e&&i&&(e=n.locale)}),e})(),r=o?gt.URL_MATCHING:void 0),!o&&i.matchBrowserLocale&&(o=e.window.navigator.languages?[...e.window.navigator.languages]:e.window.navigator.language,r=o?gt.BROWSER:void 0);const s=(Array.isArray(o)?o:[o]).filter(Boolean);return{locale:Mt.initializeUserLocales(s,{companyKey:e.companyKey}),source:r}}}}({window:e.window,currentUrl:e.window.location.href,queryParams:e.queryParams,companyLocalizationSettings:e.companyLocalizationSettings,companyKey:e.companyKey})}getConfig(){const{source:e,locale:t}=this.localeDetector.detect();if(t.includes("test"))return Rt.get(It.TEST)();const n=(i=t).filter(e=>{if(!ht(e)){const t=lt(e);return!i.some(n=>n!==e&&lt(n)===t&&(ht(n)||n.includes("-")))}return!0});var i;const o=new zt(n,this.companyLocalizationSettings).getUILocale(),r=t.includes(o)?e:void 0;return Rt.get(It.EMBED)(o,r)}}var $t=s("../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs"),qt=s("../fun-storage/dist/webpack/funCookiesKeys.js"),Jt=s("./src/helpers/parseQueryParams.ts");function Zt(){return"loading"!==document.readyState?Promise.resolve():new Promise(e=>{document.addEventListener("DOMContentLoaded",()=>e())})}const Qt=[ve.STICKY_BUTTON,ve.MESSAGE_BAR,ve.LIGHTBOX,ve.FLOATING_BUTTON];var en;!function(e){e.ALL="all",e.DESKTOP_ONLY="desktopOnly",e.MOBILE_ONLY="mobileOnly"}(en||(en={}));const tn=["/","*"];function nn(e){let t=e.replace(/(\?.*)/,"").replace(/(#.*)/,"");const n=t.charAt(t.length-1);return-1===tn.indexOf(n)&&(t+="/"),t}const on=[ve.MESSAGE_BAR,ve.LIGHTBOX];const rn=e=>{const t=document.createElement("link");t.rel="preload",t.as="script",t.href=e,document.head.appendChild(t);const n=document.createElement("script");n.src=e,n.async=!0,document.head.appendChild(n),n.onload=()=>{document.head.removeChild(t),document.head.removeChild(n)},n.onerror=()=>{document.head.removeChild(t),document.head.removeChild(n)}},sn="XFUNDEBUGPANEL";class an extends be{constructor(){super(...arguments),this.baseUrl=""}isTestGroup(){return this.isActive&&this.isVariant(ue.TEST_1)}tryStart(e){this.baseUrl=e.elementsUrl,this.isActive||(super.start(),this.tryExpose())}getElementUrl(e){return this.isActive&&this.isTestGroup()?`${window.FUN_CDN||this.baseUrl.replace("static","cdn").replace(/\/embed-data\/?$/,"")}/elements-data/${e}.js`:`${this.baseUrl}elements/${e}.js`}tryExpose(){this.isActive&&this.exposure()}}var cn=s("./src/serviceContainer/getFrontendContainer.ts");let ln=null;function dn(){if(ln)return Promise.resolve(ln);const e=(0,cn.w)();return n(e.get(Ae.i.STATIC_CONFIG).elementsApiScriptUrl).then(()=>(ln=e.get(Ae.i.ELEMENTS_API),ln))}const un=[ve.FUNDRAISING_PAGE_LINK,ve.FUNDRAISING_PAGE_INVITE_LINK,ve.LINK,ve.DIRECT_LINK,ve.DEBUG_PANEL,ve.TEST_MODE_PANEL,ve.SPLIT_TESTING,ve.JS_API];class pn extends Ze{constructor(e){super(),this.payload.eventComment={elementsKeys:e.elementsKeys}}get eventType(){return"elementsDataLoadingError"}}var hn=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};function mn(e,t,n,o,r,s,a,c){const l=o.server.elementsUrl,d=[],u=new Map,p=new Map;let h=[];const m=new Map,E=[];let g;const f=()=>{window.addEventListener("popstate",S),window.addEventListener("hashchange",S);const e=history.pushState,t=history.replaceState;history.pushState=function(...t){const n=e.apply(this,t);return S(),n},history.replaceState=function(...e){const n=t.apply(this,e);return S(),n}},T=()=>{const n=e.findElements();n.forEach(e=>{const t=u.get(e.key)||[];u.set(e.key,[...t,e]),_(e)});const i=n.map(({key:e})=>e);t.addFundraisersKeys(i),O(n),w(i)},_=e=>{const i=t.exists("WIDGET",e.key||"");if(e.type!==ve.LINK||!e.node||!i)return;const o=i=>{var r,a,c,l,d,u,p;null===(r=e.node)||void 0===r||r.removeEventListener("click",o);const h=i.target;if(h){const e=h.getAttribute("href");e&&function({tracker:e,href:t}){e.track(new nt({customEventType:"urlOpenCheckout",customEventData:{href:t}}))}({tracker:s,href:e})}if(!(null===(a=e.node)||void 0===a?void 0:a.__funElement)&&(i.preventDefault(),i.stopPropagation(),e.key)){const i={queryParams:e.queryParams};if(e.node){const{test:t,variant:n}=(null===(c=window.FUN.splitTesting)||void 0===c?void 0:c.inspect(e.node))||{};t&&n&&(i.launcher={element:{splitTestName:t,splitTestVariant:n}})}const o={tracker:s,widgetKey:e.key,keysKeeper:t,elementKey:"",elementType:ve.LINK,splitTestVariant:(null===(d=null===(l=i.launcher)||void 0===l?void 0:l.element)||void 0===d?void 0:d.splitTestVariant)||"",splitTestName:(null===(p=null===(u=i.launcher)||void 0===u?void 0:u.element)||void 0===p?void 0:p.splitTestName)||""};!function({tracker:e,keysKeeper:t,widgetKey:n,splitTestVariant:i,splitTestName:o,elementKey:r="",elementType:s=ve.LINK}){e.track(new tt({widgetKey:t?He(t,n):n,elementKey:r,elementType:s,splitTestName:o,splitTestVariant:i}))}(o),it(o),n.open(e.key,i).catch(e=>console.error(e))}};e.node.addEventListener("click",o)},v=(e,t)=>dn().then(i=>{var r,s;i.addElements({elements:null!==(r=null==t?void 0:t.elements)&&void 0!==r?r:[],nodes:e,globalElements:null!==(s=null==t?void 0:t.globalElements)&&void 0!==s?s:[]}).then(()=>{o.disablePreloading||n.preloadCheckout()})}),y=e=>hn(this,void 0,void 0,function*(){const t=a.getUrlParamsForElement(e),n=Object.assign(Object.assign({},e),{externalConfig:t,data:null});(function(e){return!un.includes(e.type)})(e)&&(n.data=o.livemode?e.data.live:e.data.test);const i=[n],s={params:[e.key]};r.logCode(ft.GOT_ELEMENT_RESPONSE,{elements:i,info:s});const c=u.get(e.key);return c&&c.length?v(c,{elements:i}).then(()=>{u.delete(e.key),d.forEach(e=>e({elements:i},s))}):(d.forEach(e=>e({elements:i},s)),Promise.resolve())}),A=e=>{const t=o.deviceData.isMobileOrTablet;h.length||(h=e);const n=e.filter(e=>{const n=function(e,t){if(function(e){return-1!==Qt.indexOf(e.type)}(e)){if(e.config.deviceRestriction===en.DESKTOP_ONLY&&t)return!1;if(e.config.deviceRestriction===en.MOBILE_ONLY&&!t)return!1}return!0}(e,t),i=function(e,t=[],n=[]){const i=nn(e),o=0===t.length||t.some(e=>Pt(nn(e)).test(i)),r=n.some(e=>Pt(nn(e)).test(i));return o&&!r}(window.location.href,e.config.urlAllow,e.config.urlBlock),o=function(e){if(function(e){return-1!==on.indexOf(e.type)}(e)){const{displayStartDate:t,displayEndDate:n}=e.data.live;if(!t&&!n)return!0;const i=Date.now(),o=t?Date.parse(t):null,r=n?Date.parse(n):null;if(o&&!r)return i>=o;if(!o&&r)return i<=r;if(o&&r)return i>=o&&i<r}return!0}(e),r=n&&i&&o;return r&&p.set(e.key,e),r}).map(e=>Object.assign(Object.assign({},e),{data:o.livemode?e.data.live:e.data.test}));return r.logCode(ft.GOT_GLOBAL_ELEMENTS_RESPONSE,{globalElements:n}),o.livemode||n.push(Object.assign(Object.assign({},N()),{data:null})),d.forEach(e=>e({elements:[],globalElements:n})),v([],{elements:[],globalElements:n})},S=()=>hn(this,void 0,void 0,function*(){try{if(!h.length)return;const e=h.filter(e=>!p.has(e.key));if(!e.length)return;return r.logCode(ft.TRY_TO_RENDER_NON_RENDERED_GLOBAL_ELEMENTS,{globalElements:e}),A(e)}catch(e){}}),w=e=>{-1!==e.indexOf(sn)&&y({key:sn,type:ve.DEBUG_PANEL,name:"",config:{},data:{live:null,test:null}});const n=e.filter(e=>t.exists("ELEMENT",e)&&e!==sn).map(e=>({key:e,type:t.getElementType(e)}));return!!n.length&&(n.forEach(({key:e})=>C(e)),!0)},C=e=>{g||I(),g.tryStart({elementsUrl:l}),(e=>{const{src:t,onSuccess:n,onFail:i}=e,o=Date.now(),r=document.createElement("link");r.rel="preload",r.as="script",r.href=t,document.head.appendChild(r);const s=document.createElement("script");s.src=t,s.async=!0,document.head.appendChild(s),s.onload=()=>{const e=Date.now()-o;document.head.removeChild(r),document.head.removeChild(s),n&&n(e)},s.onerror=()=>{document.head.removeChild(r),document.head.removeChild(s),i&&i()}})({src:g.getElementUrl(e),onSuccess:t=>{m.set(e,t)},onFail:()=>{E.push(e)}})},O=e=>{-1!==e.map(({key:e})=>e).indexOf(sn)&&y({key:sn,type:ve.DEBUG_PANEL,name:"",config:{},data:{live:null,test:null}}),e.forEach(({type:e,key:t})=>{e!==ve.LINK&&e!==ve.FUNDRAISING_PAGE_LINK&&e!==ve.FUNDRAISING_PAGE_INVITE_LINK||y({key:t,type:e,name:"",config:{},data:{live:null,test:null}})})},N=()=>({type:ve.TEST_MODE_PANEL,key:"test-panel",name:"test-panel",config:{}}),I=()=>{const e=c().experiments;g=e.registerAndGet(i.CLOUDFLARE_WORKER_STRATEGY_FOR_ELEMENTS_EXPERIMENT,an),setTimeout(()=>{R()},2e4)},R=()=>{E.length&&s.track(new pn({elementsKeys:E}))};return{elementsUrl:l,initialize:()=>(I(),(()=>{let e=null,t=[],n=0;const i=e=>{[].forEach.call(e,e=>{const i=o(e);if(i&&i.length){if(t.push(...i),n)return;n=window.setTimeout(()=>{var e,i;n=0,null===(e=window.FUN.splitTesting)||void 0===e||e.init(),r.logCode(ft.DOM_OBSERVER_INIT),T(),null===(i=window.FUN.splitTesting)||void 0===i||i.reset(),t=[]},50)}})},o=e=>{const t=[];return e.addedNodes?([].forEach.call(e.addedNodes,e=>{if("A"===e.tagName)return void t.push(e);if(e.classList&&e.classList.contains("fun-widget"))return void t.push(e);if(!e.querySelectorAll)return;const n=e.querySelectorAll(".fun-widget, [href]");n&&[].forEach.call(n,e=>t.push(e))}),t):t};return{run:()=>{try{e=new MutationObserver(i),e.observe(document.documentElement,{childList:!0,subtree:!0})}catch(e){console.error(e)}}}})().run(),window.FUN_DISABLE_GLOBAL_ELEMENTS||rn(`${l}elements-global/${o.currentCompanyKey}.js`),Zt().then(()=>f()).then(()=>T()).catch(e=>console.error(e))),createElement:(e,t,n,...i)=>hn(this,[e,t,n,...i],void 0,function*(e,t,n,i=!0){try{const o=yield dn();return yield o.createElementByType(e,t,i,n)}catch(e){if("IframeRemovedError"===(null==e?void 0:e.name))return void console.warn("Element creation cancelled: iframe was removed from DOM");throw console.error("Error while creating element",e),e}}),onElementsLoad:e=>{d.push(e)},addElementContent:y,addGlobalElementsContent:A,getElements:w,getElementInstance:e=>dn().then(t=>t.getElementInstance(e)),getRenderedElementsByType:e=>dn().then(t=>t.getRenderedElementsByType(e)),checkWasOpenedByDirectUrl:()=>c().wasOpenedByDirectUrl,getElementDataLoadTime:e=>{var t;return null!==(t=m.get(e))&&void 0!==t?t:null}}}const En=window.FUN_HOST||"https://api.fundraiseup.com",gn=window.FUN_STATIC,fn=window.FUN_STATIC_S3||"https://static.fundraiseup.com";var Tn,_n,vn;function yn(e,t){return`${e}/elements${t}`}function An(e,t,n){const i=new XMLHttpRequest;i.open(e.method||"GET",e.url),i.withCredentials=!("withCredentials"in e)||Boolean(e.withCredentials),i.onload=function(){if(this.status>=200&&this.status<300){const e=i.getResponseHeader("content-type");if(e&&-1!==e.indexOf("application/json"))try{return t(JSON.parse(i.response))}catch(e){n(e)}t(i.response)}else{if(e.validStatuses&&-1!==e.validStatuses.indexOf(this.status))return t();n(new Error(`[Shared]: Server ${e.method} response status ${this.status} for url ${e.url}, ${i.statusText}`))}},i.onerror=function(){n({status:this.status,statusText:i.statusText})};const o=e.headers;o&&Object.keys(o).forEach(function(e){i.setRequestHeader(e,o[e])});let r=e.params;return r&&"object"==typeof r&&(r=JSON.stringify(r)),i.send(r),{abort(){i.abort()}}}s.p=gn||s.p,function(e){e.DATA="/data",e.DONATION_FORM_PRESETS="/default/predict_default_amounts/v4",e.DONATION_FORM_PRESETS_V5="/donationFormPresets/v5",e.DEFAULT_FREQUENCY="/getDefaultFrequency/v3",e.GOALS="/goals"}(Tn||(Tn={})),function(e){e.ONCE="once",e.DAILY="daily",e.WEEKLY="weekly",e.BIWEEKLY="biweekly",e.EVERY_4_WEEKS="every4weeks",e.MONTHLY="monthly",e.BIMONTHLY="bimonthly",e.QUARTERLY="quarterly",e.SEMIANNUAL="semiannual",e.ANNUAL="annual"}(_n||(_n={})),function(e){e.ELEMENT_ID="elementId",e.ELEMENT_KEY="elementKey",e.FORM="form",e.AMOUNT="amount",e.CURRENCY="currency",e.RECURRING="recurring",e.MODIFY_DESIGNATION="modifyDesignation",e.FIRST_NAME="firstName",e.LAST_NAME="lastName",e.EMAIL="email",e.DESIGNATION="designationId",e.TRIBUTE="tributeHonoree"}(vn||(vn={}));const Sn=[ve.DONATION_FORM];ve.DONATION_FORM;const wn=/\/-\/(X[\dA-Z]{7})/,Cn=/^X[\dA-Z]{7}/,On=new RegExp("\\/-\\/(N[\\dA-Z]{7})"),Nn=new RegExp(`${On.source}(?!\\/join)`),In=new RegExp(`${On.source}\\/join`),Rn=/^N[\dA-Z]{7}/i,Pn=/^[\dA-Z_-]{1,25}$/i,bn=/#?(FUN.{8})/i,Ln=/^C[\dA-Z]{7}/,Dn=/((^|#)C[\dA-Z]{7})/,xn=/^CFRU[\dA-Z]{4}$/;var Mn;!function(e){e.P2P="p2p"}(Mn||(Mn={}));var kn=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};function Un(e){return(0,Jt.U)(window.location.search.substring(1))[e]}var Gn=s("../murmur/dist/murmur.js");function Fn({elementKey:e,elementType:t,widgetKey:n,queryParams:i}){return e&&t?Object.assign(Object.assign({},i),{type:t,elementKey:e,key:n}):Object.assign(Object.assign({},i),{type:ve.DIRECT_LINK,elementKey:"",key:n})}function Kn(e){const t={elementType:ve.DIRECT_LINK,splitTestName:"",splitTestVariant:"",widgetKey:""};return e.elementKey&&e.type?Object.assign(Object.assign(Object.assign({},t),e),{elementType:e.type,widgetKey:e.key}):t}const Bn=/#([\da-z_-]{1,25})(\?|&|$)/i;function Vn(e){const t=Bn.exec(e);return t&&t[1]?t[1]:""}class Hn extends Ze{constructor(e){super(),this.payload={duration:e.duration,eventComment:{widgets:e.widgets}}}get eventType(){return"checkoutResolve"}}class jn extends Ze{get eventType(){return Xe}}function Xn(e,t=!0){if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const o=n.exec(e);if(!o)break;const[,r,s]=o;try{t?i[decodeURIComponent(r)]=decodeURIComponent(s):i[r]=s}catch(e){console.error(e)}}return i}class Yn extends Ze{constructor(e){super();const t=Xn(location.href);t[We]&&(this.payload.splitTestName=t[We]),t.fun_variant&&(this.payload.splitTestVariant=t[We]),e&&(this.payload.eventComment=Object.assign(Object.assign({},this.payload.eventComment),e))}get eventType(){return je}}class zn extends Ze{constructor(e,t){super(),this.payload={splitTestName:e,splitTestVariant:t}}get eventType(){return"testVariantSelected"}}let Wn;function $n(){return void 0===Wn&&(Wn=!1),Wn}const qn=(e,t,n,i,o,r,a,c,l,d,u,p,h,m,E)=>{let g,f=!1,T=!1;const _=o.fromDonorPortal,v=()=>{l.logCode(ft.INIT,ft.TRY_TO_OPEN_BY_DIRECT_LINK);const t=[window.location.href];window.FundraiseUp.h&&window.FundraiseUp.h.match(/^https?:\/\/.+\..+\//)&&t.push(window.FundraiseUp.h);for(let i=0;i<t.length;i++){const o=t[i];l.logCode(ft.INIT,ft.TRY_TO_OPEN_BY_URL,o);const s=(0,Jt.U)(o),a=s.form,d=Vn(o),u={queryParams:s},p=c.exists("WIDGET",a),h=c.exists("WIDGET",d),m=p&&a||h&&d;if(m){const t=Fn({elementType:c.getElementType(s.element),elementKey:s.element,widgetKey:m,queryParams:s}),n=Kn(t);it({tracker:r,widgetKey:m,keysKeeper:c,elementType:t.type,elementKey:t.elementKey,splitTestName:"",splitTestVariant:""});const i=Object.assign(Object.assign({},u),{launcher:{element:{key:n.elementKey,type:n.elementType}}});return T=!0,e.open(m,i)}const E=c.getElementType(a);if(E===ve.P2P_BUTTON||E===ve.P2P_LINK)return l.logCode(ft.INIT,ft.TRY_TO_OPEN_BY_ELEMENT_KEY_URL),T=!0,n.open(a);if(Rn.test(a))return l.logCode(ft.INIT,ft.TRY_TO_OPEN_BY_FUNDRAISER_KEY_URL),T=!0,n.open(a);if(a&&Pn.test(a))return l.logCode(ft.INIT,ft.TRY_TO_OPEN_BY_FUNDRAISER_KEY_URL),T=!0,n.openByFundraiserSlug(a)}return Promise.resolve()},y=()=>{!function(e,t){if(t.get()||t.set({disableIsFundraiseupVisitor:!1,elements:{showAllGlobalElementsInTestEnv:!1},settings:{}},{path:e.location.pathname}),e.querySelector(`iframe#${sn}`))return;const n="#"+sn,i=e.createElement("a");i.setAttribute("href",n),i.style.display="none",e.body.appendChild(i)}(document,d)},A=()=>{return e=void 0,t=void 0,i=function*(){if(!o.abTestMode)return;const{SplitTesting:e}=yield s.e(707).then(s.bind(s,"./src/splitTesting/SplitTesting.ts"));g=new e({keysKeeper:c,clientId:r.clientId,api:window.FundraiseUp,companyKey:o.currentCompanyKey,demoMode:o.abTestDemoMode,onVariantSelect:({testName:e,variantName:t})=>{r.track(new zn(e,t))},onReset:()=>{g.allVariantNodes.forEach(e=>{const t=[].slice.call(e.querySelectorAll('a[href^="#X"],a[href^="#x"]')).some(e=>c.exists("ELEMENT",e.hash.replace("#","")));if(t)return void l.log("Split Testing: on reset",{hasElement:t});const n=u.getNodeParams(e),i=u.extractElementNodeParams(e)||n,o=null==i?void 0:i.key;o&&c.exists(["WIDGET","ELEMENT"],o)?l.log("Split Testing: known key",{key:o}):dn().then(t=>t.createElementByType(ve.SPLIT_TESTING,{elementKey:"",elementType:ve.SPLIT_TESTING,elementName:ve.SPLIT_TESTING,config:{},elementFoundTimestamp:Date.now()},!1,e).catch(e=>console.error(e)))})}}),g.init()},new((n=void 0)||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())});var e,t,n,i},S={get experiments(){return h},get splitTesting(){return g},get livemode(){return o.livemode},get version(){return o.version},get initialized(){return f},get wasOpenedByDirectUrl(){return T},init:()=>{if(f)return l.logCode(ft.INTERNAL_API_INITIALIZED),Promise.resolve();p.incrementSession(),document.head.insertAdjacentHTML("beforeend",'<link href="https://ucarecdn.com/" rel="dns-prefetch">'),function(e){if(window.FUN_WIDGET_KEYS){e.addWidgetKeys(window.FUN_WIDGET_KEYS);const t=window.FUN_WIDGET_KEYS.push;window.FUN_WIDGET_KEYS.push=function(...n){return e.addWidgetKeys(n),t.apply(window.FUN_WIDGET_KEYS,n)}}}(c),function(e){window.FUN_ELEMENT_KEYS={add(t,n){e.addElementKeys(t,n)}}}(c),(()=>{const e=function(e){return{gaDetectResult:{gtag:Boolean(e.gtag),ga:Boolean(e.ga&&e.ga.create),ga4:Boolean(e.dataLayer)}}}(window),t=function(e){return e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches}(window);r.track(new Yn(Object.assign(Object.assign({},e),{darkMode:t}))),window.addEventListener("beforeunload",()=>{r.track(new jn)}),a.onResolve((e,t)=>{r.track(new Hn({widgets:[e.campaign.key],fundraisingPages:e.fundraisingPage?[e.fundraisingPage.key]:[],duration:t.duration}))})})(),function(e,t){const n=(e,n)=>"string"!=typeof e?e[0](t):t[e](...[].slice.call(n));return{init:()=>{e.l.forEach(e=>{n(...e)}),e.l.push=e=>(n(...e),e.length)}}}(window.FundraiseUp,e).init();const n=[A(),t.initialize(),v(),_?Promise.resolve():function(){if("yes"===Un("fundraiseupDebug")){const e=prompt("");if(e)return 1648622467===(0,Gn.A)(e)}return"yes"===Un("fundraiseupABTestDebug")}()?Zt().then(()=>y()):Promise.resolve()];return $n()&&n.push(E.initialize()),Promise.all(n).then(()=>{f=!0,window.FUN_STARTUP_HOOK&&window.FUN_STARTUP_HOOK(),null==g||g.reset()})},checkout:e,elements:t,giftCatalogs:E,forms:n,services:i,config:o,tracker:r,debug:function(){const e=new Date;e.setFullYear(e.getFullYear()+5),m.set(!0,{expires:e})}};return _||(S.showDebugPanel=y),S};function Jn(e){return e.map(e=>({...e,key:e.name}))}const Zn={experimentId:o[i.CHECKOUT_BUNDLE_EXPERIMENT],name:i.CHECKOUT_BUNDLE_EXPERIMENT,enabled:!1,scope:r.EMBED,variants:[{name:c.CONTROL,weight:33},{name:c.TEST_1,weight:33},{name:c.TEST_2,weight:33},{name:c.TEST_3,weight:1}]},Qn={experimentId:o[i.EMBED_TEST_EXPERIMENT],name:i.EMBED_TEST_EXPERIMENT,enabled:!1,scope:r.EMBED,variants:[{name:p.CONTROL,weight:1},{name:p.TEST,weight:1}]},ei={experimentId:o[i.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT],name:i.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT,enabled:!1,scope:r.EMBED,variants:[{name:N.CONTROL,weight:1},{name:N.TEST,weight:1}]},ti={experimentId:o[i.AMOUNT_PRESETS_DONATION_FORM_V_5_EXPERIMENT],name:i.AMOUNT_PRESETS_DONATION_FORM_V_5_EXPERIMENT,enabled:!1,scope:r.EMBED,variants:[{name:K.CONTROL,weight:1},{name:K.TEST_1,weight:1},{name:K.TEST_2,weight:1},{name:K.TEST_3,weight:1},{name:K.TEST_4,weight:1}]},ni={experimentId:o[i.CLOUDFLARE_WORKER_STRATEGY_FOR_ELEMENTS_EXPERIMENT],name:i.CLOUDFLARE_WORKER_STRATEGY_FOR_ELEMENTS_EXPERIMENT,enabled:!1,scope:r.EMBED,variants:[{name:ue.CONTROL,weight:1},{name:ue.TEST_1,weight:1}],documentationUrl:"https://www.notion.so/fundraiseup/Experiment-Cloudflare-Worker-strategy-for-Elements-29a7e95f5bc58097a2e6f304c1e4dc2b",featureUrl:"https://fundraiseup.tpondemand.com/entity/143564-experiment-cloudflare-worker-strategy-for-elements"};const ii=function(e){return[Zn,Qn,ei,ti,ni].map(e=>({...e,variants:Jn(e.variants)})).map(t=>{const n=e.find(e=>e.experimentId===t.experimentId);return n?{experimentId:n.experimentId,enabledWidgets:n.enabledWidgets,disabledWidgets:n.disabledWidgets,scope:n.scope,name:n.name,enabled:n.enabled,variants:Jn(n.variants),disabledAccounts:n.disabledAccounts,enabledAccounts:n.enabledAccounts}:t})};class oi{constructor({distributionId:e,name:t,variants:n,sentry:i}){this.variants=new Map,this.distributionId=e,this.name=t,this.sentry=i,n.forEach(e=>{this.variants.set(e.name,{name:e.name,key:e.key,weight:e.weight})}),this.variantSelectors=this.getDistributedSelectors()}get currentVariantName(){return this._currentVariantName}get currentVariantKey(){var e;return this._currentVariantName?null===(e=this.variants.get(this._currentVariantName))||void 0===e?void 0:e.key:void 0}get previousVariantName(){return this._previousVariantName}initCurrentVariantName(){var e;const t=this.getSelection(),n=[];this.variantSelectors.forEach((e,t)=>{n.push([t,e])}),this.currentVariantName=null===(e=n.find(([,[e,n]])=>t>=e&&t<n))||void 0===e?void 0:e[0]}setVariant(e){this.variants.has(e)?this.currentVariantName=e:this.sentry.captureException(new Re(this.name))}set currentVariantName(e){this._previousVariantName=this._currentVariantName,this._currentVariantName=e}getSelection(){const e=this.getMaxDistributionValue();return Number((0,Gn.A)(`${this.distributionId}:${this.name}`)%e)}getDistributedSelectors(){let e=0;const t=new Map;return this.assertVariantsWithWeight(this.variants),this.variants.forEach(({weight:n},i)=>{const o=this.getWeightSum(),r=this.getMaxDistributionValue()/o;t.set(i,[e,e+r*n]),e+=r*n}),t}getWeightSum(){let e=0;return this.assertVariantsWithWeight(this.variants),this.variants.forEach(({weight:t})=>e+=t),e}getMaxDistributionValue(){return 100*this.variants.size}assertVariantsWithWeight(e){if(![...e.entries()].every(([,{weight:e}])=>void 0!==e))throw new Error("Every variant should have weight")}}class ri{constructor(e){this.experiments=new Map;const{experimentsSettings:t,tracker:n,funStorage:i,companyKey:o,widgetKey:r,user:s,parentCompanyKey:a,infrastructureParams:c,sentry:l,distributionId:d,isDebugMode:u,isFundraiseupVisitor:p,isAbTestMode:h=!1}=e;if(this.experimentsSettings=t,this.tracker=n,this.funStorage=i,this.companyKey=o,this.parentCompanyKey=a,this.widgetKey=r,this.user=s,this.infrastructureParams=c,this.sentry=l,this.distributionId=d,this.isDebugMode=u,this.isFundraiseupVisitor=p,this.isAbTestMode=h,!this.distributionId)throw new Error("ExperimentController: Distribution ID is required")}get allowExperiments(){return!!this.isDebugMode||!this.isFundraiseupVisitor&&!this.isAbTestMode}register(e,t){if(this.experiments.has(e))return;const n=this.createExperiment(e,t);n&&this.experiments.set(e,n)}get(e){if(!this.experiments.has(e)){const t=new Pe(e);throw this.sentry.captureException(t),t}return this.experiments.get(e)}registerAndGet(e,t){return this.register(e,t),this.get(e)}has(e){return this.experiments.has(e)}createExperiment(e,t){const n=o[e];if(!n)throw new Error(`ExperimentController: Experiment ID not found for experiment ${e}`);const i=this.experimentsSettings.find(e=>e.experimentId===n);if(!i)return this.sentry.captureException(new Ie(e)),null;const r=this.getDistributionExperimentName(i),s=new oi({distributionId:this.distributionId,name:r,variants:i.variants,sentry:this.sentry});return new t({settings:i,companyKey:this.companyKey,parentCompanyKey:this.parentCompanyKey,tracker:this.tracker,funStorage:this.funStorage,user:this.user,widgetKey:this.widgetKey,infrastructureParams:this.infrastructureParams,sentry:this.sentry,distribution:s,allowExperiments:this.allowExperiments})}getDistributionExperimentName(e){return e.experimentId===o[i.AMOUNT_PRESETS_DONATION_FORM_V_5_EXPERIMENT]?i.AMOUNT_PRESETS_CHECKOUT_V_5_EXPERIMENT:e.name}}class si extends ri{register(e,t,n){const i=this.getExperimentKey(e,n),o=this.createExperiment(e,t);o&&this.experiments.set(i,o)}get(e,t){const n=this.getExperimentKey(e,t);return super.get(n)}registerAndGet(e,t,n){return this.register(e,t,n),this.get(e,n)}has(e,t){const n=this.getExperimentKey(e,t);return super.has(n)}getExperimentKey(e,t){return t?`${e}_${t}`:e}}function ai(e){return null!=e}var ci=s("./src/helpers/parseHref.ts");const li=e=>"function"!=typeof document.contains||document.contains(e),di=(e,t)=>{const n=new WeakMap,i=i=>{if("fun"===i.getAttribute("data-ignore"))return null;const o=i.getAttribute("href")||"";let r=(0,ci.d)(o);const s=(0,Jt.U)(o);if(wn.test(o)){const e=wn.exec(o);if(e&&e[1]){const t=e[1];r||(r={}),r.key=t,r.type=ve.TEXT_LINK}}if(Nn.test(o)){const e=Nn.exec(o);if(e&&e[1]){const t=e[1];r||(r={}),r.key=t,r.type=ve.FUNDRAISING_PAGE_LINK}}if(In.test(o)){const e=In.exec(o);if(e&&e[1]){const t=e[1];r||(r={}),r.key=t,r.type=ve.FUNDRAISING_PAGE_INVITE_LINK}}if(o==="#"+sn&&(r||(r={}),r.key=sn,r.type=ve.DEBUG_PANEL),Dn.test(o)){const e=Dn.exec(o);if(e&&e[1])return null}s.form&&(r||(r={}),r.key=s.form,Object.assign(r,s));const a={type:ve.LINK,key:"",elementFoundTimestamp:0};if(r){const t=r.type||function(e,t,n){if(/^[#?]/.test(n))return!0;const i=e.split("#")[0],o=t.split("#")[0],r=t.split("?")[0];return i===o||i===r||e.split("?")[0]===r}(i.href,window.location.href,o);if(!t)return null;a.key=r.key;const n=r.type||e.getElementType(a.key);a.type=n||ve.LINK}else a.key=function(e){if(e.getAttribute)return e.getAttribute("data-key")||void 0}(i)||"";return-1!==[ve.LINK,ve.FUNDRAISING_PAGE_LINK,ve.FUNDRAISING_PAGE_INVITE_LINK,ve.TEXT_LINK].indexOf(a.type)&&(a.queryParams=s),a.key?e.exists("ELEMENT",a.key)&&s.form===a.key?null:a.type!==ve.LINK||e.exists("ELEMENT",a.key)||e.exists("WIDGET",a.key)?(r&&r.designationId&&(c=r.designationId)&&ge.test(c)&&(a.designationId=r.designationId),a.key=He(e,a.key),a.node=i,a.elementFoundTimestamp=Date.now(),t.logCode(ft.EXTRACT_NODE_PARAMS,{params:a}),n.set(a.node,a),a):null:null;var c};return{getNodeParams:e=>n.get(e),findElements:()=>{const e=document.querySelectorAll(".fun-widget, a[href]");return t.logCode(ft.FIND_ELEMENTS,{primaryNodes:e}),o=[].slice.call(e),t.logCode(ft.CREATE_ELEMENTS_PARAMS,{nodes:o}),o.filter(e=>!n.has(e)).filter(e=>li(e)).map(e=>i(e)).filter(ai);var o},findGiftCatalogs:()=>{const e=[...document.querySelectorAll("a[href]")];return t.logCode(ft.FIND_GIFT_CATALOGS,{primaryNodes:e}),e.filter(e=>!n.has(e)).filter(e=>li(e)).map(e=>(e=>{if("fun"===e.getAttribute("data-ignore"))return null;const n=e.getAttribute("href")||"",i=(0,ci.d)(n);if(!Dn.test(n)||!(null==i?void 0:i.key))return null;const o={key:i.key,giftCatalogFoundTimestamp:Date.now(),node:e};return t.logCode(ft.EXTRACT_NODE_PARAMS,{params:o}),o})(e)).filter(ai)},extractElementNodeParams:i}},ui=e=>e&&"object"==typeof e&&"consent"===e[0],pi=e=>ui(e)&&"default"===e[1],hi=e=>ui(e)&&"update"===e[1],mi=(e,t)=>({checkHasDefaultConsent:()=>{var e;return Boolean((null===(e=t.dataLayer)||void 0===e?void 0:e.length)&&t.dataLayer.some(pi))},initialize:()=>{t.dataLayer=t.dataLayer||[];const n=t.dataLayer.push;t.dataLayer.forEach(t=>{pi(t)&&e.emit("consentDefault",t[2]),hi(t)&&e.emit("consentUpdate",t[2])}),((t,n)=>{t.push=function(...i){return i.forEach(t=>{hi(t)&&e.emit("consentUpdate",t[2])}),n.apply(t,i)}})(t.dataLayer,n)}});var Ei;function gi(e,t,n,i,o,r){let s=!1;const a=i=>{try{e.logCode(ft.CONSENT_API_UPDATE,{consent:i}),"granted"===i.functionality_storage&&(o.initializeFuncStorage(),r.setupFuncCookie()),"denied"===i.functionality_storage&&o.deniedWriteToFuncStorage(),"granted"===i.analytics_storage&&o.initializeStatStorage(),i.ad_user_data&&(s="granted"===i.ad_user_data,n.emit(Ei.UPDATE,{marketingCookieConsent:s}))}catch(n){e.logCode(ft.CONSENT_API_ERROR,{error:n}),t.captureException(new Error(`Consent API error: ${n.message}`))}},c=e=>{e.region||a(e)},l=e=>{a(e)};return{getUserSessionConsent:()=>s,initialize:t=>{i.checkHasDefaultConsent()?(o.topLevelDomain=t,r.topLevelDomain=t,r.initialize(),n.on("consentDefault",c),n.on("consentUpdate",l),i.initialize(),e.logCode(ft.CONSENT_API_INITIALIZED,{dataLayer:window.dataLayer})):(o.allowWriteToFuncStorage(),o.topLevelDomain=t,o.initialize(),r.topLevelDomain=t,r.initialize(),r.setupFuncCookie(),e.logCode(ft.CONSENT_API_DISABLED,{dataLayer:window.dataLayer}))}}}!function(e){e.UPDATE="sessionConsentUpdate"}(Ei||(Ei={}));class fi{constructor(){this.events=new Map}on(e,t){const n=this.events.get(e)||[];n.push(t),this.events.set(e,n)}off(e,t){const n=(this.events.get(e)||[]).filter(e=>e!==t);this.events.set(e,n)}emit(e,...t){(this.events.get(e)||[]).forEach(e=>e(...t))}}const Ti=["APZMZAGU","AZFMPNQE","ARVHGABZ","AGSTXLKM"];var _i=s("./src/preloader/backdrop.css"),vi=s.n(_i);function yi(e,t){if(e.body)return t();setTimeout(yi.bind(null,e,t),10)}const Ai="fun-widget-backdrop-spinner";class Si{constructor(e,t,n){this.targetWindow=e,this.scrollLocker=t,this.eventEmitter=n,this.isExists=!1,this.container=null,this.activeSource=null,this.targetWindow=e,this.setStyle()}render({showSpinner:e=!1,source:t}){return this.isExists=!0,this.targetWindow.document.getElementById(Si.styleId)||this.setStyle(),this.activeSource=t,this.container||(this.container=this.targetWindow.document.createElement("div"),this.container.__funIgnoreInViewportTracker=!0,this.container.classList.add("fun-widget-backdrop-holder"),this.container.style.setProperty("background","rgba(57, 58, 63, 0.85)","important"),e&&this.showSpinner(),this.targetWindow.document.body?(this.targetWindow.document.body.appendChild(this.container),this.scrollLocker.lock()):yi(this.targetWindow.document,()=>{this.container&&(this.targetWindow.document.body.appendChild(this.container),this.scrollLocker.lock())}),this.eventEmitter.emit("backdropOpen",void 0)),this}setStyle(){this.targetWindow.document.head.insertAdjacentHTML("afterbegin",`<style id="${Si.styleId}">${vi()}</style>`)}remove(e=!1){return this.isExists=!1,this.scrollLocker.unlock(),this.container?e?(this.removeContainer(),this.notifyBackdropClosed(),this):(this.container.style.transition="opacity .2s ease",this.container.addEventListener("transitionend",()=>{this.container&&(this.removeContainer(),this.notifyBackdropClosed())}),this.container.style.opacity="0",this):this}removeContainer(){this.container&&(this.container.remove(),this.container=null)}notifyBackdropClosed(){this.activeSource=null,this.eventEmitter.emit("backdropClose",null)}hideSpinner(){if(!this.container)return console.warn(3),this;const e=this.container.querySelector(`#${Ai}`);return e&&e.remove(),this}showSpinner(){return this.container?(this.container.insertAdjacentHTML("afterbegin",`<div id=${Ai} class="fun-widget-backdrop" />`),this):(console.warn(3),this)}getActiveSource(){return this.activeSource}}Si.styleId="__funBackdropStyles";const wi="40px",Ci=`\n  [class^='fru-'] {\n    all: initial;\n    display: block !important;\n    box-sizing: border-box !important;\n  }\n\n  .fru-sd {\n    width: 100% !important;\n    background: #f3f4fa !important; /* gray-10 */\n    border-radius: 6px !important;\n  }\n\n  .fru-sm {\n    width: 100% !important;\n    background: #f3f4fa !important; /* gray-10 */\n    border-radius: 4px !important;\n  }\n\n  .fru-sg {\n    position: absolute !important;\n    inset: 0 !important;\n    z-index: 1 !important;\n\n    background: linear-gradient(90deg, #FFFFFF00 35%, #FFFFFFE6 50%, #FFFFFF00 65%) 0 0 / 300% 100%;\n    animation: fru-ld 1s linear infinite !important;\n  }\n\n  [dir='rtl'] .fru-sg {\n    animation-name: fru-ld-rtl !important;\n  }\n\n  @keyframes fru-ld {\n    0% {\n      background-position: 100% 50%;\n    }\n    30% {\n      background-position: 0 50%;\n    }\n    100% {\n      background-position: 0 50%;\n    }\n  }\n\n  @keyframes fru-ld-rtl {\n    0% {\n      background-position: 0 50%;\n    }\n    30% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 100% 50%;\n    }\n  }\n\n  .fru-m {\n    position: fixed !important;\n    inset: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    align-items: flex-start !important;\n    overflow-x: hidden !important;\n    overflow-y: auto !important;\n    z-index: 2147483647 !important;\n    translate: 0 0 100px !important;\n    overscroll-behavior-y: none !important;\n  }\n\n  .fru-m-a {\n    animation: fru-fade-out 0.15s forwards !important;\n  }\n\n  @keyframes fru-fade-out {\n    to {\n      opacity: 0 !important;\n    }\n  }\n\n  .fru-wd {\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    max-width: 376px !important;\n    padding: 16px 8px !important;\n    margin: auto !important;\n  }\n\n  .fru-wmb {\n    flex-grow: 1 !important;\n    width: 100% !important;\n    position: relative !important;\n    background: #fff !important;\n  }\n\n  .fru-wmd {\n    min-height: 0 !important;\n    flex-grow: 1 !important;\n    flex-shrink: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    border-radius: 16px !important;\n    box-shadow: 0 8px 16px #393A3F38, 0 0 4px #393A3F0A !important;\n    margin-bottom: 60px !important;\n  }\n\n  .fru-wcd {\n    flex-shrink: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    position: relative !important;\n    width: 100% !important;\n    height: 640px !important;\n    background: #fff !important;\n    border-radius: 16px 16px 0 0 !important;\n    overflow: hidden !important;\n  }\n\n  .fru-ch {\n    padding: 8px 44px !important;\n  }\n\n  .fru-cid {\n    width: 100% !important;\n    height: 202px !important;\n    background: #f3f4fa !important; /* gray-10 */\n    border-radius: 16px 16px 0 0 !important;\n  }\n\n  .fru-cim {\n    width: 100% !important;\n    height: 59vw !important;\n    background: #f3f4fa !important; /* gray-10 */\n  }\n\n  .fru-cbd {\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    padding: 20px 28px 28px !important;\n  }\n\n  .fru-cbm {\n    padding: 24px 20px !important;\n  }\n\n  .fru-wfd {\n    flex-shrink: 0 !important;\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    position: relative !important;\n    height: 640px !important;\n    background: #fff !important;\n    padding: 28px 32px !important;\n    border-radius: 16px !important;\n    border-top: 1px solid #c7cdd6 !important;\n    overflow: hidden !important;\n  }\n\n  .fru-hc .fru-wfd {\n    border-radius: 0 0 16px 16px !important;\n  }\n\n  .fru-wfm {\n    padding: 32px 20px 40px !important;\n    border-top: 1px solid #c7cdd6 !important;\n  }\n\n  .fru-wftm {\n    background: #fff !important;\n    padding: 24px 20px 60px !important;\n    border-top: 1px solid #c7cdd6 !important;\n  }\n\n  .fru-fcd {\n    min-height: 0 !important;\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    max-width: 296px !important;\n    margin: auto !important;\n  }\n\n  .fru-fcm {\n    width: 100% !important;\n    max-width: 390px !important;\n    margin: auto !important;\n  }\n\n  .fru-nlm {\n    margin-bottom: ${wi}px !important;\n  }\n\n  @media (min-width: 536px) {\n    .fru-wd {\n      width: 360px !important;\n      max-width: none !important;\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n\n    .fru-hc .fru-wd {\n      width: 516px !important;\n    }\n\n    .fru-cid {\n      height: 289px !important;\n    }\n  }\n\n  @media (min-width: 916px) {\n    .fru-hc .fru-wd {\n      width: calc(516px + 20px + 360px) !important;\n    }\n\n    .fru-sgc {\n      animation-delay: 0.1s !important;\n    }\n\n    .fru-sgf {\n      animation-delay: 0.25s !important;\n    }\n\n    .fru-wmd {\n      flex-direction: row !important;\n      border-radius: 0 !important;\n      box-shadow: none !important;\n    }\n\n    .fru-hc .fru-wmd {\n      margin-bottom: 34px !important;\n    }\n\n    .fru-wcd {\n      width: 516px !important;\n      border-radius: 16px !important;\n      box-shadow: 0 8px 16px #393A3F38, 0 0 4px #393A3F0A !important;\n      margin-inline-end: 20px !important;\n    }\n\n    .fru-wfd {\n      border-top: 0 !important;\n      box-shadow: 0 8px 16px #393A3F38, 0 0 4px #393A3F0A !important;\n    }\n\n    .fru-hc .fru-wfd {\n      width: 360px !important;\n      border-radius: 16px !important;\n    }\n  }\n`;var Oi;!function(e){e.WITH_ASK_PAGE="withAskPage",e.NO_ASK_PAGE="noAskPage"}(Oi||(Oi={}));const Ni=`\n  [class^='fru-'] {\n    all: initial;\n    display: block !important;\n    box-sizing: border-box !important;\n  }\n\n  .fru-sd {\n    width: 100% !important;\n    background: #f3f4fa !important;\n    border-radius: 6px !important;\n  }\n\n  .fru-sm {\n    width: 100% !important;\n    background: #f3f4fa !important;\n    border-radius: 4px !important;\n  }\n\n  .fru-sg {\n    position: absolute !important;\n    inset: 0 !important;\n    z-index: 1 !important;\n\n    background: linear-gradient(90deg, #FFFFFF00 35%, #FFFFFFE6 50%, #FFFFFF00 65%) 0 0 / 300% 100%;\n    animation: fru-ld 1s linear infinite !important;\n  }\n\n  [dir='rtl'] .fru-sg {\n    animation-name: fru-ld-rtl !important;\n  }\n\n  @keyframes fru-ld {\n    0% {\n      background-position: 100% 50%;\n    }\n    30% {\n      background-position: 0 50%;\n    }\n    100% {\n      background-position: 0 50%;\n    }\n  }\n\n  @keyframes fru-ld-rtl {\n    0% {\n      background-position: 0 50%;\n    }\n    30% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 100% 50%;\n    }\n  }\n\n  .fru-m {\n    position: fixed !important;\n    inset: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    align-items: flex-start !important;\n    overflow-x: hidden !important;\n    overflow-y: auto !important;\n    z-index: 2147483647 !important;\n    translate: 0 0 100px !important;\n    overscroll-behavior-y: none !important;\n    background: #fff !important;\n  }\n\n  .fru-m-a {\n    animation: fru-fade-out 0.15s forwards !important;\n  }\n\n  @keyframes fru-fade-out {\n    to {\n      opacity: 0 !important;\n    }\n  }\n\n  .fru-wd {\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    padding: 0 !important;\n    margin: 0 !important;\n  }\n\n  .fru-wmb {\n    flex-grow: 1 !important;\n    width: 100% !important;\n    position: relative !important;\n    background: #fff !important;\n  }\n\n  .fru-wmd {\n    min-height: 0 !important;\n    flex-grow: 1 !important;\n    flex-shrink: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    border-radius: 0 !important;\n    box-shadow: none !important;\n    margin: 0 !important;\n  }\n\n  .fru-ch {\n    padding: 8px 44px !important;\n  }\n\n  .fru-wcd {\n    flex-shrink: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    position: relative !important;\n    width: 100% !important;\n    height: 640px !important;\n    background: #fff !important;\n    border-radius: 0 !important;\n    overflow: hidden !important;\n  }\n\n  .fru-cid {\n    width: 100% !important;\n    height: 202px !important;\n    background: #f3f4fa !important;\n    border-radius: 0 !important;\n  }\n\n  .fru-cbd {\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    padding: 20px 28px 28px !important;\n  }\n\n  .fru-wfd {\n    flex-shrink: 0 !important;\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    position: relative !important;\n    min-height: 0 !important;\n    background: #fff !important;\n    padding: 28px 32px !important;\n    border-radius: 0 !important;\n    border-top: 0 !important;\n    overflow: hidden !important;\n    width: 100% !important;\n  }\n\n  .fru-wfm {\n    padding: 32px 20px 40px !important;\n    border-top: 1px solid #c7cdd6 !important;\n  }\n\n  .fru-wftm {\n    background: #fff !important;\n    padding: 24px 20px 60px !important;\n    border-top: 1px solid #c7cdd6 !important;\n  }\n\n  .fru-fcd {\n    min-height: 0 !important;\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    max-width: 360px !important;\n    margin: 0 auto !important;\n  }\n\n  .fru-fcm {\n    width: 100% !important;\n    max-width: 390px !important;\n    margin: auto !important;\n  }\n\n  .fru-nlm {\n    margin-bottom: ${wi}px !important;\n  }\n\n  @media (min-width: 536px) {\n    .fru-wd {\n      width: 100% !important;\n      padding: 0 !important;\n    }\n  }\n\n  @media (min-width: 916px) {\n    .fru-sgf {\n      animation-delay: 0.25s !important;\n    }\n\n    .fru-sgc {\n      animation-delay: 0.1s !important;\n    }\n\n    .fru-wmd {\n      flex-direction: row !important;\n      align-items: flex-start !important;\n      padding-top: 20px !important;\n    }\n\n    .fru-wfd {\n      width: 50% !important;\n      display: flex !important;\n      justify-content: flex-end !important;\n      padding-right: 32px !important;\n      padding-left: 32px !important;\n    }\n\n    .fru-wcd {\n      width: 50% !important;\n      display: flex !important;\n      justify-content: flex-start !important;\n      padding-left: 32px !important;\n      padding-right: 32px !important;\n      height: auto !important;\n    }\n\n    .fru-cid {\n      height: 289px !important;\n    }\n\n    .fru-fcd {\n      max-width: 360px !important;\n    }\n  }\n`,Ii=(e,t,n)=>n.indexOf(e)===t,Ri=Symbol("CUSTOM_FINGERPRINT");Symbol("EXTRA"),Symbol("TAGS");var Pi=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};const bi=new Map;function Li(e){return Pi(this,void 0,void 0,function*(){const t=new Di(e),n=bi.get(e.url);e.cancelSimilar&&n&&n(),bi.set(e.url,t.abort.bind(t));try{const n=yield t.send();return bi.delete(e.url),n}catch(t){throw"AbortError"!==(null==t?void 0:t.originalErrorName)&&bi.delete(e.url),t}})}class Di{constructor(e){this.options=e,this.abortController=function(){try{return void 0!==window.AbortController}catch(e){return!1}}()?new AbortController:null}abort(){var e;null===(e=this.abortController)||void 0===e||e.abort()}send(){return Pi(this,void 0,void 0,function*(){var e,t;const n=this.getUrl(),i=this.getHeaders(),o=this.getBody(),r=this.getCredentials();let s;try{s=yield fetch(n,{method:this.options.method,signal:null===(e=this.abortController)||void 0===e?void 0:e.signal,headers:i,credentials:r,body:o})}catch(e){const t=e instanceof Error?e.message:"Network Error";throw new xi(0,t,this.options.method,this.options.url,null==e?void 0:e.name,this.options.setCustomFingerprint)}const a=s.status;let c;const l=s.headers.get("content-type");if(c=(null==l?void 0:l.includes("application/json"))?yield s.json():yield s.text(),a>=500&&this.options.rejectOnInvalid)throw new xi(a,s.statusText,this.options.method,this.options.url,"",this.options.setCustomFingerprint);const d=a>=200&&a<400||(null===(t=this.options.validStatuses)||void 0===t?void 0:t.includes(a));return{data:c,valid:Boolean(d)}})}getHeaders(){const e=new Headers,t=this.options.headers;return t&&Object.keys(t).forEach(n=>{const i=t[n];void 0!==i&&e.append(n,i)}),e}getBody(){return void 0!==this.options.params&&"GET"!==this.options.method?JSON.stringify(this.options.params):null}getUrl(){let e=this.options.url;if("GET"===this.options.method&&this.options.params){const t=new URLSearchParams;for(const e of Object.keys(this.options.params))void 0!==this.options.params[e]&&t.set(e,String(this.options.params[e]));e+=`?${t.toString()}`}return e}getCredentials(){return"withCredentials"in this.options?this.options.withCredentials?"include":"omit":"include"}}class xi extends Error{constructor(e,t,n,i,o,r){super(`[Checkout Shared]: Server ${n} response status ${e}, ${t} for url ${i}`),this.originalErrorName=o,this.isRequestError=!0,r&&(this[Ri]=[i,t]),this.statusCode=e}}var Mi,ki,Ui,Gi=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};function Fi(e,t,n,i,o){const r=[],s=new Map,a=!0===window.FUN_DASHBOARD,c=c=>Gi(this,[c],void 0,function*({keys:c,livemode:p,externalQueryParams:h,isDirectOpen:m}){var E;const g=m?e.queryParams:(0,Jt.U)(window.location.href),f=Object.assign(g||{},h),T=((e,t,n,i,o)=>{const r=t.filter(t=>e.exists("WIDGET",t)),s=t.filter(t=>e.itLooksLikeKey("FUNDRAISING_PAGE",t)),a={campaign:r[0],fundraisingPage:void 0,locale:n,pageViewId:i},c=null==o?void 0:o.fundraiser;if(c){const e=(d=l=c,Rn.test(d)?l.toUpperCase():(e=>Pn.test(e))(l)?l:"");if(e)return a.fundraisingPage=e,a}var l,d;return s.length&&(a.fundraisingPage=s[0]),a})(t,c,e.locale.code,null===(E=i.page)||void 0===E?void 0:E.pageViewId,f);if(l(T))return n.logCode(ft.EMPTY_RESOLVE_REQUEST),Promise.resolve();n.logCode(ft.SEND_RESOLVE_REQUEST,T);const _=u(p),v=Date.now();let y;const A=d(T),S=s.get(A);S&&!a?y=S:(y=yield Li({method:"POST",url:_,headers:{"content-type":"text/plain; charset=utf-8"},params:T}).then(e=>e.data).catch(e=>{throw o.captureException(e),e}),s.set(A,y));const w={params:c,duration:Date.now()-v};return r.forEach(e=>e(y,w)),n.logCode(ft.GOT_RESOLVE_RESPONSE,{data:y,info:w}),y}),l=e=>!e.campaign&&!e.fundraisingPage,d=e=>{const t=[];return e.campaign&&t.push(e.campaign),e.fundraisingPage&&t.push(e.fundraisingPage),t.join("_")},u=t=>{const n=null!=t?t:e.livemode;return`${e.server.resolveUrl}&livemode=${n?"true":"false"}`};return{resolveFundraisingPages:e=>(n.logCode(ft.RESOLVE_FUNDRAISING_PAGE,e),c({keys:e})),resolveKeys:({keys:e,livemode:i,externalQueryParams:o,isDirectOpen:r})=>{const s=e.filter(Ii).filter(e=>(e=>t.exists("WIDGET",e)||t.itLooksLikeKey("FUNDRAISING_PAGE",e))(e));return s.length?(n.logCode(ft.RESOLVE_KEYS,{keys:e}),c({keys:s,livemode:i,externalQueryParams:o,isDirectOpen:r})):Promise.resolve()},onResolve:e=>{r.push(e)},needResolve:e=>!s.has(e.join("_")),resolveGiftCatalogCart:(t,n)=>Gi(this,void 0,void 0,function*(){try{return(yield Li({method:"POST",url:e.server.giftCatalogResolveUrl,headers:{"content-type":"text/plain; charset=utf-8"},params:{campaign:t,items:n||[],locale:e.locale.code}})).data}catch(e){throw o.captureException(e),e}}),resolveGiftCheckout:(t,n)=>Gi(this,void 0,void 0,function*(){try{const i=`${e.server.giftCheckoutResolveUrl}?key=${e.currentCompanyKey}`;return(yield Li({method:"POST",url:i,headers:{"content-type":"text/plain; charset=utf-8"},params:{campaign:t,items:n||[],locale:e.locale.code}})).data}catch(e){throw o.captureException(e),e}})}}function Ki(e,t){return function(e){return e!==Mi.TESTING}(e)?{domain:t,sameSite:"None",secure:!0}:{domain:t}}!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(Mi||(Mi={})),function(e){e.STRING="string",e.OBJECT="object"}(ki||(ki={})),function(e){e.ENABLED="1"}(Ui||(Ui={}));class Bi{constructor(e,t,n,i){this.funSessionStorage=e,this.funStatStorage=t,this.env=n,this.disableNewCookies=i,this.topLevelDomain=""}initialize(){if(this.disableNewCookies)return;const e=Ki(this.env,this.topLevelDomain);this.isStatStorageInitialized||this.funStatStorage.set(e),this.isFuncStorageInitialized||this.funSessionStorage.initialize(this.topLevelDomain,e)}initializeStatStorage(){const e=Ki(this.env,this.topLevelDomain);this.isStatStorageInitialized||this.funStatStorage.set(e)}initializeFuncStorage(){this.allowWriteToFuncStorage(),this.funSessionStorage.setInMemoryDataToStorage()}allowWriteToFuncStorage(){this.funSessionStorage.allowWrite=!0}deniedWriteToFuncStorage(){this.funSessionStorage.allowWrite=!1}get isStatStorageInitialized(){return null!==this.funStatStorage.get()}get isFuncStorageInitialized(){return this.funSessionStorage.isFuncStorageInitialized}}class Vi{constructor(e,t,n){this.env=e,this.storage=t,this.options=n,this.topLevelDomain=""}initialize(){this.cookieAttributes=Ki(this.env,this.topLevelDomain)}setupFuncCookie(){var e,t;if(null===(e=this.options)||void 0===e?void 0:e.disableNewCookies)return;const n=this.getCookie(qt.e.FUNC),i=this.getCookie(qt.e.SESSION);!n&&i&&(this.setCookie(qt.e.FUNC,i),(null===(t=this.options)||void 0===t?void 0:t.removeLegacyCookies)&&this.removeLegacyCookie())}removeLegacyCookie(){this.removeCookie(qt.e.SESSION)}getCookie(e){return this.storage.get(e)}setCookie(e,t){this.storage.set(e,t,this.cookieAttributes)}removeCookie(e){this.storage.remove(e,this.cookieAttributes)}}class Hi{constructor(e,t){this.STORAGE_KEY=e,this.storage=t}get(){return null!==this.storage.get(this.STORAGE_KEY)}set(e,t){e?this.storage.set(this.STORAGE_KEY,"",t):this.remove(t)}remove(e){this.storage.remove(this.STORAGE_KEY,e)}}class ji extends Hi{constructor(e){super(qt.e.DEBUG,e),this.storage=e}}function Xi(){const e=[],t=window.location.hostname.split(".");let n=t.splice(-1).join();for(let i=t.length;i>0;i--)n=t.splice(-1).join()+"."+n,e.push(n);return e}const Yi=(e,t=$t.A)=>{function n(e,n){t.remove(e,n)}function i(e){return!!window.FUN_DO_NOT_TRACK||!!window.FUN_ONLY_STRICTLY_NECESSARY_COOKIES&&e!==qt.e.CID}return window.FUN_DO_NOT_TRACK&&Xi().forEach(e=>{n(qt.e.CID,{domain:e}),n(qt.e.SESSION,{domain:e}),n(qt.e.FUNC,{domain:e}),n(qt.e.PERFORMANCE,{domain:e})}),window.FUN_ONLY_STRICTLY_NECESSARY_COOKIES&&Xi().forEach(e=>{n(qt.e.SESSION,{domain:e}),n(qt.e.FUNC,{domain:e}),n(qt.e.PERFORMANCE,{domain:e})}),{get:function(n){if(i(n))return null;const o=t.get(n);if(!o)return null;if(e===ki.OBJECT){let e=null;return e=JSON.parse(o),e}return o},set:function(n,o,r){i(n)||(e===ki.OBJECT&&(o=JSON.stringify(o)),t.set(n,o,r))},remove:n}};class zi{constructor(e,t){this.field=e,this.storage=t}get(){return this.storage.get(this.field)}set(e,t){this.storage.set(this.field,e,t)}remove(e){this.storage.remove(this.field,e)}}var Wi;function $i(e,t){if(!Object.keys(Wi).find(e=>Wi[e]===t))throw new Error(`UNSUPPORTED_TYPE_OF_STORAGE ${t}`);return new zi(e,Yi(t))}!function(e){e.STRING="string",e.OBJECT="object"}(Wi||(Wi={}));class qi{constructor(){this.storage=$i(qt.e.PERFORMANCE,Wi.STRING)}get(){return this.storage.get()}set(e={}){this.storage.set(Ui.ENABLED,e)}}class Ji{constructor(e){this.dictionary=new Map,this.reverseDictionary=new Map;for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const n=e[t];this.dictionary.set(t,n),this.reverseDictionary.set(n,t)}}zip(e){return this.zipKeys(this.toFlatData(e))}unzip(e){return this.fromFlatData(this.unzipKeys(e))}unzipKeys(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=this.dictionary.get(n);i?t[i]=e[n]:console.error(`The key for the "${n}" field was not found`)}return t}zipKeys(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=this.reverseDictionary.get(n);i?t[i]=e[n]:console.error(`The minification key for the "${n}" field was not found`)}return t}toFlatData(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=e[n];if(Zi(i)){t[n]=i;continue}const o=this.toFlatData(i);for(const i in o)Object.prototype.hasOwnProperty.call(e,n)&&(t[n+"."+i]=o[i])}return t}fromFlatData(e){let t={};return Object.keys(e).forEach(n=>{const i=e[n],o=n.split("."),r={};let s;o.forEach((e,n)=>{if(o.length===n+1)return s?void(s[e]=i):void(r[e]=i);const a=e;if(t[a])s=t[a];else{if(s)return s[e]||(s[e]={}),void(s=s[e]);r[e]={},s=r[e]}}),t=Object.assign({},t,r)}),t}}function Zi(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e||Array.isArray(e)}class Qi{constructor(e,t,n){this.storage=e,this.zipper=t,this.disableNewCookies=n}getData(){const e=this.storage.get(this.key);return e?this.zipper.unzip(e):{}}setData(e,t){const n=this.zipper.zip(e);this.storage.set(this.key,n,t)}removeData(e){this.storage.remove(this.key,e)}}class eo extends Qi{constructor(){super(...arguments),this.key=qt.e.FUNC}get available(){if(this.disableNewCookies)return!1;const e=Boolean(this.storage.get(qt.e.CID));return!e||e&&Boolean(this.storage.get(this.key))}}class to extends Qi{constructor(){super(...arguments),this.key=qt.e.SESSION}get available(){return!!this.disableNewCookies||Boolean(this.storage.get(qt.e.CID))&&Boolean(this.storage.get(this.key))}}const no={topLevelDomain:"topLevelDomain",t:"topLevelDomain",ida:"intent.donation.amount",idc:"intent.donation.currency",idr:"intent.donation.recurring",idf:"intent.donation.frequency",idh:"intent.donation.selectedHintId",idi:"intent.donation.donationItems",isf:"intent.supporter.firstName",isl:"intent.supporter.lastName",ise:"intent.supporter.email",ici:"intent.campaign.id",iek:"intent.element.key",iet:"intent.element.type",ic:"intent.comment",it:"intent.tribute",itt:"intent.tribute.type",iti:"intent.tribute.inHonorOf",itl:"intent.tribute.labelType",icd:"intent.checkoutSettings.designation",icc:"intent.checkoutSettings.customFields",icma:"intent.checkoutSettings.modifyAmount",icmd:"intent.checkoutSettings.modifyDesignation",ift:"intent.flowType",ifk:"intent.fundraisingPage.key",ifc:"intent.fundraisingPage.customerKey",ife:"intent.feeCovered",mm:"messageBar.manuallyClosed",pi:"popup.interactionAt",fbp:"floatingButtonPopupShown",sl:"socialProof.lastChargeAt",si:"socialProof.interactionAt",sls:"socialProof.lastShownCharge",nsa:"socialProof.nextShowAt",li:"lightbox.interactionAt",lsda:"lastSuccessDonationAt",s:"sessionAt",sp:"sessionPage",x:"xFactor",gci:"giftsCatalogCartItems"};class io{constructor(e,t,n){this.funLegacyStorage=e,this.funFuncStorage=t,this.disableNewCookies=n}get available(){return this.disableNewCookies?this.funLegacyStorage.available:this.funFuncStorage.available}get isFuncStorageInitialized(){const e=this.funFuncStorage.getData();return!!Object.keys(e).length}getData(){return this.funFuncStorage.available&&this.isFuncStorageInitialized?this.funFuncStorage.getData():this.funLegacyStorage.getData()}getPersistedData(){if(this.funFuncStorage.available){const e=this.funFuncStorage.getData();if(Object.keys(e).length>0)return e}return this.funLegacyStorage.getData()}initialize(e,t){this.funFuncStorage.setData(e,t)}setData(e,t){this.funFuncStorage.available&&this.funFuncStorage.setData(e,t),this.funLegacyStorage.available&&this.funLegacyStorage.setData(e,t)}initFuncStorage(e,t){this.funFuncStorage.setData(e,t)}removeData(e){this.funFuncStorage.available&&this.funFuncStorage.removeData(e),this.funLegacyStorage.available&&this.funLegacyStorage.removeData(e)}}class oo{constructor(e){this.topLevelDomain="",this.storage=$i(qt.e.CID,Wi.STRING),this.topLevelDomain=e||""}get(){return this.storage.get()}set(e,t={}){this.storage.set(e,t)}remove(e){this.storage.remove({domain:e})}}var ro=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};class so{constructor(e){this.apiUrl=e,this.data={}}load(e){return ro(this,void 0,void 0,function*(){const{source:t,widgetKey:n,locale:i}=e,o=`${n}-${i}`;if(this.data[o])return this.data[o];const r=t===_e.ELEMENTS?yield this.downloadFromElements(e):yield this.downloadFromCheckout(e);return this.data[o]=r,r})}downloadFromElements(e){return ro(this,arguments,void 0,function*({widgetKey:e,locale:t}){const n=new URL(yn(this.apiUrl,Tn.GOALS));n.searchParams.set("widgetKey",e),n.searchParams.set("locale",t);const i=n.toString();let o;try{o=yield fetch(i,{method:"GET"})}catch(e){const t=e instanceof Error?e.message:"Network Error";throw new xi(0,t,"GET",i,e instanceof Error?e.name:void 0)}if(!o.ok)throw new xi(o.status,o.statusText,"GET",i);return o.json()})}downloadFromCheckout(e){return ro(this,arguments,void 0,function*({widgetKey:e,locale:t}){return(yield Li({method:"POST",url:`${this.apiUrl}/checkout/getGoals`,params:{widgetKey:e,locale:t}})).data})}}const ao="dataLayerEventTracked",co="pageViewed";class lo{constructor(e){this.name=co,this.properties={},e&&(this.properties={legacy:{event:{comment:JSON.stringify(e)}}})}}class uo{constructor(e,t,n){this.window=e,this.newTracker=t,this.localeCode=n,this.isPingAvailable=!1,this.ping=()=>{},this.debug=void 0,this.page=void 0,this.source=void 0}get clientId(){return this.newTracker.clientId}get companyKey(){return this.newTracker.companyKey}get livemode(){return this.newTracker.livemode}get clientLocale(){return this.localeCode}track(e,t){var n;const i=e,o=i.getPayload?i.getPayload():{};if("pageView"===i.eventType){const e=null===(n=null==o?void 0:o.event)||void 0===n?void 0:n.comment;this.newTracker.track(new lo(e?JSON.parse(e):void 0))}}initializePointerUsageTracking(e){this.newTracker.initializePointerUsageTracking(e||this.window)}subscribe(e,t){this.newTracker.subscribe(t=>e(t),t)}removeEventTags(){}customTrack(){}getTags(){return[]}getTLD(){return""}setEventTags(){}}class po extends Ze{get eventType(){return"ping"}}class ho{constructor(e){this.tags=new Set,this.tracker=e}get companyKey(){return this.tracker.companyKey}get clientId(){return this.tracker.clientId}get livemode(){return this.tracker.livemode}get clientLocale(){return this.tracker.clientLocale}get debug(){return this.tracker.debug}get page(){return this.tracker.page}get isPingAvailable(){return this.tracker.isPingAvailable}getTLD(){return this.tracker.getTLD()}getTags(){return Array.from(this.tags)}customTrack(e){return this.tracker.customTrack(e)}track(e,t){return this.tracker.track(e,t)}ping(e,t){const n=e||new po;this.tracker.ping(n,t)}initializePointerUsageTracking(){this.tracker.initializePointerUsageTracking()}subscribe(e,t){return this.tracker.subscribe(e,t)}setEventTags(e){e.forEach(e=>this.tags.add(e))}removeEventTags(e){this.tags.forEach(t=>{e.some(e=>t.substring(0,e.length)===e)&&this.tags.delete(t)})}mergeEventTags(e){let t=[];e.payload.eventTags&&(t=e.payload.eventTags.slice()),this.tags.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),e.payload.eventTags=t}}class mo extends ho{constructor(e,{funEmbedRelease:t,isFundraiseupVisitor:n}){super(e),this.funEmbedRelease=t,this.isFundraiseupVisitor=n}track(e,t){this.addTrackerData(e),this.tracker.track(e,t)}addTrackerData(e){e.merge({funEmbedRelease:this.funEmbedRelease,isFundraiseupVisitor:this.isFundraiseupVisitor}),this.mergeEventTags(e)}customTrack(e){this.track(new nt({customEventType:e.type,customEventData:e.data}))}}class Eo extends Error{constructor(e){super(e),this.name=this.constructor.name}}class go extends Eo{constructor(e){super(`Invalid client ID: ${e}`),this.name="InvalidClientIdError"}}class fo extends Eo{constructor(e){super(`Event validation failed: ${e}`),this.name="EventValidationError"}}function To(e=19){const t=window.crypto||window.msCrypto;let n="";if(t&&"function"==typeof t.getRandomValues){const i=new Uint8Array(e);t.getRandomValues(i),n=[].slice.call(i).map(e=>e%10).join("")}else for(let t=0;t<e;t++)n+=Math.floor(10*Math.random()).toString();return"0"!==n[0]?n:To(e)}function _o(e){return!!e&&20===e.length&&!/[^\d]/.test(e)}function vo(){return(Date.now().toString()+To(20)).slice(0,20)}class yo{constructor(e,t,n){this.clientId="",this.storage=e,this.window=t,this.serverClientId=n}initialize(){this.clientId=this.readClientId()}getClientId(){if(!_o(this.clientId))throw new go(this.clientId);return this.clientId}readClientId(){const e=function(e,t=!0){if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const o=n.exec(e);if(!o)break;const[,r,s]=o;try{t?i[decodeURIComponent(r)]=decodeURIComponent(s):i[r]=s}catch(e){console.error(e)}}return i}(this.window.location.href).clientId||"";if(_o(e))return this.storage.set(e),e;const t=this.storage.get()||"";if(_o(t))return this.storage.set(t),t;if(_o(this.serverClientId))return this.storage.set(this.serverClientId),this.serverClientId;const n=vo();return this.storage.set(n),n}}var Ao;!function(e){e[e.FOUR_HUNDRED_DAYS=400]="FOUR_HUNDRED_DAYS"}(Ao||(Ao={}));class So{constructor(e){this.funTrackerStorage=e}get(){return this.funTrackerStorage.get()}set(e){this.funTrackerStorage.set(e,{expires:Ao.FOUR_HUNDRED_DAYS,domain:this.funTrackerStorage.topLevelDomain,sameSite:"Lax"})}}const wo=[/^gtm\..*$/,/^__cmp.*$/,/^optimize\..*$/,/^setPromo$/,/^trackOptanonEvent$/,/^consentDataForTheRecord$/,/^optanonConsentUpdated$/,/^nextroll-consent$/,/^FundraiseUp\./,/^youtube/i];class Co{constructor(){this.ignoredEventPatterns=wo,this.isInitialized=!1,this.isABTestMode=!1}initializeTracking(e,t){this.isInitialized||(this.isABTestMode=t,this.isInitialized=!0,this.setupDataLayer(e))}shouldTrackEvent(e){return!(!this.isABTestMode||!e||this.ignoredEventPatterns.some(t=>t.test(e)))}trackEvent(e,t){this.shouldTrackEvent(e)&&this.onEventCallback&&this.onEventCallback(e,t)}getIgnoredEventPatterns(){return[...this.ignoredEventPatterns]}setEventCallback(e){this.onEventCallback=e}setupDataLayer(e){if(e.dataLayer||(e.dataLayer=[]),!Array.isArray(e.dataLayer))return;const t=e.dataLayer;t.forEach(e=>{this.processDataLayerItem(e)});const n=t.push;t.push=(...e)=>(e.length>0&&this.processDataLayerItem(e[0]),n.apply(t,e))}processDataLayerItem(e){const t=this.extractEventName(e);t&&this.trackEvent(t,e)}extractEventName(e){return(Array.isArray(e)||e&&"object"==typeof e&&"number"==typeof e.length)&&e.length>=3&&"event"===e[0]&&"string"==typeof e[1]?e[1]:"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.event?null:e.event}}class Oo{constructor(){this._isPointingDeviceUsed=!1}isPointingDeviceUsed(){return this._isPointingDeviceUsed}initializeTracking(e){if(this._isPointingDeviceUsed)return;const t=()=>{this.setPointingDeviceUsed(),e.removeEventListener("pointermove",t),e.removeEventListener("pointerdown",t),e.removeEventListener("pointerup",t)};e.addEventListener("pointermove",t),e.addEventListener("pointerdown",t),e.addEventListener("pointerup",t)}setPointingDeviceUsed(){this._isPointingDeviceUsed=!0}reset(){this._isPointingDeviceUsed=!1}}class No{constructor(){this.subscribers=new Map}subscribe(e,t){this.subscribers.set(t,e)}publish(e){this.subscribers.forEach(t=>{try{t(e)}catch(e){console.error("Error in subscriber callback",e)}})}}function Io(){return function(){if(!function(){try{return void 0!==window.Intl&&window.Intl&&"object"==typeof window.Intl&&"function"==typeof window.Intl.DateTimeFormat}catch(e){return!1}}())return;const e=new window.Intl.DateTimeFormat("en-US");if("object"!=typeof e)return;const t="function"==typeof e.resolvedOptions&&e.resolvedOptions();if("object"!=typeof t)return;return t.timeZone||void 0}()||function(){const e=-(new Date).getTimezoneOffset()/60;return e>=0?`UTC+${e}`:`UTC${e}`}()}class Ro{constructor(e){this.window=e}build(){const{navigator:e}=this.window;return{language:e.language,timezone:Io(),userAgent:e.userAgent,doNotTrack:"1"===e.doNotTrack,history:{length:this.window.history.length},webdriver:!!e.webdriver,window:{inner:{width:this.window.innerWidth,height:this.window.innerHeight},scroll:{scrollX:Math.max(this.window.scrollX||this.window.pageXOffset||0,0),scrollY:Math.max(this.window.scrollY||this.window.pageYOffset||0,0)}}}}}class Po{constructor(e,t){this.clientIdManager=e,this.clientConsentService=t}build(){return{id:this.clientIdManager.getClientId(),consents:this.clientConsentService.getConsents()}}}class bo{constructor(e,t,n){this.window=e,this.connectionFormatter=t,this.batteryInfoService=n}build(){var e;const{screen:t,navigator:n}=this.window,i=n.connection||n.mozConnection||n.webkitConnection,o=this.batteryInfoService.getBatteryInfo();return{dateTime:(new Date).toISOString(),memory:n.deviceMemory,cores:"number"==typeof n.hardwareConcurrency?n.hardwareConcurrency:void 0,screen:{orientation:(null===(e=t.orientation)||void 0===e?void 0:e.type)||"unknown",width:t.width,height:t.height,pixelRatio:this.window.devicePixelRatio||1},battery:o,connection:i?{online:n.onLine,type:i.type,downlink:this.connectionFormatter.formatDownlink(i.downlink),effectiveType:i.effectiveType,roundTripTime:i.rtt}:void 0}}}class Lo{constructor(e,t){this.window=e,this.pageViewId=t}buildPage(){return{url:this.window.location.href,title:this.window.document.title}}buildPageView(e){return{id:this.pageViewId,referrer:e&&this.window.document.referrer||void 0}}}class Do{formatDownlink(e){if(void 0===e)return;const t=e||0;return"string"==typeof t?parseFloat(t)||0:t}}class xo{constructor(e){this.window=e,this.updateBatteryInfo()}getBatteryInfo(){return this.batteryInfo}updateBatteryInfo(){const e=this.window.navigator;"function"==typeof e.getBattery&&e.getBattery().then(e=>{this.batteryInfo={charging:e.charging,chargingTime:e.chargingTime!==1/0?e.chargingTime:void 0,dischargingTime:e.dischargingTime!==1/0?e.dischargingTime:void 0,level:"number"==typeof e.level?e.level:void 0}}).catch(()=>{this.batteryInfo=void 0})}}class Mo{constructor(e){this.window=e}getConsents(){return this.window.document.cookie.split(";").filter(e=>-1!==e.indexOf("fundraiseup_")).map(e=>e.split("=")[0].trim())}}let ko;const Uo=new Uint8Array(16);function Go(){if(!ko){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ko=crypto.getRandomValues.bind(crypto)}return ko(Uo)}const Fo=[];for(let e=0;e<256;++e)Fo.push((e+256).toString(16).slice(1));const Ko={};function Bo(e,t,n,i,o=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(i){if(o<0||o+16>i.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`)}else i=new Uint8Array(16),o=0;return t??=Date.now(),n??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],i[o++]=t/1099511627776&255,i[o++]=t/4294967296&255,i[o++]=t/16777216&255,i[o++]=t/65536&255,i[o++]=t/256&255,i[o++]=255&t,i[o++]=112|n>>>28&15,i[o++]=n>>>20&255,i[o++]=128|n>>>14&63,i[o++]=n>>>6&255,i[o++]=n<<2&255|3&e[10],i[o++]=e[11],i[o++]=e[12],i[o++]=e[13],i[o++]=e[14],i[o++]=e[15],i}const Vo=function(e,t,n){let i;if(e)i=Bo(e.random??e.rng?.()??Go(),e.msecs,e.seq,t,n);else{const e=Date.now(),o=Go();!function(e,t,n){e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++)}(Ko,e,o),i=Bo(o,Ko.msecs,Ko.seq,t,n)}return t??function(e,t=0){return(Fo[e[t+0]]+Fo[e[t+1]]+Fo[e[t+2]]+Fo[e[t+3]]+"-"+Fo[e[t+4]]+Fo[e[t+5]]+"-"+Fo[e[t+6]]+Fo[e[t+7]]+"-"+Fo[e[t+8]]+Fo[e[t+9]]+"-"+Fo[e[t+10]]+Fo[e[t+11]]+Fo[e[t+12]]+Fo[e[t+13]]+Fo[e[t+14]]+Fo[e[t+15]]).toLowerCase()}(i)};class Ho{generate(){return Vo()}}class jo{constructor(e,t,n,i,o,r){this.appContext=e,this.browserContextBuilder=t,this.clientContextBuilder=n,this.deviceContextBuilder=i,this.pageContextBuilder=o,this.supporterId=r}setSupporterId(e){this.supporterId=e}getSupporterId(){return this.supporterId}getContext(e){return{app:this.appContext,browser:this.browserContextBuilder.build(),client:this.clientContextBuilder.build(),device:this.deviceContextBuilder.build(),page:this.pageContextBuilder.buildPage(),pageView:this.pageContextBuilder.buildPageView(null==e?void 0:e.withReferrer),supporter:this.supporterId?{id:this.supporterId}:void 0}}getEventContext(){const e=this.getContext();return{app:{id:e.app.id,version:e.app.version,livemode:e.app.livemode},browser:{language:e.browser.language,timezone:e.browser.timezone,userAgent:e.browser.userAgent,doNotTrack:e.browser.doNotTrack,history:e.browser.history,webdriver:e.browser.webdriver,window:{inner:{width:e.browser.window.inner.width,height:e.browser.window.inner.height},scroll:{x:e.browser.window.scroll.scrollX,y:e.browser.window.scroll.scrollY}}},client:{id:e.client.id,consents:e.client.consents},device:{ip:e.device.ip,memory:e.device.memory,cores:e.device.cores,screen:e.device.screen,battery:e.device.battery,connection:e.device.connection},page:{url:e.page.url,title:e.page.title,debugPanel:e.page.debugPanel},pageView:{id:e.pageView.id,referrer:e.pageView.referrer},legacy:{event:{},checkout:{}}}}}class Xo{static create(e,t,n,i){const o=new Ho,r=new xo(t),s=new Mo(t),a=new Do,c=o.generate(),l=new Ro(t),d=new Po(e,s),u=new bo(t,a,r),p=new Lo(t,c);return new jo(n,l,d,u,p,i)}}class Yo{constructor(e){this.timeoutInstance=0,this.items=[],this.timeout=e.timeout||1e3,this.limit=e.limit||30,this.onFlush=e.onFlush,this.resetTimeout()}push(e,t){this.items.push(e),(t||this.items.length>=this.limit)&&this.flush()}flush(){this.items.length?(this.onFlush(this.items),this.items=[],this.resetTimeout()):this.resetTimeout()}resetTimeout(){this.timeoutInstance&&clearTimeout(this.timeoutInstance),this.timeoutInstance=window.setTimeout(()=>{this.flush()},this.timeout)}}const zo=[co],Wo=["Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"];function $o(e){return new Promise(function(t,n){!function(e,t,n){const i=new XMLHttpRequest;i.open(e.method||"GET",e.url),i.withCredentials=!("withCredentials"in e)||Boolean(e.withCredentials),i.onload=function(){if(this.status>=200&&this.status<300){const e=i.getResponseHeader("content-type");if(e&&-1!==e.indexOf("application/json"))try{return t(JSON.parse(i.response))}catch(e){n(e)}t(i.response)}else{if(e.validStatuses&&-1!==e.validStatuses.indexOf(this.status))return t();n(new Error(`[Tracker]: Server ${e.method} response status ${this.status} for url ${e.url}, ${i.statusText}`))}},i.onerror=function(){n({status:this.status,statusText:i.statusText})};const o=e.headers;o&&Object.keys(o).forEach(function(e){i.setRequestHeader(e,o[e])});let r=e.params;r&&"object"==typeof r&&(r=JSON.stringify(r)),i.send(r)}(e,t,n)})}const qo={};Object.entries({name:"n",id:"i",accountId:"aid",dateTime:"dt","properties.app.id":"ai","properties.app.version":"av","properties.app.livemode":"al","properties.browser.language":"bl","properties.browser.timezone":"bt","properties.browser.userAgent":"bu","properties.browser.doNotTrack":"bd","properties.browser.history.length":"bh","properties.browser.webdriver":"bw","properties.browser.window.inner.width":"bww","properties.browser.window.inner.height":"bwh","properties.browser.window.scroll.scrollX":"bsx","properties.browser.window.scroll.scrollY":"bsy","properties.client.id":"ci","properties.client.consents":"cc","properties.device.ip":"di","properties.device.dateTime":"ddt","properties.device.memory":"dm","properties.device.cores":"dc","properties.device.screen.orientation":"dso","properties.device.screen.width":"dsw","properties.device.screen.height":"dsh","properties.device.screen.pixelRatio":"dsp","properties.device.battery.charging":"dbc","properties.device.battery.chargingTime":"dbct","properties.device.battery.dischargingTime":"dbdt","properties.device.battery.level":"dbl","properties.device.connection.online":"dco","properties.device.connection.type":"dct","properties.device.connection.downlink":"dcd","properties.device.connection.effectiveType":"dcet","properties.device.connection.roundTripTime":"dcr","properties.page.url":"pu","properties.page.title":"pt","properties.page.debugPanel":"pd","properties.pageView.id":"pvi","properties.pageView.referrer":"pvr","properties.supporter.id":"si"}).forEach(([e,t])=>{qo[t]=e});class Jo{constructor(e,t){this.requestHandler=e,this.possibleAdBlockersErrorMessages=t}sendRequests(e){const t=function(e){const t=new Map;return e.forEach(e=>{t.has(e.url)||t.set(e.url,[]),t.get(e.url).push(e.payload)}),t}(e);t.forEach((e,t)=>{const n=JSON.stringify(e);this.sendRequest(t,n)})}sendRequest(e,t){let n=!1;try{this.sendFetchRequest(e,t)}catch(e){n=!0}n&&this.requestHandler({method:"POST",url:e,params:t}).catch(console.warn)}sendFetchRequest(e,t){fetch(e,{method:"POST",body:t,keepalive:!0}).catch(e=>{if(console.warn(e),!this.possibleAdBlockersErrorMessages.some(t=>e.message.includes(t)))throw e})}}var Zo;!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(Zo||(Zo={}));class Qo{constructor(e){this.window=e.window,this.url=e.url,this.trackingTarget=e.trackingTarget,this.env=e.env,this.bulk=e.bulk}send(e,t){return n=this,i=void 0,r=function*(){if(this.window.FUN_DO_NOT_TRACK||this.isBlockedByDomain())return;let t=!1;e.name&&-1!==zo.indexOf(e.name)&&(t=!0),e.name===ao&&-1!==this.window.location.href.indexOf("alz.org")&&(t=!0),this.bulk.push({url:this.url+this.trackingTarget,payload:e},t)},new((o=void 0)||(o=Promise))(function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function a(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(s,a)}c((r=r.apply(n,i||[])).next())});var n,i,o,r}getTrackingUrl(){return this.url}isReady(){return!0}isBlockedByDomain(){return this.env===Zo.PRODUCTION&&(!!this.window.location.protocol.includes("file")||/127\.0|192\.168|localhost|localtest\.me/.test(this.window.location.hostname))}}class er{constructor(e){this.validatorPromise=e}validate(e){return t=this,n=void 0,o=function*(){const t=yield this.validatorPromise;if(!t)return;const n=t.validate(e);if(n)throw new fo(n.message)},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,a)}c((o=o.apply(t,n||[])).next())});var t,n,i,o}}class tr{constructor(e,t){this.name=ao,this.properties={legacy:{dataLayerEventName:e,customEvent:{type:"dataLayer",data:t}}}}}class nr{constructor(e,t,n,i,o,r,s,a,c){this.window=e,this.trackerPageContext=t,this.client=n,this.companyKey=i,this.subscriberService=o,this.pointerUsageTracker=r,this.isABTestMode=s,this.eventValidator=a,this.dataLayerTracker=c}get clientId(){return this.trackerPageContext.getContext().client.id}get livemode(){return this.trackerPageContext.getContext().app.livemode}track(e){return t=this,n=void 0,o=function*(){const t=this.trackerPageContext.getContext(),n=this.trackerPageContext.getEventContext(),i={name:e.name,id:t.pageView.id,accountId:this.companyKey,dateTime:t.device.dateTime,properties:Object.assign(Object.assign({},n),"object"==typeof e.properties&&null!==e.properties?e.properties:{})};try{yield this.eventValidator.validate(i)}catch(e){if(e instanceof fo)return void console.error(e.message);throw e}this.client.send(i),this.publish(i)},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,a)}c((o=o.apply(t,n||[])).next())});var t,n,i,o}subscribe(e,t){this.subscriberService.subscribe(e,t)}publish(e){this.subscriberService.publish(e)}initializeTracking(){this.initializeDataLayerTracking(this.window,this.isABTestMode),this.pointerUsageTracker.initializeTracking(this.window)}initializePointerUsageTracking(e){this.pointerUsageTracker.initializeTracking(e)}initializeDataLayerTracking(e,t){this.dataLayerTracker&&(this.dataLayerTracker.setEventCallback((e,t)=>{this.track(new tr(e,t))}),this.dataLayerTracker.initializeTracking(e,t))}reset(){this.pointerUsageTracker.reset()}setSupporterId(e){this.trackerPageContext.setSupporterId(e)}}function ir(e){const{companyKey:t,appContext:n,env:i,logger:o,window:r,topLevelDomain:a,isABTestMode:c,trackingConfig:l,serverClientId:d}=e,u=new oo,p=new So(u),h=new yo(p,r,d);h.initialize();const m=Xo.create(h,r,n),E=function(e){var t,n;const i=new Jo(e.requestHandler||$o,Wo),o=new Yo({limit:(null===(t=e.bulkConfig)||void 0===t?void 0:t.limit)||30,timeout:(null===(n=e.bulkConfig)||void 0===n?void 0:n.timeout)||1e3,onFlush:e=>i.sendRequests(e)});return new Qo({window:e.window,url:e.url,trackingTarget:e.trackingTarget,env:e.env,bulk:o})}({window:r,url:l.url,trackingTarget:l.trackingTarget,env:i}),g=new No,f=new Oo,T=function(e,t){const n=(()=>{return n=this,i=void 0,r=function*(){if(e!==Zo.PRODUCTION&&e!==Zo.STAGING)try{const{TrackingEventValidator:e}=yield Promise.all([s.e(31),s.e(604)]).then(s.t.bind(s,"../tracking-migration-converter/dist/index.js",23));return new e}catch(e){return void t.error({msg:"Failed to create TrackingEventsValidator",error:e instanceof Error?e.message:String(e)})}},new((o=void 0)||(o=Promise))(function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function a(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o(function(e){e(n)})).then(s,a)}c((r=r.apply(n,i||[])).next())});var n,i,o,r})();return new er(n)}(i,o),_=new Co;return new nr(r,m,E,t,g,f,c,T,_)}class or extends Ze{constructor(e,t){super(),this.payload={dataLayerEventName:e,dataLayerParams:JSON.stringify(t)}}get eventType(){return ze}}var rr=s("../../clickhouse/mapper/index.js");function sr(e,t){return t.encode?t.strict?encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):encodeURIComponent(e):e}function ar(e=19){const t=window.crypto||window.msCrypto;let n="";if(t&&"function"==typeof t.getRandomValues){const i=new Uint8Array(e);t.getRandomValues(i),n=[].slice.call(i).map(e=>e%10).join("")}else for(let t=0;t<e;t++)n+=Math.floor(10*Math.random()).toString();return"0"!==n[0]?n:ar(e)}function cr(e){return!!e&&20===e.length&&!/[^\d]/.test(e)}class lr extends Error{constructor(e){super(`Invalid client ID: ${e}`),this.name="InvalidClientIdError"}}class dr{constructor(){this.subscribers=[]}publish(e){this.subscribers.forEach(t=>{t.callback(e)})}subscribe(e,t){this.subscribers.find(e=>e.name===t)||this.subscribers.push({callback:e,name:t})}}function ur(){const e=function(){if(!function(){try{return void 0!==window.Intl}catch(e){return!1}}())return;const e=window.Intl;if(e&&"object"==typeof e&&"function"==typeof e.DateTimeFormat){const t=new e.DateTimeFormat("en-US");if("object"!=typeof t)return;const n="function"==typeof t.resolvedOptions&&t.resolvedOptions();if("object"!=typeof n)return;const i=n.timeZone;if(!i)return;return i}}();return e||function(){const e=-(new Date).getTimezoneOffset()/60;return e>=0?`UTC+${e}`:`UTC${e}`}()}class pr{constructor(e,t){var n;this.window=e,this.publicApi=t,this._pageScripts=[],this.sideLibrariesLookupTries=1,this.launchedSiteScripts=[],this.clientCookieConsent=[],this.pageViewId=ar(),this.pageViewTimeCreate=this.publicApi&&this.publicApi.s||Date.now(),this.resolutionWidth=0,this.resolutionHeight=0,this.window.screen&&(this.resolutionWidth=this.window.screen.width,this.resolutionHeight=this.window.screen.height),this.funSnippetVersion=this.publicApi&&this.publicApi.v||"0",this.pageViewId=`${n=this.pageViewId.slice(0,-1)}${function(e){const t=e.toString().replace(/[^0-9]/g,""),n={0:0,1:2,2:4,3:6,4:8,5:1,6:3,7:5,8:7,9:9};let i=0,o=1;for(let e=t.length-1;e>-1;e-=1)i+=o?n[t[e]]:parseFloat(t[e]),o^=1,i>0xffffffffffff&&(i%=10);return(10-i%10).toString().slice(-1)}(n)}`,this.searchedLibraries={ga:this.getGoogleAnalytics.bind(this),gtm:this.getGoogleTagManager.bind(this),fbpx:this.getFacebookPixel.bind(this),gtag:this.getGlobalSiteTagManager.bind(this),optimizely:this.getOptimizely.bind(this),"adobe.target":this.getAdobeTarget.bind(this),goptimize:this.getGoogleOptimize.bind(this),unbounce:this.getUnbounce.bind(this),hotjar:this.getHotjar.bind(this),nextjs:this.getNextJs.bind(this),wix:this.getWix.bind(this)},this.applyNavigatorVariables(navigator),this.collectPageScripts()}get pageScripts(){return this._pageScripts.length<Object.keys(this.searchedLibraries).length&&this.sideLibrariesLookupTries<=10&&this.collectPageScripts(),this._pageScripts}getSideLibraryByScriptSource(e){return this.launchedSiteScripts.some(({src:t})=>t&&!!t.match(e))}collectFunCookies(){const e=this.window.document.cookie.split(";").filter(e=>-1!==e.indexOf("fundraiseup_"));this.clientCookieConsent=e.map(e=>e.split("=")[0].trim())}collectPageScripts(){this.sideLibrariesLookupTries+=1;const e=this.window.document.querySelectorAll("script");this.launchedSiteScripts=[].slice.call(e),Object.keys(this.searchedLibraries).forEach(e=>{const t=this.searchedLibraries[e];-1===this._pageScripts.indexOf(e)&&t()&&this._pageScripts.push(e)})}toObject(){return this.collectFunCookies(),{pageViewId:this.pageViewId,pageViewTimeCreate:this.pageViewTimeCreate,pageViewLifetime:Math.max(Date.now()-this.pageViewTimeCreate,0),clientTimeZone:ur(),clientTime:Date.now(),URL:this.window.location.href,referer:this.window.document.referrer||void 0,title:this.window.document.title,uaHistoryLength:this.window.history.length,uaWebdriver:this.window.navigator.webdriver?1:0,resolutionWidth:Math.max(this.resolutionWidth,0),resolutionHeight:Math.max(this.resolutionHeight,0),windowWidth:Math.max(this.window.innerWidth,0),windowHeight:Math.max(this.window.innerHeight,0),windowScrollY:Math.max(this.window.scrollY||this.window.pageYOffset||0,0),windowScrollX:Math.max(this.window.scrollX||this.window.pageXOffset||0,0),pageScripts:this.pageScripts,clientOnLine:this.clientOnLine,clientDoNotTrack:this.clientDoNotTrack,clientDevicePixelRatio:this.clientDevicePixelRatio,clientDeviceMemory:this.clientDeviceMemory,clientHardwareConcurrency:this.clientHardwareConcurrency,clientConnectionType:this.clientConnectionType,clientConnectionDownlink:this.clientConnectionDownlink,clientConnectionRTT:this.clientConnectionRTT,clientConnectionEffectiveType:this.clientConnectionEffectiveType,clientBatteryCharging:this.clientBatteryCharging,clientBatteryChargingTime:this.clientBatteryChargingTime,clientBatteryDischargingTime:this.clientBatteryDischargingTime,clientBatteryLevel:this.clientBatteryLevel,funSnippetVersion:this.funSnippetVersion,funEmbedRelease:window.FUN?window.FUN.version:"",clientCookieConsent:this.clientCookieConsent}}applyNavigatorVariables(e){var t;const n=e.connection||e.mozConnection||e.webkitConnection;window.Navigator&&window.navigator instanceof window.Navigator&&"function"==typeof e.getBattery&&(null===(t=e.getBattery())||void 0===t||t.then(e=>{this.clientBatteryCharging=e.charging?1:0,this.clientBatteryChargingTime=e.chargingTime,this.clientBatteryDischargingTime=e.dischargingTime,this.clientBatteryLevel="number"==typeof e.level?e.level:0}).catch(e=>{console.warn(e),this.clientBatteryCharging=0,this.clientBatteryChargingTime=0,this.clientBatteryDischargingTime=0,this.clientBatteryLevel=0})),this.clientOnLine=e.onLine?1:0,this.clientDoNotTrack="1"===e.doNotTrack?1:0,this.clientDevicePixelRatio=window.devicePixelRatio,this.clientDeviceMemory=e.deviceMemory,this.clientHardwareConcurrency="number"!=typeof e.hardwareConcurrency?0:e.hardwareConcurrency,n&&(this.clientConnectionType=n.type,this.clientConnectionDownlink=this.formatConnectionDownlink(n.downlink),this.clientConnectionRTT=n.rtt,this.clientConnectionEffectiveType=n.effectiveType)}getGoogleAnalytics(){return"function"==typeof this.window.ga}getGoogleTagManager(){return this.getSideLibraryByScriptSource(/gtm.js[?]id=([^=&]*)/)}getFacebookPixel(){return"function"==typeof this.window.fbq}getGlobalSiteTagManager(){return"function"==typeof this.window.gtag}getOptimizely(){return this.window.optimizely}getAdobeTarget(){return this.window.adobe&&this.window.adobe.target}getGoogleOptimize(){return!!this.window.google_optimize}getUnbounce(){return this.window.ube&&this.window.ube.init}getHotjar(){return this.window.hj&&this.window._hjSettings}getNextJs(){var e;return window.next||window.__next_f||(null===(e=this.window.document)||void 0===e?void 0:e.querySelector('[src*="_next/static/"]'))}getWix(){return window.wixCustomElements||window.wixEmbedsAPI||window.wixTagManager}formatConnectionDownlink(e){const t=e||0;return"string"==typeof t?parseFloat(t)||0:t}}const hr=[/FBAV|FBAN|FBSV|FBID|FBBV\/([0-9.]+)/,/Instagram\s([0-9.]+)/,/Snapchat\/([0-9.]+)/,/MicroMessenger\/([0-9.]+)/,/Twitter for iPhone[/]?([\d.]+)?/,/TikTok[/ ](\d+\.(?:[.\d]+))?/,/bytedance/i,/musical_ly/i,/LinkedInApp/i,/gsa/i,/;\s*wv\)/];class mr{constructor(){this.subscribers={}}publish(e,t){this.subscribers[e]&&this.subscribers[e].forEach(e=>new Promise(()=>e(t)))}subscribe(e,t){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t),!0}}const Er=[/^gtm\..*$/,/^__cmp.*$/,/^optimize\..*$/,/^setPromo$/,/^trackOptanonEvent$/,/^consentDataForTheRecord$/,/^optanonConsentUpdated$/,/^nextroll-consent$/,/^FundraiseUp\./,/^youtube/i];class gr{constructor({window:e,companyKey:t,storage:n,trackerClient:i,source:o,supporterKey:r,agentKey:s,livemode:a,localeCode:c,isFundraiseupVisitor:l,shadowUserKey:d,shadowAdminId:u,isABTestMode:p,fromDonorPortal:h,serverClientId:m,sessionStorage:E}){var g;this.observer=new mr,this.tags=new Set,this.uaIsInApp=!1,this.pointingDeviceIsUsed=!1,this.trackerEventClick=null,this._clientId="",this.eventSent=Date.now(),this.cookiesUnsetable=!1,this.started=!1,this.pingDelay=15e3,this.isTouchDevice=!1,this.window=e,this.trackerClient=i,this.livemode=a,this.companyKey=t,this.CIDStorage=n,this.subscriberStorage=new dr,this.uaIsInApp=(g=e.navigator.userAgent,hr.some(e=>e.exec(g))),this.source=o,this.supporterKey=r,this.agentKey=s,this.clientLocale=c,this.isFundraiseupVisitor=l,this.shadowUserKey=d,this.shadowAdminId=u,this.isABTestMode=p,this.fromDonorPortal=h,this.serverClientId=m,this.sessionStorage=E}get page(){return this._page}get clientId(){if(this._clientId&&!cr(this._clientId))throw new lr(this._clientId);return this._clientId}get isPingAvailable(){return Date.now()-this.eventSent>this.pingDelay}start(){if(this.preStartOptionsValidation(),this.started)throw new Error("16");this._page=new pr(this.window,this.window.FundraiseUp),this.setupCookies(),this.started=!0,this.isTouchDevice="ontouchstart"in window||!!navigator.maxTouchPoints,this.initializeHandleClick(),this.initializeDataLayerTracking(),this.initializePointerUsageTracking()}initializeCidTLD(){if(!this.sessionStorage)throw new Error("Must provide Session Storage");this.read(),this._clientId||this.createOrSetClientId(this.CIDStorage.get());const e=function(e,t,n,i){const o=i.split("."),r=t.getPersistedField(qe.TOP_LEVEL_DOMAIN);if(r)return r;let s="";if(1===o.length&&(s=o[0]),2===o.length&&(s="."+o.join(".")),3===o.length&&"www"===o[0]&&(s="."+o.slice(-2).join(".")),s)return e.set(n,{expires:400,domain:s,sameSite:"Lax"}),t.setData({[qe.TOP_LEVEL_DOMAIN]:s},{domain:s}),s;s=o.splice(-1).join();for(let i=o.length;i>0;i--){const i=o.splice(-1).join();if("www"===i)return"."+s;if(s=i+"."+s,e.set(n,{expires:400,domain:s,sameSite:"Lax"}),e.get())return t.setData({[qe.TOP_LEVEL_DOMAIN]:"."+s},{domain:"."+s}),"."+s}}(this.CIDStorage,this.sessionStorage,this.clientId,this.window.location.hostname);this.CIDStorage.topLevelDomain=null!=e?e:""}getTLD(){return this.CIDStorage.topLevelDomain}preStartOptionsValidation(){if(!this.companyKey)throw new Error("15")}setupCookies(){this.cookiesUnsetable||(this.read(),this.refresh())}subscribe(e,t){this.subscriberStorage.subscribe(e,t)}setEventTags(e){e.forEach(e=>this.tags.add(e))}getTags(){return Array.from(this.tags)}removeEventTags(e){this.tags.forEach(t=>{e.some(e=>t.substring(0,e.length)===e)&&this.tags.delete(t)})}ping(e,t){if(!this.isPingAvailable)return;const n=e||new po;this.track(n,t)}customTrack(e){this.track(new nt({customEventType:e.type,customEventData:e.data}))}track(e,t){if(!this.started)return;const n=this.page&&this.page.toObject()||{},i=Object.assign({},this.trackerPayloadPartial);if(Object.keys(n).forEach(e=>{i[e]=n[e]}),i.livemode=this.livemode?1:0,e.merge(i),this.mergeEventTags(e),!e.validate())return;const o=e.toObject();o.source=this.source,this.observer.publish(e.eventType,o),this.trackerClient.send(o,t),this.eventSent=Date.now(),this.publishData(o)}initializePointerUsageTracking(e){if(this.pointingDeviceIsUsed)return;const t=e||this.window,n=()=>{this.pointingDeviceIsUsed=!0,t.removeEventListener("pointermove",n),t.removeEventListener("pointerdown",n),t.removeEventListener("pointerup",n)};t.addEventListener("pointermove",n),t.addEventListener("pointerdown",n),t.addEventListener("pointerup",n)}initializeHandleClick(){const e=this.trackerEventClick;e&&this.window.addEventListener("click",t=>{t.target&&this.track(new e(t.target))})}get trackerPayloadPartial(){const e={clientId:this.clientId,companyKey:this.companyKey,supporterKey:this.supporterKey,clientLocale:this.clientLocale,pointingDeviceIsUsed:this.pointingDeviceIsUsed?1:0,isFundraiseupVisitor:this.isFundraiseupVisitor,uaIsInApp:this.uaIsInApp?1:0};return this.fromDonorPortal&&(e.eventComment={fromDonorPortal:1}),e}refresh(){this._clientId||this.createOrSetClientId(this.CIDStorage.get()),this.write()}createOrSetClientId(e){this._clientId=e&&"undefined"!==e&&20===e.length?e:(Date.now().toString()+ar(20)).slice(0,20)}write(){this._clientId&&this.CIDStorage.set(this.clientId,{expires:400,domain:this.CIDStorage.topLevelDomain,sameSite:"Lax"})}read(){const e=Xn(this.window.location.href).clientId||"",t=this.CIDStorage.get()||"";cr(e)?this._clientId=e:cr(t)?this._clientId=t:cr(this.serverClientId)?this._clientId=this.serverClientId:this._clientId=""}initializeDataLayerTracking(){if(this.window.dataLayer||(this.window.dataLayer=[]),!Array.isArray(this.window.dataLayer))return;const e=this.window.dataLayer,t=e=>(Array.isArray(e)||e&&"object"==typeof e&&"number"==typeof e.length)&&e.length>=3&&"event"===e[0]&&"string"==typeof e[1]?e[1]:"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.event?null:e.event,n=e=>{if(!this.isABTestMode)return!1;const n=t(e);return!!n&&!Er.some(e=>e.test(n))},i=e=>{if(n(e)){const n=t(e);this.track(new or(n,e))}};e.forEach(i);const o=e.push;e.push=function(...t){return i(t[0]),o.apply(e,t)}}publishData(e){this.subscriberStorage.publish(e)}mergeEventTags(e){let t=[];e.payload.eventTags&&(t=e.payload.eventTags.slice()),this.tags.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),e.payload.eventTags=t}}class fr{constructor(e){this.timeoutInstance=0,this.items=[],this.timeout=e.timeout||1e3,this.limit=e.limit||30,this.onFlush=e.onFlush,this.resetTimeout()}push(e,t){this.items.push(e),(t||this.items.length>=this.limit)&&this.flush()}flush(){this.items.length?(this.onFlush(this.items),this.items=[],this.resetTimeout()):this.resetTimeout()}resetTimeout(){this.timeoutInstance&&clearTimeout(this.timeoutInstance),this.timeoutInstance=window.setTimeout(()=>{this.flush()},this.timeout)}}var Tr,_r,vr;function yr(e){return new Promise(function(t,n){!function(e,t,n){const i=new XMLHttpRequest;i.open(e.method||"GET",e.url),i.withCredentials=!("withCredentials"in e)||Boolean(e.withCredentials),i.onload=function(){if(this.status>=200&&this.status<300){const e=i.getResponseHeader("content-type");if(e&&-1!==e.indexOf("application/json"))try{return t(JSON.parse(i.response))}catch(e){n(e)}t(i.response)}else{if(e.validStatuses&&-1!==e.validStatuses.indexOf(this.status))return t();n(new Error(`[Shared]: Server ${e.method} response status ${this.status} for url ${e.url}, ${i.statusText}`))}},i.onerror=function(){n({status:this.status,statusText:i.statusText})};const o=e.headers;o&&Object.keys(o).forEach(function(e){i.setRequestHeader(e,o[e])});let r=e.params;r&&"object"==typeof r&&(r=JSON.stringify(r)),i.send(r)}(e,t,n)})}!function(e){e.CHECKOUT="checkout"}(Tr||(Tr={})),function(e){e.TOP="top",e.LEFT="left",e.FOREGROUND="foreground"}(_r||(_r={})),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(vr||(vr={}));const Ar=[Xe,"click",je,"checkoutClose",Ye];class Sr{constructor(e){this.request=yr,this.possibleAdBlockersErrorMessages=["Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"],this.window=e.window,this.url=e.url,this.trackingTarget=e.trackingTarget,this.env=e.env,this.bulk=new fr({limit:30,onFlush:e=>this.sendRequests(e)})}send(e,t){if((window.FUN_DO_NOT_TRACK||this.isBlockedByDomain())&&(!t||t&&t.trackerType!==Tr.CHECKOUT))return;const n=function(e){return function(e,t={}){const n={encode:!0,strict:!0,arrayFormat:"none"};Object.assign(n,t),!1===n.sort&&(n.sort=function(){});const i=function(e){return function(t,n){return null===n?sr(t,e):[sr(t,e),"=",sr(n,e)].join("")}}(n);return e?Object.keys(e).sort(n.sort).map(function(t){const o=e[t];if(void 0===o)return"";if(null===o)return sr(t,n);if(Array.isArray(o)){const e=[];return o.slice().forEach(function(n){void 0!==n&&e.push(i(t,n,e.length))}),e.join("&")}return sr(t,n)+"="+sr(o,n)}).filter(function(e){return e.length>0}).join("&"):""}((0,rr.compressPayload)(e))}(e),i=(null==t?void 0:t.url)||this.url;let o=-1!==Ar.indexOf(e.eventType);e.eventType===ze&&-1!==this.window.location.href.indexOf("alz.org")&&(o=!0),this.bulk.push({url:i+this.trackingTarget,payload:n},o)}isBlockedByDomain(){return this.env===vr.PRODUCTION&&(!!window.location.protocol.includes("file")||/127\.0|192\.168|localhost|localtest\.me/.test(window.location.hostname))}sendRequests(e){const t=function(e){const t=new Map;return e.forEach(({url:e,payload:n})=>{const i=t.get(e)||[];i.push(n),t.set(e,i)}),t}(e);t.forEach((e,t)=>{const n=JSON.stringify(e);this.sendRequest(t,n)})}sendRequest(e,t){let n=!1;try{this.sendFetchRequest(e,t)}catch(e){n=!0}n&&this.request({method:"POST",url:e,params:t}).catch(console.warn)}sendFetchRequest(e,t){fetch(e,{method:"POST",body:t,keepalive:!0}).catch(e=>{if(console.warn(e),!this.possibleAdBlockersErrorMessages.some(t=>e.message.includes(t)))throw e})}}var wr,Cr,Or;!function(e){e[e.CHECKOUT=13]="CHECKOUT"}(wr||(wr={})),function(e){e.EMBED="embed"}(Cr||(Cr={}));class Nr{constructor(e,t,n,i,o,r){this.requester=e,this.apiKey=t,this.scope=n,this.release=i,this.environment=o,this.url=`https://sentry.fundraiseup.com/api/${r}/envelope/?sentry_key=${this.apiKey}`}captureException(e,t){this.isIgnoredException(e)||this.requester(this.url,{method:"POST",body:this.getBody(e,t),headers:{"content-type":"text/plain; charset=utf-8"}}),console.error(e)}getEnrichData(e,t={}){return{exception:{values:[{type:"Error",value:e.message,stacktrace:{frames:[]}}]},level:"error",platform:"javascript",timestamp:Date.now()/1e3,environment:this.environment,release:this.release,tags:Object.assign(Object.assign({},t),{scope:this.scope})}}getBody(e,t){return JSON.stringify(this.getInfo())+"\n"+JSON.stringify(this.getType())+"\n"+JSON.stringify(this.getEnrichData(e,t))}getInfo(){return{sent_at:(new Date).toISOString()}}getType(){return{type:"event"}}isIgnoredException(e){return 0===e.statusCode}}class Ir extends Nr{constructor(e,t,n,i,o,r,s){super(e,t,n,i,o,r),this.embedConfig=s,this.ignoreErrors=[/Failed to fetch$/,/Loading chunk \d{3,5} failed/,/The operation is insecure\.$/,/parameter 1 is not of type ['"]?Element['"]?/,/Maximum call stack size exceeded/,/2 is not provided/,/elm.events.push is not a function/,/Load failed/]}getTagsFromConfig(){var e,t,n,i,o,r;return{userCountry:null===(t=null===(e=this.embedConfig.meta)||void 0===e?void 0:e.user.location)||void 0===t?void 0:t.country,isFundraiseupVisitor:this.embedConfig.isFundraiseupVisitor,isMobile:this.embedConfig.deviceData.isMobile,isMobileOrTablet:this.embedConfig.deviceData.isMobileOrTablet,osName:null===(i=null===(n=this.embedConfig.browserData)||void 0===n?void 0:n.os)||void 0===i?void 0:i.name,osVersion:null===(r=null===(o=this.embedConfig.browserData)||void 0===o?void 0:o.os)||void 0===r?void 0:r.version,companyKey:this.embedConfig.currentCompanyKey,isInAppBrowser:this.embedConfig.browserData.isInAppBrowser}}getBrowserTags(){var e,t;return{server_name:window.location.origin,platform:window.navigator.platform,cookieEnabled:window.navigator.cookieEnabled,language:window.navigator.language,connectionType:null===(e=window.navigator.connection)||void 0===e?void 0:e.effectiveType,downlink:null===(t=window.navigator.connection)||void 0===t?void 0:t.downlink}}getBrowserExtra(){return{userAgent:window.navigator.userAgent,href:window.location.href}}getEnrichData(e,t={}){const n=super.getEnrichData(e);return Object.assign(Object.assign({},n),{tags:Object.assign(Object.assign(Object.assign(Object.assign({},n.tags),this.getTagsFromConfig()),this.getBrowserTags()),t),extra:Object.assign(Object.assign(Object.assign({},n.extra||{}),this.getBrowserExtra()),{stacktrace:e.stack})})}isIgnoredException(e){const t=!this.embedConfig.browserData.isSupported,n=""===window.navigator.userAgent||0===(null===(i=window.navigator.languages)||void 0===i?void 0:i.length)||window.navigator.webdriver;var i;const o=this.ignoreErrors.some(t=>t.test(e.message)),r=window.location.origin.includes("hubspotpreview");return t||n||o||r||super.isIgnoredException(e)}}class Rr{constructor(e,t){this.funStorageAdapter=e,this._inMemoryStorage={},this.env=t.env,this._allowWrite=t.allowWrite,this.inMemoryStorage=this.funStorageAdapter.getData()}get available(){return this.funStorageAdapter.available}get isFuncStorageInitialized(){return this.funStorageAdapter.isFuncStorageInitialized}get allowWrite(){return this._allowWrite}set allowWrite(e){this._allowWrite=e}getData(){return this.inMemoryStorage}setData(e,t){this.inMemoryStorage=e,this.allowWrite&&this.funStorageAdapter.setData(e,t)}removeData(e){}initialize(e,t){this.funStorageAdapter.initialize({[qe.TOP_LEVEL_DOMAIN]:e},t)}getField(e){const t=this.getData();return t&&e in t?t[e]:null}getPersistedField(e){const t=this.funStorageAdapter.getPersistedData();return t&&e in t?t[e]:null}setField(e,t){const n=this.getData()||{};n[e]=t;const i=Ki(this.env,n[qe.TOP_LEVEL_DOMAIN]);this.setData(n,i)}removeField(e){const t=this.getData();delete t[e];const n=Ki(this.env,t[qe.TOP_LEVEL_DOMAIN]);this.setData(t,n)}setInMemoryDataToStorage(){if(!this.allowWrite)throw new Error("Session Storage error - Cannot save data to storage when write is not allowed");if(!this.inMemoryStorage[qe.TOP_LEVEL_DOMAIN])return void console.error("Session Storage error: Top level domain is not set");const e=Ki(this.env,this.inMemoryStorage[qe.TOP_LEVEL_DOMAIN]);this.funStorageAdapter.initFuncStorage(this.inMemoryStorage,e)}get inMemoryStorage(){return Object.assign({},this._inMemoryStorage)}set inMemoryStorage(e){this._inMemoryStorage=e}}class Pr{constructor(e,t){this.storage=e,this.initAt=t||(new Date).getTime(),this.read()}incrementSession(){this.sessionPage++,this.refresh()}refresh(){this.sessionAt||this.addSession(),this.write()}addSession(){this.sessionAt=this.initAt}write(){this.storage.setField(qe.SESSION_AT,this.sessionAt.toString(10)),this.storage.setField(qe.SESSION_PAGE,this.sessionPage)}read(){this.sessionAt=Number(this.storage.getField(qe.SESSION_AT))||0,this.sessionPage=Number(this.storage.getField(qe.SESSION_PAGE))||0}}!function(e){e.DONOR_PORTAL="donorPortal",e.DASHBOARD="dashboard",e.DASHBOARD_USER="dashboardUser"}(Or||(Or={}));class br{constructor(e){this.window=e}saveDocumentOriginalStyles(){const e=()=>{this.saveOriginalStyles(this.window.document.body),this.saveOriginalStyles(this.window.document.documentElement)};if(this.window.document.body)return e();yi(this.window.document,e)}setStyle(e,t){t.setAttribute("style",e)}appendStyle(e,t){const n=(t.getAttribute("style")||"")+e;t.setAttribute("style",n)}restoreOriginalStyles(e){let t="";this.originalStyles.has(e)&&(t=this.originalStyles.get(e)),e.setAttribute("style",t),this.originalStyles.delete(e)}saveOriginalStyles(e){if(this.originalStyles.has(e))return;const t=e.getAttribute("style")||"";this.originalStyles.set(e,t)}get originalStyles(){return this._originalStyles||(this._originalStyles=new WeakMap),this._originalStyles}}class Lr{constructor(e,t){this.window=e,this.isMobile=t,this.isLocked=!1}lock(){this.isLocked||(this.saveDefaultStyles(),this.bodyStyle.setProperty(Lr.overflowStyleProp,"hidden","important"),this.isMobile||(this.bodyStyle.setProperty(Lr.heightStyleProp,"auto","important"),this.bodyStyle.setProperty(Lr.minHeightStyleProp,"100%","important")),this.isLocked=!0)}unlock(){this.isLocked&&this.overflow&&(this.restoreDefaultStyles(),this.isLocked=!1)}get bodyStyle(){return this.window.document.body.style}saveDefaultStyles(){this.overflow={value:this.bodyStyle.getPropertyValue(Lr.overflowStyleProp),priority:this.bodyStyle.getPropertyPriority(Lr.overflowStyleProp)},this.isMobile||(this.height={value:this.bodyStyle.getPropertyValue(Lr.heightStyleProp),priority:this.bodyStyle.getPropertyPriority(Lr.heightStyleProp)},this.minHeight={value:this.bodyStyle.getPropertyValue(Lr.minHeightStyleProp),priority:this.bodyStyle.getPropertyPriority(Lr.minHeightStyleProp)})}restoreDefaultStyles(){var e,t,n;(null===(e=this.overflow)||void 0===e?void 0:e.value)?this.bodyStyle.setProperty(Lr.overflowStyleProp,this.overflow.value,this.overflow.priority):this.bodyStyle.removeProperty(Lr.overflowStyleProp),this.isMobile||((null===(t=this.height)||void 0===t?void 0:t.value)?this.bodyStyle.setProperty(Lr.heightStyleProp,this.height.value,this.height.priority):this.bodyStyle.removeProperty(Lr.heightStyleProp),(null===(n=this.minHeight)||void 0===n?void 0:n.value)?this.bodyStyle.setProperty(Lr.minHeightStyleProp,this.minHeight.value,this.minHeight.priority):this.bodyStyle.removeProperty(Lr.minHeightStyleProp))}}Lr.overflowStyleProp="overflow",Lr.heightStyleProp="height",Lr.minHeightStyleProp="min-height";class Dr{constructor(e){var t;this.customHashToKeyIndex=new Map,this.keyToCustomHashIndex=new Map,this.originalKeyIndex=new Map,this.elementsMap=new Map,this.giftCatalogs=new Map,this.fundraisersMap=new Map,this.campaignGroupMap=new Map,this.campaignSubGroupMap=new Map,this.index=new Map,this.processCampaignsKeys([...(t=e.campaignKeyGroups,Object.values(t).map(e=>Object.values(e)).flatMap(e=>e).flatMap(e=>e)),...e.inactiveWidgets]),this.processCampaignsKeyGroups(e.campaignKeyGroups),this.processElementKeys(e.elements),this.processGiftCatalogKeys(e.giftCatalogs)}processCampaignsKeys(e=[]){e.forEach(e=>{const[t,n]=e,i=this.normalize(t);if(this.index.set(i,"WIDGET"),this.originalKeyIndex.set(i,t),n){const e=this.normalize(n);this.index.set(e,"WIDGET"),this.customHashToKeyIndex.set(e,t),this.keyToCustomHashIndex.set(i,n),this.originalKeyIndex.set(e,n)}})}processCampaignsKeyGroups(e){Object.entries(e).forEach(([e,t])=>{Object.entries(t).forEach(([t,n])=>{n.forEach(n=>{const[i]=n,o=this.normalize(i);this.campaignGroupMap.set(o,e),this.campaignSubGroupMap.set(o,t)})})})}processElementKeys(e){Object.keys(e).forEach(t=>{e[t].forEach(e=>{this.index.set(this.normalize(e),"ELEMENT"),this.elementsMap.set(this.normalize(e),t)})}),this.index.set(this.normalize(sn),"ELEMENT"),this.elementsMap.set(this.normalize(sn),ve.DEBUG_PANEL)}processGiftCatalogKeys(e){e.forEach(e=>{const t=this.normalize(e);this.index.set(t,"GIFT_CATALOG"),this.originalKeyIndex.set(t,e),this.giftCatalogs.set(t,t)})}exists(e,t){const n="string"==typeof e?[e]:e,i=this.normalize(t);return!!($n()&&n.includes("GIFT_CATALOG")&&xn.test(i))||n.some(e=>this.index.get(i)===e)}isWidgetKeyExists(e){const t=e=>this.exists("WIDGET",e)||this.exists("FUNDRAISING_PAGE",e);return"string"==typeof e?t(e):e.some(e=>t(e))}itLooksLikeKey(e,t){return"WIDGET"===e?bn.test(this.normalize(t)):"ELEMENT"===e?Cn.test(t):"GIFT_CATALOG"===e?Ln.test(t):Rn.test(t)}normalize(e){if(!e)return"";const t=e.slice("#"===e[0]?1:0);return bn.test(t)||Cn.test(t)||Rn.test(t)||Ln.test(t)?t.toUpperCase():t.toLowerCase()}getElementType(e){return this.elementsMap.get(e)}checkElementType(e,t){return this.getElementType(t)===e}addWidgetKeys(e){e.forEach(e=>{if(this.exists("WIDGET",e))return;const t=this.normalize(e);this.index.set(e,"WIDGET"),this.originalKeyIndex.set(t,t)})}addFundraisersKeys(e){e.filter(e=>Rn.test(e)).forEach(e=>{if(this.exists("FUNDRAISING_PAGE",e))return;const t=this.normalize(e);this.exists("WIDGET",t)||(this.index.set(t,"FUNDRAISING_PAGE"),this.fundraisersMap.set(t,t))})}getFundraisersKeys(){return[...this.fundraisersMap.keys()]}addElementKeys(e,t){this.index.set(this.normalize(t),"ELEMENT"),this.elementsMap.set(this.normalize(t),e)}getWidgetCustomHash(e){return this.keyToCustomHashIndex.get(this.normalize(e))}isWidgetCustomHash(e){return this.customHashToKeyIndex.has(this.normalize(e))}getOriginalWidgetKey(e){return this.originalKeyIndex.get(this.normalize(e))}getWidgetKeyByCustomHash(e){return this.customHashToKeyIndex.get(this.normalize(e))}getCheckoutType(e){return this.campaignGroupMap.get(this.normalize(e))}getAskPageType(e){return this.campaignSubGroupMap.get(this.normalize(e))}}let xr=null,Mr=null;const kr="giftCatalogCartItemsCountUpdated",Ur=e=>"string"==typeof e&&""!==e.trim()?e:void 0,Gr=e=>{if(!(e=>!!e&&(e=>void 0!==e.designations&&Array.isArray(e.designations)&&e.designations.length>0)(e)&&(e=>{var t;return void 0!==(null===(t=e.donation)||void 0===t?void 0:t.donationItems)&&Array.isArray(e.donation.donationItems)&&e.donation.donationItems.length>0})(e)&&(e=>void 0!==e.donation&&void 0!==e.donation.currency)(e))(e))return{checkoutExternalParams:{launcher:{element:{type:ve.JS_API}}}};const t=e.designations.filter(e=>!Ur(e.key)||!Ur(e.code));if(t.length>0)throw new Error(`Invalid designations: each designation must have required fields (id, key, code). Found ${t.length} invalid designation(s).`);const n=e.donation.donationItems.filter(e=>"number"!=typeof e.amount||!e.frequency||!Ur(e.goalKey));if(n.length>0)throw new Error(`Invalid donationItems: each donationItem must have required fields (amount, frequency, goalKey). Found ${n.length} invalid donationItem(s).`);const i=e.designations.map(e=>{var t,n,i;return{id:Ur(e.id),isEditable:e.isEditable,key:Ur(e.key),code:Ur(e.code),repeat:e.repeat,default:null!==(t=e.default)&&void 0!==t?t:null,localization:e.localization,frequency:null!==(n=e.frequency)&&void 0!==n?n:null,image:null!==(i=e.image)&&void 0!==i?i:null}}),o=e.donation.donationItems.map(e=>({amount:e.amount,frequency:e.frequency,goalKey:Ur(e.goalKey)})),r={currency:Ur(e.donation.currency),shouldApplyDonationItems:e.donation.shouldApplyDonationItems,donationItems:o};return{checkoutExternalParams:{launcher:{element:{type:ve.JS_API},checkoutInitialData:{designations:i,donation:r}}}}};var Fr=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};const Kr=(e,t,i,o,r,s,a,c,l)=>{const d=new Map;let u=null;const p=()=>Fr(void 0,void 0,void 0,function*(){var e;const t=(null===(e=r.server.giftCatalogCartAssets)||void 0===e?void 0:e.scripts)||[];yield Promise.all(t.map(e=>n(e)))}),h=(n,i,o)=>Fr(void 0,void 0,void 0,function*(){s.logCode(ft.OPEN_GIFT_CART);const c=l.getDataByWidget(n),d=o&&o.length?o:c.items,[u]=yield Promise.all([e.resolveGiftCatalogCart(n,d),p()]).catch(e=>{throw new Error(`Unable to load Cart for widget ${n}: ${e}`)});a()(t,r.locale.code,r.data.currencyRates.rates).openCart(n,i,c.currency,u.items.cart,u.items.upsellItems)});return t.on("openGiftCatalogCheckout",({widgetKey:e,currency:t,donationItems:n})=>{const i={launcher:{checkoutInitialData:{donation:{currency:t,shouldApplyDonationItems:!0,donationItems:n}}}};c.open(e,i)}),t.on("openGiftCatalogCheckoutFromCatalog",e=>{const t={launcher:{checkoutInitialData:{donation:{currency:e.currency,shouldApplyDonationItems:!0,donationItems:e.donationItems}}}};c.open(e.widgetKey,t)}),t.on("openGiftCatalogCartFromCatalog",({widgetKey:e,currency:t,items:n})=>{h(e,t,n)}),{initialize:()=>Zt().then(()=>Fr(void 0,void 0,void 0,function*(){const e=i.findGiftCatalogs();e.forEach(e=>{const t=d.get(e.key)||[];d.set(e.key,[...t,e])});const t=e.map(({key:e})=>e).filter(e=>o.exists("GIFT_CATALOG",e));if(!t.length)return;yield p();(e=>{const t=r.server.elementsUrl;rn(`${t}gift-catalogs/${e}.js`)})(t[0])})).catch(e=>console.error(e)),addCatalogContent:e=>{if(s.logCode(ft.LOADED_GIFT_CATALOG,{catalog:e}),u)return Promise.resolve();const t=r.livemode?e.data.live:e.data.test;if(!t)return Promise.resolve();const i={key:e.key,config:e.config,data:t},o=d.get(e.key);return o&&o.length?(u=e.key,((e,t)=>function(){if(xr)return Promise.resolve(xr);if(Mr)return Mr;const e=(0,cn.w)(),t=e.get(Ae.i.STATIC_CONFIG);return Mr=n(t.giftCatalogApiScriptUrl).then(()=>{const t=e.get(Ae.i.GIFT_CATALOG_API);if(!t)throw new Error("Gift Catalog API not found in container");return xr=t,t}).catch(e=>{throw Mr=null,e}),Mr}().then(n=>(n.initialize(t.config,t.data),n.renderGiftCatalog(e.node))))(o[0],i).then(()=>{d.delete(e.key)})):Promise.resolve()},openCart:h,openCheckout:(e,t)=>{s.logCode(ft.OPEN_GIFT_CHECKOUT);const{checkoutExternalParams:n}=Gr(t);return c.open(e,n),Promise.resolve()}}};var Br=function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})};class Vr{constructor(e){this.funSessionStorage=e}getDataByWidget(e){var t;const n=(this.funSessionStorage.getField(qe.GIFT_CATALOG_CART_ITEMS)||[]).filter(t=>t.widgetKey===e);return{items:this.formatCookieToCommonItems(n),currency:(null===(t=n[0])||void 0===t?void 0:t.currency)||null}}addItem(e,t,n){const i=[...this.funSessionStorage.getField(qe.GIFT_CATALOG_CART_ITEMS)||[],this.formatItemToCookie(e,t,n)];this.funSessionStorage.setField(qe.GIFT_CATALOG_CART_ITEMS,i)}resetItemsByWidget(e,t,n){const i=[...(this.funSessionStorage.getField(qe.GIFT_CATALOG_CART_ITEMS)||[]).filter(t=>t.widgetKey!==e),...n.map(n=>this.formatItemToCookie(n,t,e))];this.funSessionStorage.setField(qe.GIFT_CATALOG_CART_ITEMS,i)}removeItem(e,t){const n=(this.funSessionStorage.getField(qe.GIFT_CATALOG_CART_ITEMS)||[]).filter(n=>!(n.widgetKey===t&&n.goalKey===e));this.funSessionStorage.setField(qe.GIFT_CATALOG_CART_ITEMS,n)}clear(e){const t=(this.funSessionStorage.getField(qe.GIFT_CATALOG_CART_ITEMS)||[]).filter(t=>t.widgetKey!==e);this.funSessionStorage.setField(qe.GIFT_CATALOG_CART_ITEMS,t)}getItemCount(e){return this.getDataByWidget(e).items.length}formatItemToCookie(e,t,n){return{goalKey:e.goalKey,amount:e.amount,frequency:e.frequency,currency:t,widgetKey:n}}formatCookieToCommonItems(e){return e.map(e=>({amount:e.amount,goalKey:e.goalKey,frequency:e.frequency}))}}function Hr(t){const i=(0,cn.w)(),o=function({trackingUrls:e,isAbTestMode:t,donorPortalUrl:n,companyKey:i}){if(t){const e=Ti.includes(i)?"https://fundraiseupobjects.com":n;return{checkout:e,global:e}}return e}({trackingUrls:t.trackingUrls,isAbTestMode:t.staticConfig.abTestMode,donorPortalUrl:t.staticConfig.donorPortalUrl,companyKey:t.company.key});return i.provide(Ae.i.STATIC_CONFIG,()=>Object.freeze(t.staticConfig)).provide(Ae.i.TRACKING_URLS,()=>Object.freeze(o)).provide(Ae.i.HTML_ELEMENT_STYLE_MANAGER,()=>new br(window)).provide(Ae.i.EMBED_CONFIG,()=>function(e,t,n,i,o,r,s,a,c,l){const d=(0,Jt.U)(window.FundraiseUp.h||window.location.href),u=Ve(d),p=void 0!==$t.A.get(qt.e.DEBUG),h=a.get(),m=(null==h?void 0:h.disableIsFundraiseupVisitor)||!1,E=n.clientId,g=new Wt({window,queryParams:d,companyLocalizationSettings:t.localization,companyKey:t.key}).getConfig(),f=`${r}/gift-cart/resolve`,T=`${r}/gift-checkout/resolve`,_={version:o,livemode:u,locale:g,currentCompanyKey:t.key,currentCompany:t,loadedTimestamp:i,meta:c,queryParams:d,staticConfig:n,inactiveWidgets:l,clientId:E,get isMobile(){return window.FUN_FORCE_MOBILE||_.deviceData.isMobile},get deviceData(){const e=n.deviceData;return{isMobile:e.isMobile,isMobileOrTablet:e.isMobileOrTablet,isMobileSafari16:e.isMobileSafari16}},get fontsAssets(){return n.fontsAssets},get browserData(){return n.browserData},get paymentMethods(){return{stripePublicKey:Object.assign({},n.stripePublicKey),paypalClientId:n.paypalClientId,googlePayInfo:Object.assign({},n.googlePayInfo)}},get integrations(){return{uploadcareKey:n.uploadcareKey,dtdEnabled:n.integrations.dtd,sentryUri:n.sentryUri}},get server(){return{mainDomain:n.mainDomain,env:n.env,elementsApiScriptUrl:n.elementsApiScriptUrl,giftCatalogApiScriptUrl:n.giftCatalogApiScriptUrl,trackingUrls:Object.assign({},e),resolveUrl:`${r}/checkout/resolve?key=${t.key}`,giftCatalogResolveUrl:f,giftCheckoutResolveUrl:T,checkoutAssets:n.checkoutAssets,giftCatalogCartAssets:n.giftCatalogCartAssets,checkoutSteplessAssets:n.checkoutSteplessAssets,giftCatalogCheckoutAssets:n.giftCatalogCheckoutAssets,elementsUrl:`${s}/embed-data/`}},get data(){return{currencyRates:Object.assign({},n.currencyRates)}},get isDebugMode(){return p},get isFundraiseupVisitor(){return Boolean(n.isFundraiseupVisitor&&!m)},get disablePreloading(){return n.disablePreloading},get experimentsConfig(){return{experiments:n.experimentsConfig.experiments||[]}},get abTestMode(){return n.abTestMode},get abTestDemoMode(){return window.FUN_AB_TEST_DEMO_MODE||!1},get fromDonorPortal(){return n.fromDonorPortal}};return _}(i.get(Ae.i.TRACKING_URLS),t.company,i.get(Ae.i.STATIC_CONFIG),t.loadedTimestamp,t.version,En,fn,i.get(Ae.i.FUN_EXPERIMENTS_STORAGE),t.meta,t.knownKeys.inactiveWidgets)).provide(Ae.i.BACKDROP,()=>new Si(window,new Lr(window,t.staticConfig.deviceData.isMobile),i.get(Ae.i.EVENT_EMITTER))).provide(Ae.i.CHECKOUT_SKELETON,()=>((e,t)=>{let n;const i=e=>e?'<div class="fru-wmb">\n    <div class="fru-sg"></div>\n\n    <div class="fru-ch" data-qa="msh">\n    <div class="fru-sm" style="width: 121px !important; height: 32px !important; margin: 0 auto !important"></div>\n  </div>\n    <div data-qa="msa">\n    <div class="fru-cim"></div>\n    <div class="fru-cbm">\n      <div class="fru-fcm">\n        <div class="fru-sm" style="width: 251px !important; height: 24px !important; margin: 0 auto !important"></div>\n        <div class="fru-sm" style="height: 40px !important; margin-top: 16px !important"></div>\n      </div>\n    </div>\n  </div>\n    <div class="fru-wfm" data-qa="msf">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 187px; height: 28px; margin: 0 auto"></div>\n      <div class="fru-sm" style="height: 44px !important; margin-top: 28px !important"></div>\n      <div class="fru-sm" style="height: 160px !important; margin-top: 16px !important"></div>\n      <div class="fru-sm" style="height: 66px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="height: 20px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="width: 121px !important; height: 20px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 48px !important; margin-top: 24px !important"></div>\n    </div>\n  </div>\n  <div class="fru-wftm">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 212px !important; height: 24px !important"></div>\n      <div class="fru-sm" style="width: 271px !important; height: 76px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 46px !important; margin-top: 12px !important"></div>\n    </div>\n  </div>\n  </div>':'<div class="fru-wmb">\n    <div class="fru-sg"></div>\n\n    <div class="fru-ch" data-qa="msh">\n    <div class="fru-sm" style="width: 121px !important; height: 32px !important; margin: 0 auto !important"></div>\n  </div>\n    <div class="fru-wfm" data-qa="msf">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 187px; height: 28px; margin: 0 auto"></div>\n      <div class="fru-sm" style="height: 44px !important; margin-top: 28px !important"></div>\n      <div class="fru-sm" style="height: 160px !important; margin-top: 16px !important"></div>\n      <div class="fru-sm" style="height: 66px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="height: 20px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="width: 121px !important; height: 20px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 48px !important; margin-top: 24px !important"></div>\n    </div>\n  </div>\n  <div class="fru-wftm">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 212px !important; height: 24px !important"></div>\n      <div class="fru-sm" style="width: 271px !important; height: 76px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 46px !important; margin-top: 12px !important"></div>\n    </div>\n  </div>\n  </div>',o=e=>e?'<div class="fru-wd">\n    <div class="fru-wmd">\n      <div class="fru-wcd" data-qa="dsa">\n    <div class="fru-sg fru-sgc"></div>\n\n    <div class="fru-cid"></div>\n    <div class="fru-cbd">\n      <div class="fru-sd" style="width: 116px !important; height: 50px !important"></div>\n      <div class="fru-sd" style="height: 24px !important; margin-top: 16px !important"></div>\n      <div class="fru-sd" style="height: 120px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="width: 206px !important; height: 16px !important; margin-top: auto !important"></div>\n    </div>\n  </div>\n      <div class="fru-wfd" data-qa="dsf">\n    <div class="fru-sg fru-sgf"></div>\n\n    <div class="fru-fcd">\n      <div class="fru-sd" style="width: 188px !important; height: 32px !important; margin: 0 auto !important"></div>\n      <div class="fru-sd" style="height: 40px !important; margin-top: 22px !important"></div>\n      <div class="fru-sd" style="height: 90px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="height: 52px !important; margin-top: 10px !important"></div>\n      <div class="fru-sd" style="width: 189px !important; height: 18px !important; margin-top: 25px !important"></div>\n      <div class="fru-sd" style="width: 221px !important; height: 18px !important; margin-top: auto !important"></div>\n      <div class="fru-sd" style="width: 89px !important; height: 18px !important; margin-top: 13px !important"></div>\n      <div class="fru-sd" style="height: 48px !important; margin-top: 21px !important"></div>\n    </div>\n  </div>\n    </div>\n  </div>':'<div class="fru-wd">\n    <div class="fru-wmd">\n      <div class="fru-wfd" data-qa="dsf">\n    <div class="fru-sg fru-sgf"></div>\n\n    <div class="fru-fcd">\n      <div class="fru-sd" style="width: 188px !important; height: 32px !important; margin: 0 auto !important"></div>\n      <div class="fru-sd" style="height: 40px !important; margin-top: 22px !important"></div>\n      <div class="fru-sd" style="height: 90px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="height: 52px !important; margin-top: 10px !important"></div>\n      <div class="fru-sd" style="width: 189px !important; height: 18px !important; margin-top: 25px !important"></div>\n      <div class="fru-sd" style="width: 221px !important; height: 18px !important; margin-top: auto !important"></div>\n      <div class="fru-sd" style="width: 89px !important; height: 18px !important; margin-top: 13px !important"></div>\n      <div class="fru-sd" style="height: 48px !important; margin-top: 21px !important"></div>\n    </div>\n  </div>\n    </div>\n  </div>';return{render:r=>{const s=(a=r.campaignKey,t.getAskPageType(a)===Oi.WITH_ASK_PAGE);var a;n=e.document.createElement("div"),n.classList.add("fru-m"),s&&n.classList.add("fru-hc"),r.isLivemode||n.classList.add("fru-nlm"),r.isRtl&&n.setAttribute("dir","rtl"),e.document.body?e.document.body.appendChild(n):yi(e.document,()=>{e.document.body.appendChild(n)}),n.innerHTML=(({isMobile:e,showAskPage:t})=>e?i(t):o(t))({isMobile:r.isMobile,showAskPage:s}),(()=>{if(!n)return;const t=e.document.createElement("style");t.appendChild(e.document.createTextNode(Ci)),n.prepend(t)})()},hide:()=>{n&&(n.classList.add("fru-m-a"),n.remove())}}})(window,i.get(Ae.i.KEYS_KEEPER))).provide(Ae.i.GIFT_CATALOG_CHECKOUT_SKELETON,()=>(e=>{let t;return{render:n=>{try{t=e.document.createElement("div"),t.classList.add("fru-m"),n.isLivemode||t.classList.add("fru-nlm"),n.isRtl&&t.setAttribute("dir","rtl"),e.document.body?e.document.body.appendChild(t):yi(e.document,()=>{t&&e.document.body.appendChild(t)}),t.innerHTML=(({isMobile:e})=>e?'<div class="fru-wmb">\n    <div class="fru-sg"></div>\n\n    <div class="fru-ch" data-qa="msh">\n    <div class="fru-sm" style="width: 121px !important; height: 32px !important; margin: 0 auto !important"></div>\n  </div>\n    <div class="fru-wfm" data-qa="msf">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 187px; height: 28px; margin: 0 auto"></div>\n      <div class="fru-sm" style="height: 44px !important; margin-top: 28px !important"></div>\n      <div class="fru-sm" style="height: 160px !important; margin-top: 16px !important"></div>\n      <div class="fru-sm" style="height: 66px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="height: 20px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="width: 121px !important; height: 20px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 48px !important; margin-top: 24px !important"></div>\n    </div>\n  </div>\n  <div class="fru-wftm">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 212px !important; height: 24px !important"></div>\n      <div class="fru-sm" style="width: 271px !important; height: 76px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 46px !important; margin-top: 12px !important"></div>\n    </div>\n  </div>\n  </div>':'<div class="fru-wd">\n    <div class="fru-wmd">\n      <div class="fru-wfd" data-qa="dsf">\n    <div class="fru-sg fru-sgf"></div>\n\n    <div class="fru-fcd">\n      <div class="fru-sd" style="width: 188px !important; height: 32px !important; margin: 0 auto !important"></div>\n      <div class="fru-sd" style="height: 40px !important; margin-top: 22px !important"></div>\n      <div class="fru-sd" style="height: 90px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="height: 52px !important; margin-top: 10px !important"></div>\n      <div class="fru-sd" style="width: 189px !important; height: 18px !important; margin-top: 25px !important"></div>\n      <div class="fru-sd" style="width: 221px !important; height: 18px !important; margin-top: auto !important"></div>\n      <div class="fru-sd" style="width: 89px !important; height: 18px !important; margin-top: 13px !important"></div>\n      <div class="fru-sd" style="height: 48px !important; margin-top: 21px !important"></div>\n    </div>\n  </div>\n      <div class="fru-wcd" data-qa="dsc">\n    <div class="fru-sg fru-sgc"></div>\n\n    <div class="fru-cid"></div>\n    <div class="fru-cbd">\n      <div class="fru-sd" style="width: 116px !important; height: 50px !important"></div>\n      <div class="fru-sd" style="height: 24px !important; margin-top: 16px !important"></div>\n      <div class="fru-sd" style="height: 120px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="width: 206px !important; height: 16px !important; margin-top: auto !important"></div>\n    </div>\n  </div>\n    </div>\n  </div>')({isMobile:n.isMobile}),(()=>{if(!t)return;const n=e.document.createElement("style");n.appendChild(e.document.createTextNode(Ni)),t.prepend(n)})()}catch(e){console.error("Error rendering gift catalog checkout skeleton:",e)}},hide:()=>{t&&(t.classList.add("fru-m-a"),t.remove())}}})(window)).provide(Ae.i.SENTRY_CLIENT,()=>{return e=i.get(Ae.i.STATIC_CONFIG),n=i.get(Ae.i.EMBED_CONFIG),o=t.version,new Ir((e,t)=>fetch(e,t),e.sentryApiKey,Cr.EMBED,o,e.env,wr.CHECKOUT,n);var e,n,o}).provide(Ae.i.DEBUG,()=>new e.y("embed",t.debugLogCodes)).provide(Ae.i.KEYS_KEEPER,()=>new Dr(t.knownKeys)).provide(Ae.i.FUN_SESSION_STORAGE,()=>new Rr(function(){const e=Yi(ki.OBJECT),t=new Ji(no),n=new to(e,t,window.FUN_DISABLE_NEW_COOKIES),i=new eo(e,t,window.FUN_DISABLE_NEW_COOKIES);return new io(n,i,window.FUN_DISABLE_NEW_COOKIES)}(),{env:t.staticConfig.env,allowWrite:!1})).provide(Ae.i.USER_SESSION,()=>new Pr(i.get(Ae.i.FUN_SESSION_STORAGE))).provide(Ae.i.FUN_COOKIES_MANAGER,()=>{return e=i.get(Ae.i.FUN_SESSION_STORAGE),n=i.get(Ae.i.FUN_STAT_STORAGE),o=t.staticConfig.env,r=window.FUN_DISABLE_NEW_COOKIES,new Bi(e,n,o,r);var e,n,o,r}).provide(Ae.i.FUN_STAT_STORAGE,()=>new qi).provide(Ae.i.FUN_TRACKER_STORAGE,()=>new oo).provide(Ae.i.FUN_COOKIES_MIGRATOR,()=>{return e=t.staticConfig.env,n=window.FUN_DISABLE_NEW_COOKIES,new Vi(e,$t.A,{disableNewCookies:n});var e,n}).provide(Ae.i.EMBED_TRACKER,()=>function(e){return $n()&&window.FUN_DEV_NEW_TRACKING?function(e){let t;if(e.funTracker)t=e.funTracker;else{const n=e.funTrackerStorage.topLevelDomain;t=ir({companyKey:e.embedConfig.currentCompanyKey,appContext:{id:"embed",version:e.embedConfig.version,livemode:e.embedConfig.livemode},env:e.env,logger:{error:e.debug.log},window:e.window,topLevelDomain:n,isABTestMode:e.embedConfig.abTestMode,trackingConfig:{url:e.globalURL,trackingTarget:"/api/session"},serverClientId:e.embedConfig.clientId}),t.subscribe(t=>e.debug.log(t.name||"",t),"debug"),t.initializeTracking()}const n=new uo(window,t,e.embedConfig.locale.code);return new mo(n,{funEmbedRelease:e.funEmbedRelease,isFundraiseupVisitor:e.isFundraiseupVisitor})}(e):function(e){let t;if(e.funTracker)t=e.funTracker;else{const n=new Sr({window:e.window,url:e.globalURL,trackingTarget:"/tb",env:e.env});t=new gr({trackerClient:n,window:e.window,companyKey:e.embedConfig.currentCompanyKey,storage:e.funTrackerStorage,localeCode:e.embedConfig.locale.code,livemode:e.embedConfig.livemode,isABTestMode:e.embedConfig.abTestMode,source:e.source,serverClientId:e.embedConfig.clientId,sessionStorage:e.sessionStorage}),t.initializeCidTLD(),t.subscribe(t=>e.debug.log(t.eventType||"",t),"debug"),t.start()}return new mo(t,{funEmbedRelease:e.funEmbedRelease,isFundraiseupVisitor:e.isFundraiseupVisitor})}(e)}({window,funEmbedRelease:t.version,embedConfig:i.get(Ae.i.EMBED_CONFIG),debug:i.get(Ae.i.DEBUG).createInstance("Tracking"),globalURL:o.global,funTracker:window.FUN_TRACKER,isFundraiseupVisitor:t.staticConfig.isFundraiseupVisitor?1:0,funTrackerStorage:i.get(Ae.i.FUN_TRACKER_STORAGE),source:t.staticConfig.fromDonorPortal?Or.DONOR_PORTAL:void 0,env:t.staticConfig.env,sessionStorage:i.get(Ae.i.FUN_SESSION_STORAGE)})).provide(Ae.i.EXPERIMENTS_CONTROLLER,()=>{return e=i.get(Ae.i.EMBED_CONFIG),t=i.get(Ae.i.EMBED_TRACKER),n=i.get(Ae.i.FUN_EXPERIMENTS_STORAGE),new si({companyKey:e.currentCompanyKey,parentCompanyKey:(null===(o=e.currentCompany)||void 0===o?void 0:o.parentKey)||null,tracker:t,experimentsSettings:ii(e.experimentsConfig.experiments),funStorage:n,sentry:{captureException:e=>console.error(e),getCurrentScope:()=>null},isDebugMode:e.isDebugMode,isFundraiseupVisitor:e.isFundraiseupVisitor,isAbTestMode:e.abTestMode,distributionId:t.clientId});var e,t,n,o}).provide(Ae.i.COLLECTOR,()=>di(i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.DEBUG).createInstance("Collector"))).provide(Ae.i.RESOLVER,()=>Fi(i.get(Ae.i.EMBED_CONFIG),i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.DEBUG).createInstance("CommonResolver"),i.get(Ae.i.EMBED_TRACKER),i.get(Ae.i.SENTRY_CLIENT))).provide(Ae.i.EMBED_ELEMENTS_API,()=>mn(i.get(Ae.i.COLLECTOR),i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.EMBED_CHECKOUT_API),i.get(Ae.i.EMBED_CONFIG),i.get(Ae.i.DEBUG),i.get(Ae.i.EMBED_TRACKER),i.get(Ae.i.EMBED_ELEMENTS_URL_API),()=>i.get(Ae.i.EMBED_INTERNAL_API))).provide(Ae.i.EMBED_GIFT_CATALOG_CHECKOUT_API,()=>((e,t,o,r,s,a,c,l,d,u,p)=>{let h=!1;const m=pt(o.locale.code)===st.RTL,E=(n,r,u,m)=>Br(void 0,void 0,void 0,function*(){var E,_,v,y,A;try{if(!(null===(y=null===(v=null===(_=null===(E=u.launcher)||void 0===E?void 0:E.checkoutInitialData)||void 0===_?void 0:_.donation)||void 0===v?void 0:v.donationItems)||void 0===y?void 0:y.length))throw new Error("Donation items are missing");const h=u.launcher.checkoutInitialData.donation.donationItems,S=yield e.resolveGiftCheckout(n,h);u.launcher.checkoutInitialData.donation.donationItems=S.catalog.donationItems,u.launcher.checkoutInitialData.designations=S.catalog.goals,yield T(),c.emit("checkoutBeforeOpen",void 0);const w=yield i.get(Ae.i.GIFT_CATALOG_CHECKOUT)(a,t,s,c,d,{resolvedConfig:S,trackingUrls:o.server.trackingUrls,currencyRates:o.data.currencyRates,env:o.server.env,pendingRequests:{goals:new Promise(e=>e(null))},paymentMethods:o.paymentMethods,livemode:o.livemode,isMobile:o.isMobile,isMobileSafari16:o.deviceData.isMobileSafari16,showcase:!1,externalParams:u,integrations:o.integrations,localeCode:o.locale.code,userMeta:null===(A=o.meta)||void 0===A?void 0:A.user,infrastructureQueryParams:null==o?void 0:o.queryParams,checkoutOpenTimestamp:m,htmlElementStyleManager:l,embedVersion:o.version,mainDomain:o.server.mainDomain,experimentsConfig:o.experimentsConfig,browserData:o.browserData,isDebugMode:o.isDebugMode,isFundraiseupVisitor:o.isFundraiseupVisitor,isAbTestMode:o.abTestDemoMode,steplessCheckoutExperimentVariant:"",steplessCheckoutExperimentExcluded:!0,fromDonorPortal:o.fromDonorPortal,initialMarketingCookieConsent:p.getUserSessionConsent()});w&&f({checkoutApi:w,key:n,options:u,isLivemode:r}),setTimeout(()=>{g()},150)}catch(e){throw h=!1,g(),console.error(e),e}}),g=()=>{r.hide()},f=e=>{const{checkoutApi:t}=e;t.on("close",()=>{h=!1})},T=()=>Br(void 0,void 0,void 0,function*(){const e=o.server.giftCatalogCheckoutAssets.scripts.filter(e=>!(!m&&e.includes("gift-catalog-checkout-rtl-styles")||m&&e.includes("gift-catalog-checkout-styles")));yield Promise.all(e.map(e=>n(e)))});return{loadGiftCatalogCheckoutScripts:T,open:(e,...t)=>Br(void 0,[e,...t],void 0,function*(e,t={}){if(h)return;if(!s.isWidgetKeyExists(e))return;const n=Ve(o.queryParams||{}),i=Date.now();return h=!0,((e,t)=>{r.render({campaignKey:e,isMobile:o.isMobile,isLivemode:t,isRtl:m})})(e,n),E(e,n,t,i)})}})(i.get(Ae.i.RESOLVER),i.get(Ae.i.DEBUG),i.get(Ae.i.EMBED_CONFIG),i.get(Ae.i.GIFT_CATALOG_CHECKOUT_SKELETON),i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.EMBED_TRACKER),i.get(Ae.i.EVENT_EMITTER),i.get(Ae.i.HTML_ELEMENT_STYLE_MANAGER),i.get(Ae.i.FUN_SESSION_STORAGE),0,i.get(Ae.i.CONSENT_MANAGER_API))).provide(Ae.i.EMBED_GIFT_CATALOG_API,()=>Kr(i.get(Ae.i.RESOLVER),i.get(Ae.i.EVENT_EMITTER),i.get(Ae.i.COLLECTOR),i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.EMBED_CONFIG),i.get(Ae.i.DEBUG),()=>i.get(Ae.i.GIFT_CATALOG_CART),i.get(Ae.i.EMBED_GIFT_CATALOG_CHECKOUT_API),i.get(Ae.i.GIFT_CATALOG_CART_COOKIE_SERVICE))).provide(Ae.i.FUN_GIFT_STORAGE,()=>{return e=i.get(Ae.i.FUN_SESSION_STORAGE),new Vr(e);var e}).provide(Ae.i.GIFT_CATALOG_CART_COOKIE_SERVICE,()=>{return e=i.get(Ae.i.EVENT_EMITTER),t=i.get(Ae.i.FUN_GIFT_STORAGE),{addItem:(n,i,o)=>{t.addItem(o,i,n);const r=t.getItemCount(n);e.emit(kr,{widgetKey:n,itemsCount:r})},removeItem:(n,i)=>{t.removeItem(i,n);const o=t.getItemCount(n);e.emit(kr,{widgetKey:n,itemsCount:o})},getItemsCount:e=>t.getItemCount(e),getDataByWidget:e=>t.getDataByWidget(e)};var e,t}).provide(Ae.i.EMBED_ELEMENTS_URL_API,()=>function(e){const t=function(e){const t=e.get(vn.ELEMENT_KEY),n=e.get(vn.ELEMENT_ID),i=e.get(vn.FORM);if(!t&&!n||i)return null;const o=Number(e.get(vn.AMOUNT)),r=o?100*o:null,s=(e.get(vn.CURRENCY)||"").toUpperCase(),a=e.get(vn.RECURRING),c=e.get(vn.MODIFY_DESIGNATION),l="yes"===c||"no"===c,d=Object.values(_n);return{elementKey:t||n,amount:r,currency:s,recurring:a&&d.includes(a)?a:null,modifyDesignation:l?"yes"===c:null,firstName:e.get(vn.FIRST_NAME),lastName:e.get(vn.LAST_NAME),email:e.get(vn.EMAIL),designationId:e.get(vn.DESIGNATION),tributeHonoree:e.get(vn.TRIBUTE)}}(new URLSearchParams(e.location.search)),n=(e,n)=>Sn.includes(n)&&e===(null==t?void 0:t.elementKey);return{getUrlParamsForElement:e=>n(e.key,e.type)?t:null,checkAmountInUrlApiForElement:(e,i)=>n(e,i)&&Boolean(null==t?void 0:t.amount)}}(window)).provide(Ae.i.EMBED_ELEMENTS_SERVICE,()=>function(e){let t=null;const n=(n,i)=>(i&&t&&t(),new Promise((i,o)=>{const{abort:r}=An({method:"POST",url:`${yn(En,Tn.DATA)}?key=${e.currentCompanyKey}&livemode=${e.livemode}`,headers:{"content-type":"text/plain; charset=utf-8"},params:n},e=>{e&&i(e)},o);t=r}));return{config:e,getData:(e,t=!0)=>{const i=e.map(e=>({key:e}));return n(i,t)},searchData:(e,t,i=!0)=>n([{key:e,params:t}],i)}}(i.get(Ae.i.EMBED_CONFIG))).provide(Ae.i.EMBED_CHECKOUT_API,()=>At(i.get(Ae.i.RESOLVER),i.get(Ae.i.DEBUG),i.get(Ae.i.EMBED_CONFIG),i.get(Ae.i.BACKDROP),i.get(Ae.i.CHECKOUT_SKELETON),i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.EMBED_TRACKER),i.get(Ae.i.EVENT_EMITTER),i.get(Ae.i.HTML_ELEMENT_STYLE_MANAGER),i.get(Ae.i.FUN_SESSION_STORAGE),i.get(Ae.i.EXPERIMENTS_CONTROLLER),()=>i.get(Ae.i.CHECKOUT),()=>i.get(Ae.i.CHECKOUT_STEPLESS),()=>i.get(Ae.i.GOALS_LOADER),i.get(Ae.i.CONSENT_MANAGER_API))).provide(Ae.i.EMBED_FORMS_API,()=>((e,t)=>{const n=e=>kn(void 0,void 0,void 0,function*(){const t=yield dn(),n=yield i(e);if(n){const e=(0,cn.w)().get(Ae.i.KEYS_KEEPER),t=n.widgetKey;if(!e.exists("WIDGET",t))return}t.emitEvent("backdropWillOpen"),yield t.formOpener.openForm(e,Mn.P2P,{fundraisingPage:n})}),i=e=>kn(void 0,void 0,void 0,function*(){return new Promise((n,i)=>{An({method:"POST",url:`${En}/p2p/fundraiser/${e}/resolve`,headers:{"content-type":"application/json"},params:JSON.stringify({companyKey:t.currentCompanyKey})},e=>{e&&n(e)},i)})});return{open:t=>Rn.test(t)?n(t):(t=>dn().then(n=>{e.getElements([t]),n.emitEvent("backdropWillOpen"),e.onElementsLoad(e=>{const i=e.elements.find(e=>e.key===t);if(i)return n.addElements({nodes:[],elements:[i],globalElements:e.globalElements}),n.formOpener.openForm(t,Mn.P2P,{fundraisingPage:null})})}))(t),openByFundraiserSlug:e=>n(e)}})(i.get(Ae.i.EMBED_ELEMENTS_API),i.get(Ae.i.EMBED_CONFIG))).provide(Ae.i.EMBED_INTERNAL_API,()=>qn(i.get(Ae.i.EMBED_CHECKOUT_API),i.get(Ae.i.EMBED_ELEMENTS_API),i.get(Ae.i.EMBED_FORMS_API),i,i.get(Ae.i.EMBED_CONFIG),i.get(Ae.i.EMBED_TRACKER),i.get(Ae.i.RESOLVER),i.get(Ae.i.KEYS_KEEPER),i.get(Ae.i.DEBUG).createInstance("InternalApi"),i.get(Ae.i.FUN_EXPERIMENTS_STORAGE),i.get(Ae.i.COLLECTOR),i.get(Ae.i.USER_SESSION),i.get(Ae.i.EXPERIMENTS_CONTROLLER),i.get(Ae.i.FUN_DEBUG_STORAGE),i.get(Ae.i.EMBED_GIFT_CATALOG_API))).provide(Ae.i.FUN_EXPERIMENTS_STORAGE,()=>$i(qt.e.EXPERIMENTS,Wi.OBJECT)).provide(Ae.i.EVENT_EMITTER,()=>new fi).provide(Ae.i.FUN_DEBUG_STORAGE,()=>function(){const e=Yi(ki.STRING);return new ji(e)}()).provide(Ae.i.CONSENT_MANAGER_API,()=>((e,t,n,i,o,r)=>gi(t,n,i,mi(i,e),o,r))(window,i.get(Ae.i.DEBUG).createInstance("Consent API Manager"),i.get(Ae.i.SENTRY_CLIENT),i.get(Ae.i.EVENT_EMITTER),i.get(Ae.i.FUN_COOKIES_MANAGER),i.get(Ae.i.FUN_COOKIES_MIGRATOR))).provide(Ae.i.GOALS_LOADER,()=>new so(i.get(Ae.i.STATIC_CONFIG).apiUrl))}function jr(e){return t=this,n=void 0,o=function*(){return new Promise(t=>{const n=e.document.createElement("iframe");n.style.display="none",yi(e.document,()=>{const i=(()=>{try{e.document.body.appendChild(n);const t=n.contentWindow;if(!t)return!1;const i=t.Date.now,o=t.Array.prototype.push,r=t.Object.keys,s=t.Map.prototype.set,a=t.String.prototype.replace;document.body.removeChild(n);const c=o.toString()===Array.prototype.push.toString(),l=r.toString()===Object.keys.toString(),d=s.toString()===Map.prototype.set.toString(),u=i.toString()===Date.now.toString(),p=a.toString()===String.prototype.replace.toString();return!(c&&l&&d&&u&&p)}catch(e){return!0}})();t(i)})})},new((i=void 0)||(i=Promise))(function(e,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(s,a)}c((o=o.apply(t,n||[])).next())});var t,n,i,o}const Xr=new e.y("Embed");!function(){var e,t;if(jr(window).then(e=>{window.FUN_IS_MALFORMED_ENV=e}),!window.Set||!window.WeakMap)return void(window.console&&window.console.warn&&window.console.warn("init","legacy browser, skip processing"));if(null===(e=window.FUN)||void 0===e?void 0:e.initialized)return void Xr.log("init","already initialized, skip processing");Xr.log("init","initialization has started"),function(e,t){const n=function(e){return"function"==typeof e?n.l.push([arguments])&&n:function(){return n.l.push([e,arguments])&&n}};n.h=e.location.href,n.s=Date.now(),n.v="0",n.l=[];const i="call,catch,on,once,set,then,track,openCheckout".split(",");for(let e=0;e<8;e++)n[i[e]]=n(i[e]);e[t]=e[t]||n}(window,"FundraiseUp");const n=Hr({loadedTimestamp:Date.now(),trackingUrls:{"global":"https://fndrsp.net","checkout":"https://fndrsp-checkout.net"},staticConfig:{"elementsApiScriptUrl":"https://static.fundraiseup.com/6634a5da942b.elementsApi.js","giftCatalogApiScriptUrl":"https://static.fundraiseup.com/fff463b62c5c.giftCatalogApi.js","checkoutAssets":{"scripts":["https://static.fundraiseup.com/checkout.59d1146c4ff1020cd578.js","https://static.fundraiseup.com/checkout-vendors.8af5f8f48681377ace75.js","https://static.fundraiseup.com/checkout-rtl-styles.aabace6f9296bfcfcea7.js","https://static.fundraiseup.com/checkout-styles.ad8f153c2481c0959e5e.js","https://static.fundraiseup.com/checkout-sentry-vendor.af84ed23f4646061ab38.js","https://static.fundraiseup.com/sentry.a0d1e98359c0bcf1a2b4.js"]},"checkoutSteplessAssets":{"scripts":["https://static.fundraiseup.com/checkout-stepless.0c451b51b11487b65c44.js","https://static.fundraiseup.com/checkout-stepless-vendors.8e4bb445c008335f3923.js","https://static.fundraiseup.com/cs.checkout-stepless-rtl-styles.599c1a378b96266599ba.js","https://static.fundraiseup.com/cs.checkout-stepless-styles.2b57407b7dbd3b9a19f5.js","https://static.fundraiseup.com/cs.checkout-stepless-sentry-vendor.2e7d49a89d1167561aa0.js","https://static.fundraiseup.com/sentry.a0d1e98359c0bcf1a2b4.js"]},"giftCatalogCheckoutAssets":{"scripts":["https://static.fundraiseup.com/gift-catalog-checkout.7cbd500bae84b2f6ea14.js","https://static.fundraiseup.com/gift-catalog-checkout-vendors.5bbb509cb02a3974c2bc.js","https://static.fundraiseup.com/gift-catalog-checkout-rtl-styles.79e521f29c55b189c18c.js","https://static.fundraiseup.com/gift-catalog-checkout-styles.f30efb46a6a4d903402e.js","https://static.fundraiseup.com/gift-catalog-checkout-sentry-vendor.d3589ccc3abc28fc401d.js","https://static.fundraiseup.com/sentry.a0d1e98359c0bcf1a2b4.js"]},"giftCatalogCartAssets":{"scripts":["https://static.fundraiseup.com/giftCatalogCartApi.ff8f9647462ae34b33b4.js"]},"currencyRates":{"rates":{"SHP":0.750259,"EUR":0.85844,"AED":3.672498,"AFN":65.000329,"XCD":2.70255,"ALL":82.699,"AMD":381.140139,"AOA":916.999845,"ARS":1445.993893,"USD":1,"AUD":1.512779,"ANG":1.790055,"AWG":1.80125,"AZN":1.698647,"BAM":1.674823,"BBD":2.014506,"INR":89.83685,"PKR":280.496248,"BDT":122.377503,"XOF":561.499082,"BGN":1.67964,"BHD":0.376975,"BIF":2965,"BMD":1,"MYR":4.116495,"BND":1.295278,"BOB":6.911493,"BRL":5.311401,"BSD":1.000188,"BTN":89.847403,"NOK":10.11005,"ZAR":16.994055,"BWP":13.288462,"BYN":2.89558,"BZD":2.011595,"CAD":1.395515,"CDF":2229.999466,"XAF":561.712823,"CHF":0.803425,"NZD":1.734985,"CLP":917.730272,"CNY":7.07165,"COP":3796.99,"CRC":490.417716,"CVE":94.875016,"CZK":20.78297,"DJF":177.720093,"DKK":6.41137,"DOP":63.450165,"DZD":130.105297,"EGP":47.516096,"MAD":9.2265,"ETB":155.624993,"FJD":2.26045,"FKP":0.750125,"JPY":155.030981,"GBP":0.750285,"GEL":2.693009,"GHS":11.425007,"GIP":0.750125,"GMD":72.999897,"GNF":8688.494956,"GTQ":7.661644,"GYD":209.260306,"HKD":7.78275,"HNL":26.280308,"HRK":6.468,"HTG":131.010948,"HUF":328.680253,"IDR":16661,"ILS":3.242065,"ISK":127.910059,"JMD":160.297663,"JOD":0.708972,"KES":129.396211,"KGS":87.450161,"KHR":4003.999468,"KMF":421.999737,"KRW":1474.130263,"KWD":0.30685,"KYD":0.833547,"KZT":505.54899,"LAK":21697.497158,"LBP":89550.000197,"LKR":308.73966,"LRD":177.749901,"LSL":17.049628,"MDL":17.013479,"MGA":4484.999543,"MKD":52.93125,"MMK":2099.902882,"MNT":3550.784265,"MOP":8.019147,"MUR":46.059634,"MVR":15.409919,"MWK":1735.999827,"MXN":18.226501,"MZN":63.910825,"NAD":17.050312,"XPF":102.600961,"NGN":1447.360102,"NIO":36.770319,"SEK":9.421735,"NPR":143.755673,"OMR":0.384495,"PAB":1.000287,"PEN":3.3625,"PGK":4.186985,"PHP":59.129591,"PLN":3.633955,"PYG":6936.327086,"QAR":3.640978,"RON":4.371499,"RSD":100.790059,"RUB":76.002575,"RWF":1450,"SAR":3.753022,"SBD":8.223823,"SCR":13.531136,"SGD":1.295985,"SLL":20969.498139,"SLE":22.999851,"SOS":571.496321,"SRD":38.6435,"STD":20697.981008,"SVC":8.751648,"SZL":17.05032,"THB":32.019813,"TJS":9.191971,"TND":2.936982,"TOP":2.40776,"TRY":42.494401,"TTD":6.781243,"TWD":31.3771,"TZS":2445.00027,"UAH":42.172841,"UYU":39.185295,"UZS":11935.00023,"VND":26374.5,"VUV":122.113889,"WST":2.800321,"YER":238.403093,"ZMW":22.979795},"id":"69322e90abb78f0a5dcfe8d5"},"campaignPageAssets":{"scripts":{"main":"https://static.fundraiseup.com/campaignPages.938f6f1732429529221e.js","vendors":"https://static.fundraiseup.com/campaignPagesVendors.1e1ed1372bbfb284c43f.js"},"css":{"ltr":"https://static.fundraiseup.com/campaignPages.53282d3f572d7ad82eaf.css","rtl":"https://static.fundraiseup.com/campaignPages.53282d3f572d7ad82eaf.rtl.css"},"fonts":{"ibmPlexSans400":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-400.woff2","ibmPlexSans500":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-500.woff2","ibmPlexSans600":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-600.woff2","ibmPlexSans700":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-700.woff2","ibmPlexSansArabic600":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-600.woff2","ibmPlexSansArabic700":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-700.woff2","verveine400":"https://static.fundraiseup.com/common-fonts/verveine/verveine-400.woff2"}},"apiUrl":"https://api.fundraiseup.com","staticUrl":"https://static.fundraiseup.com","trackingUrl":"https://fndrsp.net","donorPortalUrl":"https://aaykecht.donorsupport.co","stripePublicKey":{"live":"pk_live_9RzCojmneCvL31GhYTknluXp","test":"pk_test_PIcNaumXzkrpufsvKlKULLIZ"},"paypalClientId":"Afbm69ig8nMRLmZKS-QoONq7qIHPqlpYJ1l3vyxE_la-UZPU_eEkKH2HRpHFkl7SNJ8a_eKvDkcT9-My","googlePayInfo":{"stripeAPIVersion":"2023-10-16","allowedCardNetworks":["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],"allowedAuthMethods":["PAN_ONLY","CRYPTOGRAM_3DS"],"merchantId":"BCR2DN6T7OI7T6IH"},"env":"production","sentryUri":"https://029bbf62e26bb7f41266caac0259d41b@sentry.fundraiseup.com/13","uploadcareKey":"5a1e3737b731e848bee9","mainDomain":"fundraiseup.com","integrations":{"dtd":false},"sentryApiKey":"029bbf62e26bb7f41266caac0259d41b","isFundraiseupVisitor":false,"disablePreloading":false,"deviceData":{"isMobile":false,"isMobileOrTablet":false,"isMobileSafari16":false},"experimentsConfig":{"experiments":[{"name":"DummyExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"33802","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"LessPaymentOptionsExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1},{"name":"test-3","key":"test-3","weight":1},{"name":"test-4","key":"test-4","weight":1}],"experimentId":"40193","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutModalVsCampaignPagesExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"58415","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MatchDonationInSocialProofExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"59325","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SteplessMobileCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"60395","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellScreenV3Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"65613","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MlPostDonationUpsellCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"70084","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AGSTXLKM","APZMZAGU","ARVHGABZ","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutWithoutPreDonationUpsellExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"73814","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AGSTXLKM","APZMZAGU","ARVHGABZ","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MlPresetsInDonationFormV2Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"82987","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SendBeaconVsFetchKeepAliveExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":80},{"name":"test","key":"test","weight":20}],"experimentId":"87177","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"PresetsInDonationFormV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"92387","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"PresetsInDonationFormV31Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"107996","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"DonateByVoiceExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"133232","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"NewFontForHintToRecurringExperiment","enabled":true,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"141481","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AHZRYCRW","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMNBTWFT","AMUMMYDJ","ANCBYMWS","ANEQYMCP","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPZKMDK","ASQMJVUY","AUAEBSYG","AUVYPFTF","AVCYLAJJ","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CloudflareWorkerStrategyForElementsExperiment","enabled":true,"variants":[{"name":"control","key":"control","weight":50},{"name":"test-1","key":"test-1","weight":50}],"experimentId":"143564","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKFWLEML","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMUMMYDJ","ANCBYMWS","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPZKMDK","ASQMJVUY","AUVYPFTF","AVCYLAJJ","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"QuarterlyUpsellModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"133727-modal","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKFWLEML","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMUMMYDJ","ANCBYMWS","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPZKMDK","ASQMJVUY","AUVYPFTF","AVCYLAJJ","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsDonationFormV5Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":80},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":20},{"name":"test-3","key":"test-3","weight":0},{"name":"test-4","key":"test-4","weight":0}],"experimentId":"115114-DF","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AKVYFUBL","ARNXLWYU","ASPUXQFL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV5Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":80},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":20},{"name":"test-3","key":"test-3","weight":0},{"name":"test-4","key":"test-4","weight":0}],"experimentId":"115114-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AKVYFUBL","ARNXLWYU","ASPUXQFL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"PreDonationAmounts100200USDModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"135267-modal","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AAMRKAJS","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFHQHUFB","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMUMMYDJ","ANCBYMWS","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPUXQFL","ASPZKMDK","ASQMJVUY","AUPRPMUE","AUVYPFTF","AVCYLAJJ","AVLMPSRU","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"DonateByVoiceV2ModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"138976-modal","enabledAccounts":[],"disabledAccounts":["AAKBXMSJ","AALSWZAG","AAMRKAJS","AAPLWWEJ","AATLURDD","ABLAYHFK","ABWDLBTL","ABXBVMVA","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADHFKQJG","ADQRERLU","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFHQHUFB","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHEZTVBW","AHLNTGLT","AHZRYCRW","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEQKCVG","AKEVJHVM","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMNBTWFT","AMUMMYDJ","ANCBYMWS","ANEQYMCP","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARMPCVPV","ARNXLWYU","ARPSFYJG","ASNVRJLX","ASPUXQFL","ASPZKMDK","ASQMJVUY","AUAEBSYG","AUPRPMUE","AUVYPFTF","AVCYLAJJ","AVLMPSRU","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"FeeCoverageSelectionModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"101219-modal","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AAMRKAJS","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFHQHUFB","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMUMMYDJ","ANCBYMWS","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPUXQFL","ASPZKMDK","ASQMJVUY","AUPRPMUE","AUVYPFTF","AVCYLAJJ","AVLMPSRU","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutStepsCheckoutModalExperiment","enabled":true,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"133620-modal","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AAMRKAJS","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFHQHUFB","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMUMMYDJ","ANCBYMWS","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPUXQFL","ASPZKMDK","ASQMJVUY","AUPRPMUE","AUVYPFTF","AVCYLAJJ","AVLMPSRU","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"StripeLinkCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"115596-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","ARNXLWYU","ASPUXQFL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MultipleRecurringPlanCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"114635-modal","enabledAccounts":[],"disabledAccounts":["AALSWZAG","AAMRKAJS","AATLURDD","ABLAYHFK","ABXQVBCC","ACACYXKN","ACHHVGHA","ACYYCJSS","ADVFEVBX","AERPMFNV","AFHDMWFQ","AFHQHUFB","AFKFMCXG","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJEJDSBJ","AJQQEYDC","AJVWXWBG","AJZSDMZE","AKEVJHVM","AKVYFUBL","ALGWNCES","ALJRVDPY","ALNSLQRP","AMUMMYDJ","ANCBYMWS","ANKNPFPV","APKJZMBK","APZLZNWC","AQEGFEES","ARHVGWAD","ARNXLWYU","ARPSFYJG","ASPUXQFL","ASPZKMDK","ASQMJVUY","AUPRPMUE","AUVYPFTF","AVCYLAJJ","AVLMPSRU","AVPGEGCH","AVRUAVBN","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AXTLMAMD","AYSXGFLA","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"FastTrackCheckoutExperiment_fixed","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"101284-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","ARNXLWYU","ASPUXQFL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SmartCoveringFeeCheckoutV4Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"113277-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV4Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":9},{"name":"test","key":"test","weight":1}],"experimentId":"126493-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsDonationFormV4Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":9},{"name":"test","key":"test","weight":1}],"experimentId":"126493-DF","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AverageDonationHintExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":0},{"name":"test-3","key":"test-3","weight":1}],"experimentId":"101523-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJGEZYBE","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE","ASNVRJLX"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountsOnUpsellV2CheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":1},{"name":"test-3","key":"test-3","weight":0}],"experimentId":"104387-modal","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsDonationFormV4Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"110192-DF","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellScreenDataCollectCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":70},{"name":"test","key":"test","weight":29}],"experimentId":"112996-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"DefaultFrequencyV3ModalExperiment","enabled":true,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"103991-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MlDefaultFrequencyInDonationFormV3Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"103991-df","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV31Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"108741-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutWithoutPresetsExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"59097-modal","enabledAccounts":[],"disabledAccounts":["ABLAYHFK","ABXQVBCC","ACACYXKN","ACYYCJSS","AERPMFNV","AFHDMWFQ","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJQQEYDC","ALGWNCES","ALJRVDPY","ALNSLQRP","ANCBYMWS","APKJZMBK","AQEGFEES","ARHVGWAD","ARPSFYJG","ASQMJVUY","AUVYPFTF","AVCYLAJJ","AVRUAVBN","AWFXWKCB","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AYSXGFLA"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutStepsCheckoutModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"59119-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"DonorRatingCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":0}],"experimentId":"99706-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"RecurringFrequencyHintCheckoutDesktopExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"59392-desktop","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","ADQRERLU","AFHQHUFB","AJZSDMZE","AKVYFUBL","ARMPCVPV","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"RecurringFrequencyHintCheckoutMobileExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"59392-mobile","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","ADQRERLU","AFHQHUFB","AJZSDMZE","AKVYFUBL","ARMPCVPV","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SmartPDUCheckoutV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"89260-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmazonPayCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"87699-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"BirthdayDonationCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"84301-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU","AVYLHELK"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellAmountsSuggestionModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"89701-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CollectDatasetPostDonationUpsellAmountCheckoutV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"89924-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellAmountsDatasetModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"87159-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"107649-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SmartPostDonationUpsellCheckoutV2Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"79870-modal","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"FloatingLabelsCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"60368-modal","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"}]},"abTestMode":false,"browserData":{"browser":{},"device":{},"engine":{},"os":{"name":"Windows","version":"NT"},"isSupported":false,"isCommonBrowser":false,"isInAppBrowser":false},"fontsAssets":["https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-400.woff2","https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-500.woff2","https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-600.woff2"],"fromDonorPortal":false,"currentCompanyKey":"AAYKECHT","clientId":"17649486062744798974"},knownKeys:{campaignKeyGroups:{"onlyCampaignPages":{"withAskPage":[],"noAskPage":[]},"onlyCheckoutModal":{"withAskPage":[["FUNEZMPRYLE"],["FUNFTLUKCSN"],["FUNVTPWBDFA"]],"noAskPage":[]},"bothTypes":{"withAskPage":[],"noAskPage":[]}},elements:{"donationForm":["XTKMQZHT","XJSGTLGH"],"donateButton":["XTLSAXYD"],"simpleForm":["XLLURLEG"]},inactiveWidgets:[],giftCatalogs:[]},company:{"key":"AAYKECHT","disabledWidgets":{"redirectTo":"nowhere","url":"","widgetKey":""},"localization":{"defaultLocale":"en-US","interfaceLocales":["en-US"],"matchBrowserLocale":false,"matchURL":false,"urlRules":[]},"parentKey":null,"country":"US"},version:'251205-1156',meta:null}),i=n.get(Ae.i.EMBED_TRACKER).getTLD();n.get(Ae.i.CONSENT_MANAGER_API).initialize(i);const o=n.get(Ae.i.EMBED_CONFIG),r=n.get(Ae.i.EMBED_INTERNAL_API);o.fromDonorPortal&&(null===(t=window.FUN)||void 0===t?void 0:t.showDebugPanel)&&(r.showDebugPanel=window.FUN.showDebugPanel),window.FUN=r,window.FUN.init().then(()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"FundraiseUp.optimize.activate"}),Xr.log("initialized")}).catch(e=>{console.error(e)})}()})()})();
