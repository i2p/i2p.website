---
title: "पुराना Tunnel कार्यान्वयन (लेगेसी)"
description: "I2P 0.6.1.10 से पहले उपयोग किए जाने वाले tunnel डिज़ाइन का संग्रहीत विवरण।"
slug: "old-implementation"
lastUpdated: "2005-06"
accurateFor: "0.6.1"
reviewStatus: "needs-review"
---

> **लेगेसी स्थिति:** यह सामग्री केवल ऐतिहासिक संदर्भ के लिए संरक्षित है। यह I2P&nbsp;0.6.1.10 से पहले जारी किए गए tunnel प्रणाली का दस्तावेज़ीकरण करती है और इसे आधुनिक विकास के लिए उपयोग नहीं किया जाना चाहिए। उत्पादन संबंधी मार्गदर्शन के लिए [वर्तमान कार्यान्वयन](/docs/specs/implementation/) देखें।

मूल tunnel सबसिस्टम ने भी एकदिशीय tunnels का उपयोग किया, लेकिन संदेश लेआउट, डुप्लिकेट का पता लगाने, और बिल्ड रणनीति में भिन्न था। नीचे के कई अनुभाग तुलना में सहायता के लिए अप्रचलित दस्तावेज़ की संरचना को प्रतिबिंबित करते हैं।

## 1. Tunnel का अवलोकन

- Tunnels निर्माता द्वारा चुने गए समकक्षों के क्रमबद्ध अनुक्रम के रूप में बनाए जाते थे।
- Tunnel की लंबाई 0–7 hops (मध्यवर्ती नोड्स की संख्या) के बीच होती थी, और padding, throttling, तथा chaff generation (भ्रामक ट्रैफिक उत्पन्न करना) के लिए कई नियंत्रण विकल्प उपलब्ध थे।
- Inbound tunnels अविश्वसनीय गेटवे से संदेशों को निर्माता (endpoint) तक पहुँचाते थे; outbound tunnels डेटा को निर्माता से दूर भेजते थे।
- Tunnel का जीवनकाल 10 मिनट था, जिसके बाद नए tunnels बनाए जाते थे (अक्सर वही समकक्ष उपयोग किए जाते थे, पर अलग tunnel IDs)।

## 2. पुराने डिज़ाइन में संचालन

### 2.1 संदेश पूर्वप्रसंस्करण

गेटवे ने ≤32&nbsp;KB का I2NP पेलोड एकत्र किया, पैडिंग चुनी, और ऐसा पेलोड तैयार किया जिसमें शामिल था:

- दो-बाइट का पैडिंग-लंबाई फ़ील्ड और उतने ही यादृच्छिक बाइट्स
- डिलीवरी लक्ष्यों, fragmentation (खंडन), और वैकल्पिक विलंबों का वर्णन करने वाले `{instructions, I2NP message}` युग्मों का एक अनुक्रम
- पूर्ण I2NP संदेश 16-बाइट सीमा तक पैड किए गए

डिलीवरी निर्देश रूटिंग जानकारी को बिट फ़ील्ड्स में पैक करते थे (डिलीवरी प्रकार, डिले फ़्लैग, फ्रैगमेंटेशन फ़्लैग, और वैकल्पिक एक्सटेंशन्स)। खंडित संदेशों में 4-बाइट का संदेश ID और एक इंडेक्स/लास्ट-फ्रैगमेंट फ़्लैग होता था।

### 2.2 गेटवे एन्क्रिप्शन

पुराने डिज़ाइन ने एन्क्रिप्शन चरण के लिए tunnel की लंबाई आठ hops (मध्यवर्ती नोड) पर निश्चित कर दी थी। गेटवे ने AES-256/CBC के साथ checksum ब्लॉक्स की परतें जोड़ीं, ताकि प्रत्येक hop payload (संदेश का वास्तविक डेटा) को घटाए बिना अखंडता सत्यापित कर सके। स्वयं checksum संदेश के भीतर समाहित एक SHA-256 से व्युत्पन्न ब्लॉक था।

### 2.3 प्रतिभागियों का व्यवहार

प्रतिभागियों ने इनबाउंड tunnel आईडी पर नज़र रखी, आरंभ में ही अखंडता सत्यापित की, और अग्रेषित करने से पहले डुप्लिकेट को त्याग दिया। क्योंकि पैडिंग और सत्यापन ब्लॉक एंबेड किए गए थे, हॉप संख्या की परवाह किए बिना संदेश का आकार स्थिर रहा।

### 2.4 एंडपॉइंट प्रसंस्करण

एंडपॉइंट्स ने परतदार ब्लॉक्स को क्रमवार डिक्रिप्ट किया, चेकसम सत्यापित किए, और payload (डेटा का मुख्य भाग) को दोबारा एन्कोडेड निर्देशों तथा I2NP संदेशों में विभाजित किया ताकि आगे प्रेषण किया जा सके।

## 3. Tunnel निर्माण (अप्रचलित प्रक्रिया)

1. **पीयर चयन:** पीयर स्थानीय रूप से अनुरक्षित प्रोफाइल (अन्वेषणात्मक बनाम क्लाइंट) से चुने गए। मूल दस्तावेज़ ने प्रति tunnel पूल क्रमबद्ध पीयर सूचियों का पुन: उपयोग करके [predecessor attack](https://en.wikipedia.org/wiki/Predecessor_attack) के शमन पर पहले ही जोर दिया था।
2. **अनुरोध वितरण:** बिल्ड संदेशों को हॉप-बाय-हॉप (प्रत्येक हॉप पर) अग्रेषित किया जाता था, जिनमें प्रत्येक पीयर के लिए कूटबद्ध खंड होते थे। वैकल्पिक विचार, जैसे टेलिस्कोपिक एक्सटेंशन (क्रमिक विस्तार), मिडस्ट्रीम रीरूटिंग (बीच के मार्ग में पुनः मार्ग निर्धारण), या चेकसम ब्लॉक्स हटाना, प्रयोग रूप में चर्चा किए गए थे, पर कभी अपनाए नहीं गए।
3. **पूलिंग:** प्रत्येक स्थानीय डेस्टिनेशन के पास अलग-अलग इनबाउंड और आउटबाउंड पूल थे। सेटिंग्स में वांछित मात्रा, backup tunnels, लंबाई में परिवर्तनशीलता, थ्रॉटलिंग, और पैडिंग नीतियाँ शामिल थीं।

## 4. थ्रॉटलिंग और मिक्सिंग की अवधारणाएँ

पुराने लेख ने कई रणनीतियाँ प्रस्तावित कीं, जिन्होंने बाद की रिलीज़ों को मार्गदर्शन दिया:

- भीड़ नियंत्रण के लिए Weighted Random Early Discard (WRED)
- हाल के उपयोग के चल औसत के आधार पर प्रति-tunnel दर-सीमाएँ
- वैकल्पिक chaff (आवरण ट्रैफ़िक) और बैचिंग नियंत्रण (पूरी तरह लागू नहीं)

## 5. संग्रहीत विकल्प

मूल दस्तावेज़ के कुछ अनुभागों ने उन विचारों का अन्वेषण किया जो कभी कार्यान्वित नहीं किए गए:

- प्रति-हॉप प्रसंस्करण घटाने के लिए checksum blocks हटाना
- पीयर संरचना बदलने हेतु मध्य-पथ में telescoping (क्रमिक-विस्तार) tunnels करना
- द्विदिश tunnels पर स्विच करना (आखिरकार अस्वीकार किया गया)
- छोटे हैश या अलग padding विधियों का उपयोग करना

ये विचार ऐतिहासिक संदर्भ के रूप में अब भी मूल्यवान हैं, लेकिन आधुनिक कोडबेस को प्रतिबिंबित नहीं करते।

## संदर्भ

- मूल लेगेसी दस्तावेज़ अभिलेखागार (0.6.1.10 से पहले)
- [Tunnel अवलोकन](/docs/overview/tunnel-routing/) वर्तमान शब्दावली के लिए
- [पीयर प्रोफाइलिंग और चयन](/docs/overview/tunnel-routing#peer-selection/) आधुनिक ह्यूरिस्टिक्स (अनुभवजन्य नियम) के लिए
