```markdown
---
title: "UDP ट्रैकर्स"
number: "160"
author: "zzz"
created: "2022-01-03"
lastupdated: "2025-06-25"
status: "Closed"
thread: "http://zzz.i2p/topics/1634"
target: "0.9.67"
---

## स्थिति

समीक्षा 2025-06-24 को स्वीकृत।
विशेष विवरण [UDP specification](/en/docs/spec/udp-bittorrent-announces/) में है।
zzzot 0.20.0-beta2 में लागू किया गया।
API 0.9.67 के रूप में i2psnark में लागू किया गया।
स्थिति के लिए अन्य कार्यान्वयन के दस्तावेज़ीकरण की जाँच करें।

## अवलोकन

यह प्रस्ताव I2P में UDP ट्रैकर्स के क्रियान्वयन के लिए है।

### परिवर्तन इतिहास

I2P में UDP ट्रैकर्स के लिए एक प्रारंभिक प्रस्ताव हमारे बिटटोरेंट स्पेक पेज [/en/docs/applications/bittorrent/](/en/docs/applications/bittorrent/) पर मई 2014 में पोस्ट किया गया था; यह हमारे औपचारिक प्रस्ताव प्रक्रिया से पहले था, और इसे कभी लागू नहीं किया गया था। यह प्रस्ताव 2022 की शुरुआत में बनाया गया था और 2014 के संस्करण को सरल बनाता है।

चूंकि यह प्रस्ताव पुनरावलोकन योग्य डेटाग्राम्स पर निर्भर करता है, इसे होल्ड पर रखा गया जब हमने 2023 की शुरुआत में Datagram2 प्रस्ताव [/en/proposals/163-datagram2/](/en/proposals/163-datagram2/) पर काम करना शुरू किया। वह प्रस्ताव अप्रैल 2025 में स्वीकृत हुआ।

2023 के इस प्रस्ताव ने दो मोड निर्दिष्ट किए, "अनुकूलता" और "तेज"। आगे के विश्लेषण से पता चला कि तेज मोड असुरक्षित होगा, और बड़ी संख्या में टोरेंट वाले क्लाइंट्स के लिए भी अक्षम होगा। आगे, BiglyBT ने अनुकूलता मोड के लिए वरीयता दिखाई। यह मोड किसी भी ट्रैकर या क्लाइंट के लिए मानक [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) का समर्थन करने के लिए लागू करना आसान होगा।

हालांकि क्लाइंट साइज से प्रारंभ से अनुकूलता मोड लागू करना अधिक जटिल है, हमारे पास 2023 में शुरू किए गए इसके लिए प्रारंभिक कोड है।

इसलिए, यहां वर्तमान संस्करण को तेज़ मोड को हटाने के लिए और अधिक सरल बनाया गया है, और "अनुकूलता" शब्द को हटा दिया गया है। वर्तमान संस्करण नए Datagram2 प्रारूप पर स्विच करता है, और UDP घोषणा विस्तार प्रोटोकॉल [BEP 41](http://www.bittorrent.org/beps/bep_0041.html) के संदर्भ जोड़ता है।

इसके अलावा, इस प्रोटोकॉल की दक्षता लाभ का विस्तार करने के लिए एक कनेक्शन ID जीवनकाल क्षेत्र को कनेक्ट प्रतिक्रिया में जोड़ा गया है।

## प्रेरणा

जैसे उपयोगकर्ता आधार में सामान्य रूप से और विशेष रूप से बिटटोरेंट उपयोगकर्ताओं की संख्या लगातार बढ़ रही है, हमें ट्रैकर्स और घोषणाओं को अधिक कुशल बनाना चाहिए ताकि ट्रैकर्स भारी न हों।

बिटटोरेंट ने 2008 में BEP 15 [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) में UDP ट्रैकर्स का प्रस्ताव दिया था, और अब अधिकांश ट्रैकर्स स्पष्ट नेटवर्क पर केवल UDP हैं।

डेटाग्राम्स बनाम स्ट्रीमिंग प्रोटोकॉल की बैंडविड्थ बचत की गणना करना मुश्किल है। एक पुनरावलोकनीय अनुरोध लगभग एक स्ट्रीमिंग SYN के समान आकार का होता है, लेकिन HTTP GET के 600 बाइट्स के लंबे URL पैरामीटर स्ट्रिंग के कारण पेलोड लगभग 500 बाइट्स छोटा होता है। रॉ उत्तर एक स्ट्रीमिंग SYN ACK से बहुत अधिक छोटा होता है, ट्रैकर के आउटबाउंड ट्रैफ़िक के लिए महत्वपूर्ण कमी प्रदान करता है।

इसके अतिरिक्त, डेटाग्राम्स को एक स्ट्रीमिंग कनेक्शन की तुलना में इन मेमोरी स्थिति की काफी कम आवश्यकता होती है, जिससे कार्यान्वयन-विशिष्ट स्मृति में कमी हो सकती है।

पोस्ट-क्वांटम एन्क्रिप्शन और हस्ताक्षर जैसे कि [/en/proposals/169-pq-crypto/](/en/proposals/169-pq-crypto/) में दर्शाया गया है एन्क्रिप्टेड और साइन किए गए संरचनाओं सहित गंतव्य, लीसेट्स, स्ट्रीमिंग SYN और SYN ACK के अधिशेष को काफी बढ़ाएंगे। यह महत्वपूर्ण है कि I2P में PQ क्रिप्टो के अपनाने से पहले यह अधिशेष जहां संभव हो सके, न्यूनतम करें।

## डिज़ाइन

यह प्रस्ताव पुनरावलोकनीय डेटाग्राम2, पुनरावलोकनीय डेटाग्राम3, और रॉ डेटाग्राम्स का उपयोग करता है, जैसा कि [/en/docs/spec/datagrams/](/en/docs/spec/datagrams/) में परिभाषित है। डेटाग्राम2 और डेटाग्राम3 पुनरावलोकनीय डेटाग्राम्स के नए संस्करण हैं, प्रस्ताव 163 [/en/proposals/163-datagram2/](/en/proposals/163-datagram2/) में परिभाषित हैं। डेटाग्राम2 पुनरावलोकन प्रतिरोध और ऑफ़लाइन हस्ताक्षर समर्थन जोड़ता है। डेटाग्राम3 पुरानी डेटाग्राम प्रारूप से छोटा है, लेकिन प्रामाणिकता के बिना।

### BEP 15

संदर्भ के लिए, [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) में परिभाषित संदेश प्रवाह इस प्रकार है:

```
Client                        Tracker
    Connect Req. ------------->
      <-------------- Connect Resp.
    Announce Req. ------------->
      <-------------- Announce Resp.
    Announce Req. ------------->
      <-------------- Announce Resp.
```

कनेक्ट चरण IP पता स्पूफिंग को रोकने के लिए आवश्यक है। ट्रैकर एक कनेक्शन ID लौटाता है जिसका उपयोग क्लाइंट आगे की घोषणाओं में करता है। यह कनेक्शन ID डिफ़ॉल्ट रूप से एक मिनट में क्लाइंट पर और दो मिनट में ट्रैकर पर समाप्त हो जाता है।

I2P [BEP 15] की तरह ही संदेश प्रवाह का उपयोग करेगा, मौजूदा UDP-योग्य क्लाइंट कोड आधारों में गोद लेने की आसानी के लिए: दक्षता और सुरक्षा कारणों के लिए नीचे चर्चा की गई:

```
Client                        Tracker
    Connect Req. ------------->       (Repliable Datagram2)
      <-------------- Connect Resp.   (Raw)
    Announce Req. ------------->      (Repliable Datagram3)
      <-------------- Announce Resp.  (Raw)
    Announce Req. ------------->      (Repliable Datagram3)
      <-------------- Announce Resp.  (Raw)
             ...
```

यह स्ट्रीमिंग (TCP) घोषणाओं की तुलना में बड़ी बैंडविड्थ बचत प्रदान करता है। जबकि डेटाग्राम2 लगभग स्ट्रीमिंग SYN के समान आकार का है, रॉ उत्तर स्ट्रीमिंग SYN ACK से बहुत छोटा है। बाद के अनुरोध डेटाग्राम3 का उपयोग करते हैं, और बाद के उत्तर रॉ हैं।

घोषणा अनुरोध डेटाग्राम3 हैं ताकि ट्रैकर को कनेक्शन ID को घोषणा गंतव्य या हैश से जोड़ने वाली एक बड़ी मैपिंग टेबल बनाए रखने की आवश्यकता न हो। इसके बजाय, ट्रैकर कने शुरू हो रही समयमुहर (कुछ अंतराल के आधार पर) और एक गुप्त मूल्य से प्रेषक हैश क्रिप्टोग्राफिक रूप से उत्पन्न कर सकता है। जब घोषणा अनुरोध प्राप्त होता है, तो ट्रैकर कनेक्शन ID को मान्य करता है, और फिर डैटाग्राम3 प्रेषक हैश का उपयोग

घोषणा अनुरोध समय हेतु करते हैं।


### ट्रैकर/क्लाइंट समर्थन

एक एकीकृत अनुप्रयोग (राउटर और क्लाइंट एक प्रसंस्कारी में, उदाहरण के लिए i2psnark, और ZzzOT Java प्लगइन), या एक I2CP-आधारित अनुप्रयोग के लिए (उदाहरण के लिए BiglyBT), स्ट्रीमिंग और डेटाग्राम ट्रैफ़िक को अलग से कार्यान्वित और मार्गदर्शित करना सरल होना चाहिए। ZzzOT और i2psnark को इस प्रस्ताव को कार्यान्वित करने के लिए पहले ट्रैकर और क्लाइंट के रूप में अपेक्षित किया जाता है।

गैर-एकीकृत ट्रैकर्स और क्लाइंट्स नीचे चर्चा की गई हैं।

ट्रैकर्स
````````

चार ज्ञात I2P ट्रैकर कार्यान्वयन हैं:

- zzzot, एक एकीकृत Java राउटर प्लगइन, जो opentracker.dg2.i2p और कुछ अन्य जगहों पर चलता है
- ट्रैकर2.postman.i2p, संभवतः एक Java राउटर और HTTP सर्वर टनल के पीछे चल रहा है
- पुराना C opentracker, zzz द्वारा पोर्ट किया गया, जिसमें UDP समर्थन को कॉमेंट किया गया है
- नया C opentracker, r4sas द्वारा पोर्ट किया गया, जो opentracker.r4sas.i2p और संभवतः अन्य जगहों पर चलता है,
  संभवतः एक i2pd राउटर और HTTP सर्वर टनल के पीछे चल रहा है

एक बाहरी ट्रैकर एप्लिकेशन के लिए जो वर्तमान में एक HTTP सर्वर टनल का उपयोग करके घोषणा अनुरोध प्राप्त करता है, कार्यान्वयन काफी कठिन हो सकता है। एक विशेष टनल को स्थानीय HTTP अनुरोध/प्रतिक्रियाओं के लिए डेटाग्राम का अनुवाद करने के लिए विकसित किया जा सकता है।या, एक विशेष टनल जो HTTP अनुरोधों और डेटाग्राम को संभालता है, उस पर कार्टेज कर सकता है जो बाहरी प्रक्रिया में डेटाग्राम्स को अग्रेषित करता है। इन डिज़ाइन निर्णयों का भारी इंर क específico रूटर और ट्रैकर कार्यान्वयन पर प्रभाव पड़ेगा, और इन्हें इस प्रस्ताव के दायरे से बाहर रखा गया है।


क्लाइंट्स
`````````
बाहरी SAM-आधारित टोरेंट क्लाइंट जैसे qbittorrent और अन्य libtorrent-आधारित क्लाइंट्स SAM v3.3 [/en/docs/api/samv3/](/en/docs/api/samv3/) की आवश्यकता होगी जो i2pd द्वारा समर्थित नहीं है। यह DHT समर्थन के लिए भी आवश्यक है, और इतनी जटिल है कि किसी भी ज्ञात SAM टोरेंट क्लाइंट द्वारा इसे कार्यान्वित नहीं किया गया है। जल्द ही किसी SAM-आधारित कार्यान्वयन की उम्मीद नहीं की जाती है।


### कनेक्शन जीवनकाल

[BEP 15](http://www.bittorrent.org/beps/bep_0015.html) निर्दिष्ट करता है कि कनेक्शन ID क्लाइंट पर एक मिनट में और ट्रैकर पर दो मिनट में समाप्त हो जाता है। यह संयोज्या नहीं है। इसका संभावित दक्षता लाभ सीमित है, जब तक कि क्लाइंट सभी को एक मिनट की खिड़की में भरकर घोषणाएं नहीं करते। i2psnark वर्तमान में घोषणाएं नहीं करता है; वह ट्रैफ़िक के फटने से बचने के लिए उन्हें फैलाता है। पावर उपयोगकर्ताओं को एक समय में हज़ारों टोरेंट्स चलाने की सूचना है, और उस समयसीमा में इतने सारे घोषणाएं फटने देने की सलाह नहीं है।

यहां, हम कनेक्ट प्रतिक्रिया का विस्तार करने के लिए एक वैकल्पिक कनेक्शन जीवनकाल क्षेत्र जोड़ने का प्रस्ताव रखते हैं। डिफ़ॉल्ट, अगर उपस्थित नहीं है, एक मिनट है। अन्यथा, सेकंड में निर्दिष्ट जीवनकाल, क्लाइंट द्वारा उपयोग किया जाना चाहिए, और ट्रैकर कनेक्शन ID को एक मिनट और बनाए रखेगा।

### [BEP 15] के साथ संगतता

यह डिज़ाइन जितना संभव हो सके [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) के साथ संगतता बनाए रखता है ताकि मौजूदा क्लाइंट्स और ट्रैकर्स में आवश्यक परिवर्तन कम किए जा सकें।

एकमात्र आवश्यक परिवर्तन घोषणा प्रतिक्रिया में समकक्ष जानकारी का प्रारूप है। कनेक्ट प्रतिक्रिया में जीवनकाल क्षेत्र का जोड़ आवश्यक नहीं है लेकिन दक्षता के लिए अत्यधिक अनुशंसित है, जैसा कि ऊपर बताया गया है।

### सुरक्षा विश्लेषण

एक UDP घोषणा प्रोटोकॉल का एक महत्वपूर्ण लक्ष्य पते की स्पूफिंग को रोकना है। क्लाइंट को वास्तव में मौजूद होना चाहिए और एक असली लीसेसट का बंडल होना चाहिए। इसे कनेक्ट प्रतिक्रिया प्राप्त करने के लिए इनबाउंड टनल्स होना आवश्यक है। ये टनल्स जीरो-हॉप और तुरंत बनाए जा सकते हैं, लेकिन इससे निर्माता का पर्दाफाश हो सकता है। यह प्रोटोकॉल उस लक्ष्य को प्राप्त करता है।

### मुद्दे

- इस प्रस्ताव में ब्लाइंडेड डेस्टिनेशन्स का समर्थन नहीं है, लेकिन यह किया जा सकता है। नीचे देखें।

## विशेष विवरण

### प्रोटोकॉल और पोर्ट्स

पुनरावलोकनीय डेटाग्राम2 I2CP प्रोटोकॉल 19 का उपयोग करता है; पुनरावलोकनीय डेटाग्राम3 I2CP प्रोटोकॉल 20 का उपयोग करता है; रॉ डेटाग्राम्स I2CP प्रोटोकॉल 18 का उपयोग करते हैं। अनुरोध डेटाग्राम2 या डेटाग्राम3 हो सकते हैं। प्रतिक्रियाएं हमेशा रॉ होती हैं। पुराना पुनरावलोकनीय डेटाग्राम ("Datagram1") प्रारूप I2CP प्रोटोकॉल 17 का उपयोग करता है, जिसे अनुरोध/प्रतिक्रिया पोर्ट्स पर प्राप्त किए जाने पर गिरा दिया जाना चाहिए। ध्यान दें कि डैटाग्राम1 प्रोटोकॉल 17 अभी भी DHT प्रोटोकॉल के लिए उपयोग किया जा रहा है।

अनुरोध I2CP "to पोर्ट" से घोषणा URL से होते हैं; नीचे देखें। अनुरोध का "from पोर्ट" क्लाइंट द्वारा चुना जाता है, लेकिन इसे गैर-शून्य होना चाहिए, और DHT द्वारा उपयोग किए जाने वाले पोर्ट्स से अलग होना चाहिए, ताकि प्रतिक्रियाओं को आसानी से वर्गीकृत किया जा सके। गलत पोर्ट पर प्राप्त हुए अनुरोधों को ट्रैकर्स को अस्वीकार करना चाहिए।

### ऊष्मान URL

ऊष्मान URL प्रारूप [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) में निर्दिष्ट नहीं है, लेकिन जैसा कि स्पष्ट नेटवर्क में, UDP ऊष्मान URLs "udp://host:port/path" के रूप में होते हैं। पथ को नजरअंदाज किया जा सकता है और यह खाली हो सकता है, लेकिन यह आमतौर पर स्पष्ट नेटवर्क में "/announce" होता है। :पोर्ट भाग हमेशा उपस्थित होना चाहिए, हालाँकि, अगर ":पोर्ट" भाग छोड़ा गया है, तो 6969 के डिफ़ॉल्ट I2C पोर्ट का उपयोग करें, क्योंकि यह स्पष्ट नेटवर्क पर आम पोर्ट है। cgi पैरामीटर &a=b&c=d भी जुड़े हो सकते हैं, उन्हें घोषणा अनुरोध में संसाधित और प्रदान किया जा सकता है, देखें [BEP 41](http://www.bittorrent.org/beps/bep_0041.html)। अगर कोई पैरामीटर या पथ नहीं है, तो अंतिम / भी छोड़ा जा सकता है, जैसा कि [BEP 41](http://www.bittorrent.org/beps/bep_0041.html) में निहित है।

### डेटाग्राम प्रारूप

सभी मान नेटवर्क बाइट क्रम में भेजे जाते हैं (बड़े एन्डियन)। 
पैकेट्स के ठीक एक निश्चित आकार के होने की अपेक्षा न करें। भविष्य के विस्तार पैकेट्स के आकार को बढ़ा सकते हैं।

Connect Request
```````````````

क्लाइंट से ट्रैकर तक। 16 बाइट्स। पुनरावलोकनीय Datagram2 होना चाहिए। [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) के समान। कोई परिवर्तन नहीं।

```
Offset  Size            Name            Value
  0       64-bit integer  protocol_id     0x41727101980 // मैजिक कांस्टेंट
  8       32-bit integer  action          0 // कनेक्ट
  12      32-bit integer  transaction_id
```

Connect Response
````````````````

ट्रैकर से क्लाइंट तक। 16 या 18 बाइट्स। रॉ होना चाहिए। [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) के समान सिवाय जिनके नीचे बदलाव किए गए हैं।

```
Offset  Size            Name            Value
  0       32-bit integer  action          0 // कनेक्ट
  4       32-bit integer  transaction_id
  8       64-bit integer  connection_id
  16      16-bit integer  lifetime        विकल्पिक  // BEP 15 से परिवर्तन
```

अनुरोध "from पोर्ट" के रूप में प्राप्त "to पोर्ट" पर प्रतिक्रिया अवश्य भेजी जाए।

जीवनकाल फील्ड विकल्पिक है और सेकेंड्स में निर्धारित कनेक्शन_ID क्लाइंट जीवनकाल को बताता है। डिफ़ॉल्ट 60 है, और अगर निर्दिष्ट है तो न्यूनतम 60 है। अधिकतम 65535 या लगभग 18 घंटे है। ट्रैकर को क्लाइंट जीवनकाल से 60 सेकेंड अधिक के लिए कनेक्शन_ID बनाए रखना चाहिए। 

Announce Request
````````````````

क्लाइंट से ट्रैकर तक। न्यूनतम 98 बाइट्स। पुनरावलोकनीय Datagram3 होना चाहिए। [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) के समान सिवाए जिनके नीचे बदलाव किए गए हैं।

कनेक्शन_ID कनेक्ट प्रतिक्रिया में प्राप्त जैसा है।

.. raw:: html

{% highlight %}
Offset  Size            Name            Value
  0       64-bit integer  connection_id
  8       32-bit integer  action          1     // घोषणा
  12      32-bit integer  transaction_id
  16      20-byte string  info_hash
  36      20-byte string  peer_id
  56      64-bit integer  downloaded
  64      64-bit integer  left
  72      64-bit integer  uploaded
  80      32-bit integer  event           0     // 0: नहीं; 1: पूरा; 2: शुरू हुआ; 3: बंद हुआ
  84      32-bit integer  IP address      0     // डिफ़ॉल्ट
  88      32-bit integer  key
  92      32-bit integer  num_want        -1    // डिफ़ॉल्ट
  96      16-bit integer  port
  98      varies          options     विकल्पिक  // जैसा BEP 41 में निर्दिष्ट
{% endhighlight %}

[BEP 15](http://www.bittorrent.org/beps/bep_0015.html) से बदलाव:

- कुंजी को अनदेखा किया जाता है
- पोर्ट को शायद अनदेखा किया जाता है
- विकल्पों का खंड, अगर उपस्थित है, [BEP 41](http://www.bittorrent.org/beps/bep_0041.html) में निर्दिष्ट जैसा है

अनुरोध "from पोर्ट" के रूप में प्राप्त "to पोर्ट" पर प्रतिक्रिया अवश्य भेजी जाए। घोषणा अनुरोध से प्राप्त पोर्ट का उपयोग न करें। 

Announce Response
`````````````````

ट्रैकर से क्लाइंट तक। न्यूनतम 20 बाइट्स। रॉ होना चाहिए। [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) के समान सिवाए जिनके नीचे बदलाव किए गए हैं।

.. raw:: html

{% highlight %}
Offset  Size            Name            Value
  0           32-bit integer  action          1 // घोषणा
  4           32-bit integer  transaction_id
  8           32-bit integer  interval
  12          32-bit integer  leechers
  16          32-bit integer  seeders
  20   32 * n 32-byte hash    binary hashes     // BEP 15 से बदलाव  
  ...                                           // BEP 15 से बदलाव
{% endhighlight %}

[BEP 15](http://www.bittorrent.org/beps/bep_0015.html) से बदलाव:

- 6-बाइट IPv4+पोर्ट या 18-बाइट आईपीवी6+पोर्ट के बजाय, हम SHA-256 बाइनरी सहकर्मी हैश के साथ "कॉम्पैक्ट प्रतिक्रियाओं" के 32-बाइट के गुणक को वापस लौटाते हैं। जैसा कि TCP कॉम्पैक्ट प्रतिक्रियाएं हैं, हम एक पोर्ट शामिल नहीं करते।

अनुरोध "from पोर्ट" के रूप में प्राप्त "to पोर्ट" पर प्रतिक्रिया अवश्य भेजी जाए। घोषणा अनुरोध से प्राप्त पोर्ट का उपयोग न करें। 

I2P डेटाग्राम्स का अधिकतम आकार लगभग 64 KB है; हालांकि, विश्वसनीय डिलीवरी के लिए, 4 KB से बड़े डेटाग्राम्स से बचा जाना चाहिए। बैंडविड्थ दक्षता के लिए, ट्रैकर्स को अधिकतम सहकर्मियों को लगभग 50 तक सीमित करना चाहिए, जो कि विभिन्न परतों में ओवरहेड से पहले लगभग 1600 बाइट पैकेट के समकक्ष है, और फ्रेगमेंटेशन के बाद एक दो-टनल-संदेश पेलोड सीमा के भीतर होना चाहिए।

जैसा कि BEP 15 में है, पूर्ण सहकर्मी पते की संख्या का कोई गिनती शामिल नहीं है (IP/पोर्ट के लिए BEP 15, यहाँ हैश के लिए)। जबकि BEP 15 में इसकी कल्पना नहीं की गई है, एक सभी ज़ीरो का अंत-सहकर्मी मार्कर पूर्ण सहकर्मी जानकारी को इंगित करने के लिए परिभाषित किया जा सकता है और कुछ एक्सटेंशन डेटा अनुसरण करता है। 

ताकि भविष्य में एक्सटेंशन संभव हो, क्लाइंट्स को एक 32-बाइट सभी-ज़ीरो हैश को नजरंदाज करना चाहिए, और जो भी डेटा जो अनुसरण करता है। ट्रैकर्स को सभी-ज़ीरो हैश से घोषणाओं को अस्वीकार करना चाहिए, हालांकि वह हैश पहले से ही Java राउटर्स द्वारा प्रतिबंधित है। 

Scrape
``````

Scrape अनुरोध/प्रतिक्रिया [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) से नहीं आवश्यक है, लेकिन यदि वांछित लागू किया जा सकता है, कोई परिवर्तन की आवश्यकता नहीं। क्लाइंट को पहले एक कनेक्शन ID प्राप्त करना होगा। स्क्रेप अनुरोध हमेशा पुनरावलोकनीय Datagram3 होता है। स्क्रेप प्रतिक्रिया हमेशा रॉ होती है। 

Error Response
``````````````

ट्रैकर से क्लाइंट तक। 8 बाइट्स न्यूनतम (यदि संदेश खाली है)। रॉ होना चाहिए। [BEP 15](http://www.bittorrent.org/beps/bep_0015.html) का सामान। कोई परिवर्तन नहीं।

.. raw:: html

{% highlight %}

Offset  Size            Name            Value
  0       32-bit integer  action          3 // त्रुटि
  4       32-bit integer  transaction_id
  8       string          message

{% endhighlight %}

## एक्सटेंशन

एक्सटेंशन बिट्स या एक संस्करण फील्ड शामिल नहीं हैं। क्लाइंट्स और ट्रैकर्स को फ़िक्स आकार के पैकेट्स की अपेक्षा नहीं करनी चाहिए। इस तरह, बिना संगतता तोड़े अतिरिक्त फ़ील्ड जोड़ी जा सकती हैं। यदि आवश्यक हो, [BEP 41](http://www.bittorrent.org/beps/bep_0041.html) में परिभाषित एक्सटेंशन प्रारूप अनुशंसित है।

कनेक्ट प्रतिक्रिया को वैकल्पिक कनेक्शन ID जीवनकाल जोड़ने के लिए संशोधित किया गया है।

अगर ब्लाइंडेड गंतव्य समर्थन की आवश्यकता होती है, हम घोषणा अनुरोध के अंत में ब्लाइंडेड 35-बाइट पता जोड़ सकते हैं, या प्रतिक्रिया में ब्लाइंडेड हैश का अनुरोध कर सकते हैं, [BEP 41](http://www.bittorrent.org/beps/bep_0041.html) प्रारूप का उपयोग कर (पैरामीटर TBD)।
ब्लाइंडेड 35-बाइट सहकर्मी पते की सेट प्रतिक्रिया के अंत में सभी ज़ीरो 32-बाइट हैश के बाद जोड़ी जा सकती है।

## कार्यान्वयन दिशानिर्देश

गैर-एकीकृत, गैर-I2CP क्लाइंट्स और ट्रैकर्स के लिए चुनौतियों पर चर्चा के लिए डिज़ाइन अनुभाग देखें।

### क्लाइंट्स

एक दिए गए ट्रैकर होस्टनेम के लिए, एक क्लाइंट को HTTP URLs पर UDP पसंद करना चाहिए, और दोनों पर घोषणा नहीं करनी चाहिए।

मौजूदा BEP 15 समर्थन वाले क्लाइंट्स को थोड़े परिवर्तन की आवश्यकता होनी चाहिए।

अगर एक क्लाइंट DHT या अन्य डेटाग्राम प्रोटोकॉल का समर्थन करता है, तो इसे संभवतः एक अलग पोर्ट चयन करना चाहिए अनुरोध "from पोर्ट" के रूप में ताकि प्रतिक्रियाएं उस पोर्ट पर आएं और DHT संदेशों के साथ मिश्रित न हों। 
क्लाइंट को केवल प्रतिक्रियाओं के रूप में रॉ डेटाग्राम्स प्राप्त होतें हैं। 
ट्रैकर्स कभी भी क्लाइंट को एक पुनरावलोकनीय डेटग्राम2 नहीं भेजते हैं।

ज्ञात oprentrackers के UDP को समर्थन देने के बाद, क्लाइंट्स को एक डिफ़ॉल्ट oprentracker सूची के साथ udp URLs जोड़ने के लिए इसे अपडेट करना चाहिए।

क्लाइंट्स को अनुरोधों के पुन:प्रसारण को लागू या ना करने का निर्णय लेना चाहिए।
अगर लागू किया गया है, तो पुन:प्रसारण का प्रारंभिक टाइमआउट कम से कम 15 सेकंड का होना चाहिए, और हर पुन:प्रसारण के लिए टाइमआउट को दोगुना (घातांक बैकऑफ) करना चाहिए।

क्लाइंट्स को त्रुटि प्रतिक्रिया प्राप्त करने पर वापस खींचना चाहिए।

### ट्रैकर्स

मौजूदा BEP 15 समर्थन वाले ट्रैकर्स को केवल थोड़े परिवर्तन की आवश्यकता होनी चाहिए।
यह प्रस्ताव 2014 प्रस्ताव से भिन्न होता है, जिसमें ट्रैकर को अनुरोधों के समान पोर्ट पर पुनरावलोकनीय डेटग्राम2 और डेटग्राम3 का समर्थन करना होगा। 

ट्रैकर संसाधन आवश्यकताओं को कम करने के लिए, इस प्रोटोकॉल को डिज़ाइन किया गया है ताकि ट्रैकर को बाद में मान्यकरण के लिए क्लाइंट हैशों के लिए कनेक्शन IDs के मैपिंग को स्टोर करना आवश्यक न हो। 
यह संभव है क्योंकि घोषणा अनुरोध पैकेट पुनरावलोकनीय Datagram3 पैकेट है, जिससे यह प्रेषक का हैश समाहित करता है।

एक अनुशंसित कार्यान्वयन है:

- वर्तमान युग को इस प्रकार परिभाषित करें कि वर्तमान समय को कनेक्शन जीवनकाल के संकल्प के साथ विभाजित किया जाए, ``epoch = now / lifetime``।
- एक क्रिप्टोग्राफिक हैश फंक्शन ``H(secret, clienthash, epoch)`` को परिभाषित करें जो 8 बाइट का आउटपुट उत्पन्न करता है।
- सभी कनेक्शनों के लिए प्रयोग किए जाने वाले यादृच्छिक स्थिरांतर secret उत्पन्न करें।
- कनेक्ट प्रतिक्रियाओं के लिए, ``connection_id = H(secret, clienthash, epoch)`` उत्पन्न करें
- घोषणा अनुरोधों के लिए, epoch द्वारा मान्य कनेक्शन ID की मान्यता ``connection_id == H(secret, clienthash, epoch) || connection_id == H(secret, clienthash, epoch - 1)``

## माइग्रेशन

मौजूदा क्लाइंट्स UDP घोषणा URLs का समर्थन नहीं करते और इन्हें अनदेखा करते हैं।

मौजूदा ट्रैकर्स पुनरावलोकनीय या रॉ डेटाग्राम्स द्वारा प्राप्त किए जाने का समर्थन नहीं करते हैं, इन्हें हटा दिया जाता है।

यह प्रस्ताव पूरी तरह से वैकल्पिक है। न तो क्लाइंट्स और न ही ट्रैकर्स को कभी भी इसे कार्यान्वयन की आवश्यकता होती है। 

## रोलआउट

पहले कार्यान्वयन ZzzOT और i2psnark में अपेक्षित हैं। इनका उपयोग इस प्रस्ताव की परीक्षण और सत्यापन के लिए किया जाएगा।

अन्य कार्यान्वयन परीक्षण और सत्यापन पूरी होने के बाद वांछित रूप से अनुसरण करेंगे।

```
