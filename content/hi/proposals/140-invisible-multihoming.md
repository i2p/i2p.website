---
title: "अदृश्य मल्टीहोमिंग"
number: "140"
author: "str4d"
created: "2017-05-22"
lastupdated: "2017-07-04"
status: "खुला"
thread: "http://zzz.i2p/topics/2335"
---

## अवलोकन

यह प्रस्ताव एक प्रोटोकॉल के लिए डिज़ाइन की रूपरेखा प्रस्तुत करता है जो एक I2P क्लाइंट, सेवा या बाहरी बैलेंसर प्रक्रिया को एकल [Destination](http://localhost:63465/en/docs/specs/common-structures/#destination) होस्ट करने वाले कई राउटर को पारदर्शी रूप से प्रबंधित करने में सक्षम बनाता है।

वर्तमान में यह प्रस्ताव ठोस कार्यान्वयन निर्दिष्ट नहीं करता है। इसे [I2CP](/en/docs/specs/i2cp/) के एक विस्तार के रूप में या एक नए प्रोटोकॉल के रूप में कार्यान्वित किया जा सकता है।


## प्रेरणा

मल्टीहोमिंग वह स्थिति है जहां एक ही गंतव्य को होस्ट करने के लिए कई राउटर का उपयोग किया जाता है। I2P के साथ मल्टीहोम करने का वर्तमान तरीका यह है कि प्रत्येक राउटर पर स्वतंत्र रूप से एक ही गंतव्य चलाया जाता है; वह राउटर जिसका किसी विशेष समय पर क्लाइंट द्वारा उपयोग किया जाता है वह अंतिम होता है जो [LeaseSet](http://localhost:63465/en/docs/specs/common-structures/#leaseset) प्रकाशित करता है।

यह एक हैक है और संभवतः बड़े वेबसाइटों के पैमाने पर काम नहीं करेगा। मान लें कि हमारे पास प्रत्येक में 16 टनल वाले 100 मल्टीहोमिंग राउटर हैं। यह हर 10 मिनट में 1600 LeaseSet प्रकाशन होगा, या लगभग 3 प्रति सेकंड। बाढ़ के प्रवाहों को अभिभूत कर दिया जाएगा और थ्रॉटल चालू हो जाएंगे। और यह तो खोज ट्रैफ़िक का उल्लेख करने से पहले ही है।

[Proposal 123](/en/proposals/123-new-netdb-entries/) इस समस्या को एक मेटा-लीज़सेट के साथ हल करता है, जो गंतव्यों के 100 वास्तविक लीज़सेट हैशों को सूचीबद्ध करता है। एक खोज एक दो-चरणीय प्रक्रिया बन जाती है: पहले मेटा-लीज़सेट की खोज करना, और फिर नामित लीज़सेट्स में से एक को। यह खोज ट्रैफ़िक समस्या के लिए एक अच्छा समाधान है, लेकिन अपने आप में यह एक महत्वपूर्ण गोपनीयता रिसाव उत्पन्न करता है: इस बात का पता लगाना संभव है कि कौन से मल्टीहोमिंग राउटर ऑनलाइन हैं मेटा-लीज़सेट के प्रकाशन की निगरानी करके, क्योंकि प्रत्येक वास्तविक लीज़सेट का एकल राउटर से मेल होता है।

हमें एक I2P क्लाइंट या सेवा के लिए एकल गंतव्य को कई राउटर में फैलाने का तरीका चाहिए, इस तरह से कि गंतव्य के परिप्रेक्ष्य से यह एकल राउटर (लीज़सेट के परिप्रेक्ष्य से) का उपयोग करने में अप्रभेद्य हो।


## डिज़ाइन

### परिभाषाएं

    उपयोगकर्ता
        व्यक्ति या संगठन जो अपने गंतव्य (गंतव्यों) को मल्टीहोम करना चाहता है। बिना सामान्यता के नुकसान के लिए यहाँ एकल गंतव्य पर विचार किया गया है (WLOG)।

    क्लाइंट
        गंतव्य के पीछे चलने वाला अनुप्रयोग या सेवा। यह एक क्लाइंट-साइड, सर्वर-साइड, या सहकर्मी-से-सहकर्मी अनुप्रयोग हो सकता है; हम इसे उस अर्थ में क्लाइंट कहते हैं कि यह I2P राउटर से कनेक्ट होता है।

        क्लाइंट तीन भागों से बना है, जो सभी उसी प्रक्रिया में हो सकते हैं या कई-क्लाइंट सेटअप में प्रक्रियाओं या मशीनों में विभाजित हो सकते हैं:

        बैलेंसर
            क्लाइंट का वह हिस्सा जो सहकर्मी चयन और सुरंग निर्माण का प्रबंधन करता है। किसी भी समय एक ही बैलेंसर होता है, और यह सभी I2P राउटर्स के साथ संवाद करता है। प्रतिस्थापन बैलेंसर हो सकते हैं।

        फ्रंटेंड
            क्लाइंट का वह हिस्सा जो समानांतर में संचालित किया जा सकता है। प्रत्येक फ्रंटेंड एकल I2P राउटर के साथ संवाद करता है।

        बैकएंड
            क्लाइंट का वह हिस्सा जो सभी फ्रंटेंड्स के बीच साझा होता है। इसका किसी भी I2P राउटर के साथ प्रत्यक्ष कोई संपर्क नहीं होता।

    राउटर
        उपयोगकर्ता द्वारा चलाया जाने वाला एक I2P राउटर जो I2P नेटवर्क और उपयोगकर्ता के नेटवर्क के बीच की सीमा पर स्थित होता है (कॉर्पोरेट नेटवर्क में एक एज डिवाइस के समान)। यह एक बैलेंसर के आदेश के तहत सुरंगें बनाता है, और एक क्लाइंट या फ्रंटेंड के लिए पैकेट रूट करता है।

### उच्च-स्तरीय अवलोकन

कृपया निम्नलिखित वांछित विन्यास की कल्पना करें:

- एक गंतव्य के साथ एक क्लाइंट अनुप्रयोग।
- चार राउटर, प्रत्येक में तीन इनबाउंड सुरंगों का प्रबंधन।
- सभी बारह सुरंगों को एकल लीज़सेट में प्रकाशित किया जाना चाहिए।

सिंगल-क्लाइंट

```
                -{ [सुरंग 1]===\
                 |-{ [सुरंग 2]====[राउटर 1]-----
                 |-{ [सुरंग 3]===/               \
                 |                                 \
                 |-{ [सुरंग 4]===\                 \
  [गंतव्य]        |-{ [सुरंग 5]====[राउटर 2]-----   \
    \            |-{ [सुरंग 6]===/               \   \
     [लीज़सेट]---|                               [क्लाइंट]
                 |-{ [सुरंग 7]===\               /   /
                 |-{ [सुरंग 8]====[राउटर 3]-----   /
                 |-{ [सुरंग 9]===/                 /
                 |                                 /
                 |-{ [सुरंग 10]==\               /
                 |-{ [सुरंग 11]===[राउटर 4]-----
                  -{ [सुरंग 12]==/

मल्टी-क्लाइंट

```
                -{ [सुरंग 1]===\
                 |-{ [सुरंग 2]====[राउटर 1]---------[फ्रंटेंड 1]
                 |-{ [सुरंग 3]===/          \                    \
                 |                            \                    \
                 |-{ [सुरंग 4]===\            \                    \
  [गंतव्य]        |-{ [सुरंग 5]====[राउटर 2]---\-----[फ्रंटेंड 2]   \
    \            |-{ [सुरंग 6]===/          \   \                \   \
     [लीज़सेट]---|                         [बैलेंसर]            [बैकएंड]
                 |-{ [सुरंग 7]===\          /   /                /   /
                 |-{ [सुरंग 8]====[राउटर 3]---/-----[फ्रंटेंड 3]   /
                 |-{ [सुरंग 9]===/            /                    /
                 |                            /                    /
                 |-{ [सुरंग 10]==\          /                    /
                 |-{ [सुरंग 11]===[राउटर 4]---------[फ्रंटेंड 4]
                  -{ [सुरंग 12]==/

### आम क्लाइंट प्रक्रिया
- एक गंतव्य को लोड या उत्पन्न करें।

- गंतव्य से जुड़े प्रत्येक राउटर के साथ एक सत्र खोलें।

- आवधिक रूप से (लगभग हर दस मिनट में, लेकिन टनल लाइवनेस के आधार पर अधिक या कम):

  - प्रत्येक राउटर से फास्ट टियर प्राप्त करें।

  - प्रत्येक राउटर के लिए सुरंगों को बनाने के लिए सहकर्मियों के सबसेट का उपयोग करें।

    - डिफ़ॉल्ट रूप से, किसी विशेष राउटर के लिए सुरंगें उस राउटर के फास्ट टियर से सहकर्मियों का उपयोग करेंगी, लेकिन यह प्रोटोकॉल द्वारा लागू नहीं किया गया है।

  - सभी सक्रिय राउटर्स से सक्रिय इनबाउंड सुरंगों के सेट को इकट्ठा करें, और एक लीज़सेट बनाएं।

  - लीज़सेट को एक या अधिक राउटर्स के माध्यम से प्रकाशित करें।

### I2CP के लिए अंतर
इस विन्यास को बनाने और प्रबंधित करने के लिए, क्लाइंट को [I2CP](/en/docs/specs/i2cp/) द्वारा वर्तमान में प्रदान की गई तुलना में निम्नलिखित नई कार्यक्षमता की आवश्यकता है:

- सुरंग बनाने के लिए एक राउटर को बताएं, उनके लिए लीज़सेट बनाए बिना।
- इनबाउंड पूल में वर्तमान सुरंगों की सूची प्राप्त करें।

इसके अलावा, निम्नलिखित कार्यक्षमता क्लाइंट को इस बात में महत्वपूर्ण लचीलेपन सक्षम करेगी कि वह अपनी सुरंगों का प्रबंधन कैसे करता है:

- एक राउटर के फास्ट टियर की सामग्री प्राप्त करें।
- एक दिए गए सहकर्मियों की सूची का उपयोग करके एक इनबाउंड या आउटबाउंड सुरंग का निर्माण करने के लिए एक राउटर को बताएं।

### प्रोटोकॉल रूपरेखा

```
         क्लाइंट                           राउटर

                    --------------------->  सत्र बनाएं
   सत्र स्थिति  <---------------------
                    --------------------->  फास्ट टियर प्राप्त करें
        सहकर्मी सूची  <---------------------
                    --------------------->  सुरंग बनाएं
    सुरंग स्थिति  <---------------------
                    --------------------->  सुरंग पूल प्राप्त करें
      सुरंग सूची  <---------------------
                    --------------------->  लीज़सेट प्रकाशित करें
                    --------------------->  पैकेट भेजें
      भेजें स्थिति  <---------------------
  पैकेट प्राप्त हुआ  <---------------------

### संदेश
    सत्र बनाएं
        दिए गए गंतव्य के लिए एक सत्र बनाएं।

    सत्र स्थिति
        इस बात की पुष्टि कि सत्र स्थापित हो गया है, और क्लाइंट अब सुरंगें शुरू कर सकता है।

    फास्ट टियर प्राप्त करें
        सहकर्मियों की एक सूची का अनुरोध करें, जिनके माध्यम से राउटर वर्तमान में सुरंग बनाने पर विचार करेगा।

    सहकर्मी सूची
        राउटर के ज्ञात सहकर्मियों की एक सूची।

    सुरंग बनाएं
        राउटर को निर्दिष्ट सहकर्मियों के माध्यम से एक नई सुरंग बनाने का अनुरोध करें।

    सुरंग स्थिति
        एक विशेष सुरंग निर्माण का परिणाम, एक बार यह उपलब्ध हो जाने के बाद।

    सुरंग पूल प्राप्त करें
        गंतव्य के इनबाउंड या आउटबाउंड पूल में वर्तमान सुरंगों की एक सूची का अनुरोध करें।

    सुरंग सूची
        अनुरोधित पूल के लिए सुरंगों की एक सूची।

    लीज़सेट प्रकाशित करें
        राउटर को अनुरोध करें कि वह गंतव्य के लिए आउटबाउंड सुरंगों में से एक के माध्यम से प्रदत्त लीज़सेट को प्रकाशित करता है। कोई उत्तर स्थिति जरूरी नहीं है; राउटर को तब तक पुन: प्रयास करनी चाहिए जब तक कि वह संतुष्ट न हो जाए कि लीज़सेट प्रकाशित हो गया है।

    पैकेट भेजें
        क्लाइंट से एक आउटगोइंग पैकेट। वैकल्पिक रूप से एक आउटबाउंड सुरंग निर्दिष्ट करता है जिसके माध्यम से पैकेट भेजा जाना चाहिए (शायद?)।

    भेजें स्थिति
        क्लाइंट को सूचित करता है कि एक पैकेट भेजने की सफलता या असफलता।

    पैकेट प्राप्त हुआ
        क्लाइंट के लिए एक इनकमिंग पैकेट। वैकल्पिक रूप से एक इनबाउंड सुरंग निर्दिष्ट करता है जिसके माध्यम से पैकेट प्राप्त किया गया था (?)


## सुरक्षा प्रभाव

राउटर्स के दृष्टिकोण से, यह डिज़ाइन कार्यात्मक रूप से यथास्थिति के बराबर है। राउटर अभी भी सभी सुरंगों का निर्माण करता है, अपनी सहकर्मी प्रोफाइल बनाए रखता है, और राउटर और क्लाइंट संचालन के बीच अलगाव को लागू करता है। डिफ़ॉल्ट विन्यास में यह पूरी तरह से समान है, क्योंकि उस राउटर के लिए सुरंगें अभी भी उसके अपने फास्ट टियर से बनाई गई हैं।

नेटडीबी के दृष्टिकोण से, इस प्रोटोकॉल द्वारा बनाए गए एकल लीज़सेट यथास्थिति के समान है, क्योंकि यह पहले से मौजूद कार्यक्षमता का लाभ उठाता है। हालांकि, 16 लीज़ के करीब के बड़े लीज़सेट के लिए, यह संभव है कि एक पर्यवेक्षक यह निर्धारित कर सके कि लीज़सेट मल्टीहोम किया जा रहा है:

- फास्ट टियर का वर्तमान अधिकतम आकार 75 सहकर्मी है। इनबाउंड गेटवे (IBGW, लीज़ में प्रकाशित नोड) को टियर के एक अंश से चुना जाता है (सुरंग पूल प्रति-हैश यादृच्छिक रूप से विभाजित, संख्या नहीं):

      1 हॉप
          पूरा फास्ट टियर

      2 हॉप्स
          फास्ट टियर का आधा
          (मध्य 2014 तक का डिफ़ॉल्ट)

      3+ हॉप्स
          फास्ट टियर का एक चौथाई
          (3 वर्तमान डिफ़ॉल्ट है)

  इसका मतलब है कि औसतन IBGWs एक सेट के 20-30 सहकर्मी से होंगे।

- एकल-होमड सेटअप में, पूरा 16-सुरंग लीज़सेट एक सेट से यादृच्छिक रूप से चुने गए 16 IBGWs 20 सहकर्मियों तक हो सकता है।

- डिफ़ॉल्ट विन्यास का उपयोग करते हुए 4-राउटर मल्टीहोमड सेटअप में, एक पूर्ण 16-सुरंग लीज़सेट 80 सहकर्मी के सेट से यादृच्छिक रूप से चुने गए 16 IBGWs हो सकते हैं, हालांकि राउटर के बीच शायद आम सहकर्मी होते हैं।

इसलिए डिफ़ॉल्ट विन्यास के साथ, सांख्यिकीय विश्लेषण के माध्यम से यह पता लगाना संभव हो सकता है कि लीज़सेट इस प्रोटोकॉल द्वारा उत्पन्न किया जा रहा है। यह आंकने योग्य भी हो सकता है कि कितने राउटर हैं, हालांकि फास्ट टियर पर उथल-पुथल के प्रभाव से इस विश्लेषण की प्रभावशीलता कम हो सकती है।

जबकि क्लाइंट के पास चुने गए सहकर्मियों पर पूर्ण नियंत्रण है, इस जानकारी के रिसाव को कम या समाप्त किया जा सकता है या IBGWs को सहकर्मियों के एक कम सेट से चुनकर।


## संगतता

इस डिज़ाइन को नेटवर्क के साथ पूरी तरह से पिछे संगत हैं, क्योंकि इसमें [लीज़सेट](http://localhost:63465/en/docs/specs/common-structures/#leaseset) प्रारूप के कोई बदलाव नहीं शामिल हैं। सभी राउटर को नए प्रोटोकॉल के बारे में पता होना आवश्यक होगा, लेकिन यह कोई चिंता का विषय नहीं है क्योंकि वे सभी एक ही इकाई द्वारा नियंत्रित किए जाएंगे।


## प्रदर्शन और मापनीयता नोट्स

[लीज़](http://localhost:63465/en/docs/specs/common-structures/#lease) प्रति लीज़सेट की 16 की उपरी सीमा इस प्रस्ताव द्वारा अपरिवर्तित है। उन गंतव्यों के लिए जिनके लिए इससे अधिक सुरंगों की आवश्यकता होती है, नेटवर्क संशोधनों के दो संभावित उपाय हैं:

- लीज़सेट्स के आकार की ऊपरी सीमा बढ़ाएँ। इसे लागू करने के लिए यह सबसे आसान होगा (हालांकि इसे व्यापक रूप से उपयोग किए जाने से पहले व्यापक नेटवर्क समर्थन की आवश्यकता होगी), लेकिन इससे बड़े पैकेट आकारों के कारण धीमी खोजों का परिणाम हो सकता है। अधिकतम संचालित लीज़सेट आकार अंतर्निहित ट्रांसपोर्ट्स के एमटीयू द्वारा परिभाषित किया जाता है, और इसलिए लगभग 16kB होता है।

- टियर किए गए लीज़सेट के लिए [प्रोप123](/en/proposals/123-new-netdb-entries/) को लागू करें। इस प्रस्ताव के संयोजन में, उप-लीजसेट्स के लिए गंतव्यों को कई राउटर्स में फैलाया जा सकता है, मुळ रूप से एक क्लियरनेट सेवा के लिए एकाधिक आईपी पतों की तरह कार्य कर सकते हैं।


## आभार

उस चर्चा के लिए psi को धन्यवाद जिसने इस प्रस्ताव को जन्म दिया।
