---
title: "I2P 开发者会议 - 2021年6月1日"
date: 2021-06-01
author: "i2p"
description: "I2P 2021年6月1日开发会议记录。"
categories: ["meeting"]
---

## 快速回顾

<p class="attendees-inline"><strong>出席：</strong> eyedeekay, zzz, zlatinb, psi</p>

## 会议记录

<div class="irc-log"> (04:01:11 PM) eyedeekay: 大家好，欢迎参加6月1日（周二）的社区会议 (04:01:25 PM) eyedeekay: 1) 嗨 (04:01:25 PM) eyedeekay: 2) 记录在案的300次社区会议 (04:01:25 PM) eyedeekay: 3) 0.9.51 (04:01:25 PM) eyedeekay: 4) go-i2p (04:01:25 PM) eyedeekay: 5) 可复现构建状态 (04:01:25 PM) eyedeekay: 6) 更新通道报告 / Mac 安装包报告 (04:01:25 PM) eyedeekay: 7) 下一个发行版编号，4月6日会议延期事项 (04:01:25 PM) eyedeekay: 8) 0.9.50 状态 / 剩余发行事项 (04:01:42 PM) eyedeekay: 1) 嗨 (04:01:50 PM) eyedeekay: 大家好 (04:02:08 PM) zzz: 嗨 (04:02:10 PM) zlatinb: 嗨 (04:02:31 PM) eyedeekay: 嗨 zzz，嗨 zlatinb。 (04:02:31 PM) eyedeekay: 今天还有其他人一起吗？ (04:03:00 PM) eyedeekay: 好的 2) 记录在案的300次社区会议 (04:03:45 PM) eyedeekay: 恭喜大家，我们网站上记录的第一次会议是在19年前，快20年了，而现在我们已经召开了第300次会议 (04:04:18 PM) eyedeekay: 感谢过去以及现在的所有 I2P 贡献者 (04:04:54 PM) zzz: 是的 (04:05:16 PM) zzz: 那时候的任何 eepsite 现在还有能用的吗 (04:05:44 PM) zzz: 而且当时的一些 bug 现在还在被发现和修复！我今天修了一个 2004 年的 bug (04:06:58 PM) eyedeekay: 我之前在 #ls2 里看到了，特别感谢 zzz，他作为这个项目的中坚与灵魂，比我们大多数人参与的时间都要长 :) (04:07:20 PM) zzz: 一个人做不到，从来都做不到 (04:08:11 PM) zzz: 不过缅怀就到此为止了，继续干活吧 (04:08:24 PM) eyedeekay: 再次向大家表示感谢和祝贺，继续到 3) 0.9.51 (04:09:34 PM) eyedeekay: 这个版本我们已经推进了大约2周，我这边正在为默认站点开发 X-I2P-Location 功能，并在考虑如何把浏览器配置文件与主安装器集成 (04:09:59 PM) eyedeekay: 其他人在这个版本目前都在做什么？ (04:10:41 PM) zzz: 我想提醒大家把下个版本的计划更新到网站的路线图上。现在那里内容不多 (04:11:05 PM) eyedeekay: 收到，感谢提醒，我会在今晚会后更新我的部分 (04:11:27 PM) zlatinb: 除非我们决定另行拆分工作，否则我会开始做 Mac 安装包更新器的 Mac 端特定部分。我也乐意做 i2p.i2p 端的工作，细节在第 6) 点再讨论 (04:11:32 PM) zzz: #ls2 团队在继续推进提案 157（新的 tunnel 构建消息），进度比计划慢。目前不清楚能有多少内容进入下个版本 (04:12:09 PM) zzz: 该提案仍未完成，在那之前我们无法完成代码 (04:12:42 PM) zzz: SSU2 仍未开工。我们原本希望今年完成……现在看来可能性不大。我们需要更多的帮手 (04:12:56 PM) zzz: EOT (04:14:15 PM) eyedeekay: 谢谢 zzz、zlatinb。随着理解的加深，我会尽力多做贡献。说到这，4) go-i2p (04:15:41 PM) eyedeekay: 我在 gitlab 的 proposal 分支里写了一个关于 go-i2p 的初步提案。 (04:15:41 PM) eyedeekay: 除此之外，我几乎完成了把旧发行版中的通用结构从字节切片表示迁移到对象（structs）表示的工作，并重写了测试以适应这一变更 (04:16:07 PM) eyedeekay: 这意味着我已经从只是在更新现有代码转变为开始编写新代码了，这挺让人兴奋 (04:16:29 PM) eyedeekay: 还没有实现传输层，但那将是路线图上的下一项 (04:16:35 PM) eyedeekay: EOT (04:16:41 PM) zzz: 你现在还在单独的分支上吗？如果是，为什么还没有合并回去？ (04:17:39 PM) eyedeekay: 我还有大约 4 个测试要完成，之后就会合并 (04:18:30 PM) eyedeekay: 一旦所有现有测试再次通过，或者我能确定它们已经冗余，我就会合并回去 (04:18:34 PM) zzz: 好。那 full-go 与围绕 i2pd 的 go 封装各进行到哪了？如果后者确实像 orignal 说的只要 2 小时工作，是不是应该作为下一步？ (04:18:55 PM) zzz: 作为一个概念验证（PoC）、或者 MVP，或者用来评估 go 项目的需求 (04:19:22 PM) zzz: 这样之后可以通过同一套 API 把它替换为 go router (04:20:53 PM) eyedeekay: 我已经开动了，不过在搞清楚如何为 api.h 创建 C 封装时遇到一些问题，可能只是因为这个流程对我来说还很新 (04:22:34 PM) zzz: 好。我还是不明白 i2pd 封装到底是 a) 一个待评估的备选；b) 明确要先做，但我们两个都做；c) 低优先级/待定 (04:22:53 PM) zzz: 或者 d) 我们已经否决了它 (04:24:04 PM) eyedeekay: 在我看来应该是 b)，因为我需要学习如何为 C++ 代码编写 C 封装，而且能够把 i2pd 轻松嵌入任何 SWIG 支持的东西里，这种能力总体上会非常有用 (04:25:18 PM) zzz: 好，这个有一个预估日期吗？ (04:27:52 PM) eyedeekay: Orignal 说得对，对已经会做的人来说就是 2 小时的工作。难估的是我需要读多久示例才能知道自己在做什么。15 号应该比较稳妥。 (04:28:14 PM) zzz: thanks, EOT (04:28:40 PM) eyedeekay: 好的，我这边也就这些 (04:28:41 PM) eyedeekay: 5) 可复现构建状态 (04:28:57 PM) eyedeekay: zlatinb 这个交给你 (04:29:21 PM) zlatinb: 所以，在英文区域设置和 JDK 11 下，Mac 和 Linux 上有个可以复现的构建，基本能跑 (04:29:44 PM) zlatinb: 我知道如何让它适配所有 Locale，并且也能在 Windows 上构建，需要做一些小调整 (04:30:31 PM) zlatinb: 尽管它还是 PoC 状态，我认为我们应该有一个网页给出说明，方便有兴趣的人尝试 (04:31:04 PM) zlatinb: 因为它使用 gradle 构建系统，不会增加发行负担，而且我乐意负责 (04:31:35 PM) zlatinb: 大致就这些 (04:31:38 PM) zzz: 我已经在论坛上说过了，但我觉得这点很重要。我们已经有 Debian/Ubuntu 的可复现构建了。这个是针对 gradle 的，而 gradle 构建当前不是受支持的发行产物 (04:32:13 PM) zzz: 我对它的价值存疑，也怀疑在缺少 Debian 那套可复现构建基础设施的情况下我们是否有能力支持它 (04:33:05 PM) zzz: 此外，宣布 'i2p is now reproducible' 是具有误导性的/不正确的。我们需要非常明确地说明它究竟是什么 (04:35:01 PM) zzz: 我认为我们的测试还不足以宣称可复现性，而且我们本来也没有发布工具的版本信息。 (04:35:34 PM) zzz: eot (04:37:23 PM) zlatinb: 唯一重要的工具是 JDK，而且我们声明的是 11。我非常怀疑我们的 Debian/Ubuntu 构建是否真正可复现，也怀疑是否有人能自行复现 .deb 包。仅仅因为它通过了 build bot 并不代表它是可复现的，不过这是另一个话题。 (04:37:55 PM) zlatinb: 即便是一个不完整、但“努力朝向”可复现性的 PoC（不管我们怎么表述），对某一类用户仍然是有价值的。 (04:38:38 PM) zlatinb: 即使什么都不算，至少说明我们意识到有这方面的需求，并且正在努力（尽管优先级不高）来满足这种需求 (04:38:43 PM) zzz: build bot 里面有很多测试，比我们现在测的多，包括变更用户名、PWD、locale、时间、时区 (04:39:02 PM) psi: debian 难道没有一堆钩子和垫片来规范化时间戳和目录吗？ (04:39:08 PM) zlatinb: 但它显然没有更改检出代码的时间戳，否则会立刻出问题 (04:39:14 PM) psi: （为了确定性构建，另外大家好） (04:39:25 PM) zzz: 也许有 'demand'，但尚不清楚是否足以支撑这方面的投入 (04:40:01 PM) zzz: 是的 psi，那就是我们在可复现的 debian 构建中所依赖的构建基础设施 (04:40:08 PM) eyedeekay: 我可以确认我和 zlatinb 并没有对齐各自使用的工具，除了确认我们用的是同一个 JDK，我们肯定没有比对各个库的版本 (04:40:21 PM) zlatinb: 工作在我这边，正如我所说我愿意负责，而且大部分工作已经完成 (04:40:31 PM) zzz: 我们现在的答案是：'用 debian' (04:40:53 PM) zlatinb: 不，答案是 "使用 debian 的工具链和构建环境来构建你的 .deb" (04:41:09 PM) zzz: 我不认为你们的测试足够充分，无法宣称‘基本完成’ (04:41:55 PM) zlatinb: 目前没有已知问题，未知的问题会随着越来越多人使用而暴露出来 (04:42:00 PM) zzz: 而且我不相信我们需要仅为了那些要求非 debian 可复现性的人而增加另一个发行产品 (04:43:06 PM) zzz: 我认为我们不应该依赖用户来发现可复现性问题。我们需要某种测试框架或 build bot，在上述以及其他各种组合条件下进行验证 (04:43:13 PM) zlatinb: 它不需要是发布级别的产品，我一直在说这是一项进行中的工作，并且在可预见的未来都会如此 (04:44:00 PM) psi: 目的是做成面向终端用户的成品包，还是为了安抚“知识分子”呢？ (04:44:01 PM) zzz: 如果是那样的话，没有异议 (04:44:30 PM) zlatinb: 明显是为了安抚那些“知识分子”，100% (04:45:22 PM) psi: 懂了，只是来跟进一下进度 (04:46:15 PM) zlatinb: 让用户帮忙发现可复现性问题有什么不可以？ (04:47:14 PM) zzz: 1）因为大多数用户其实不会去尝试复现；但 2）如果它不是官方的发布级产品，那就算了 (04:47:34 PM) eyedeekay: 那我们继续到 6) 更新通道报告 / Mac 安装包报告 (04:48:14 PM) eyedeekay: 除非 5) 还有需要继续讨论的？ (04:48:37 PM) zzz: 我这边 5) 说完了 (04:48:51 PM) eyedeekay: 好的，那 6 (04:49:24 PM) eyedeekay: zlatinb 这个话题也交给你 (04:50:20 PM) zlatinb: 自上次会议以来，关于 Mac 安装包这块没太多可汇报的；我自己在内部试用了一段时间 (04:51:15 PM) zlatinb: 我这个月大概会有时间正式研究更新通道。至少会做 mac-jpackage 仓库里的那部分 (04:51:30 PM) zlatinb: 还可以看看 i2p.i2p 需要做的改动，除非有人想先试一把？ (04:51:33 PM) zlatinb: eot (04:52:07 PM) zzz: 我可以做另一侧，这周我们对齐一下 (04:52:30 PM) zlatinb: 好，听起来不错 (04:52:52 PM) zlatinb: 关于 6) 我这边就这些 (04:52:56 PM) zzz: 我认为有几个选项我们已经讨论过但还没完全定下来，不过不难 (04:52:57 PM) zzz: eot (04:53:08 PM) eyedeekay: 7) 下一个发行版编号，4月6日会议延期事项 (04:53:57 PM) eyedeekay: 1.0.0？9.51.0？帖里有好几个选项 (04:54:26 PM) zzz: 是的。两个月前我提出了 0.9.50 与 1.0.0 的选择 (04:54:44 PM) zzz: 从那以后，我注意到 bitcoin core 从 0.22 跳到了 23.0 (04:54:54 PM) zzz: 如果数字只是数字，那它可以是任何东西 (04:55:18 PM) zzz: 0.9.51、1.0.0、2.0、9.51、10.0。随我们选择 (04:55:54 PM) zzz: 如果“1.0.0”会带来过多焦虑或隐含着完美的承诺，我们可以直接跳过去来回避它 (04:56:15 PM) zzz: 或者我们可以一直用 0.9.x，或者直到某个尚未达成共识的特定目标。 (04:56:18 PM) zzz: EOT。有什么想法？ (04:56:55 PM) eyedeekay: 我认为数字就是数字，只要在标准工具排序时我们选的数字能够排在更前面。基于这个考虑，9.51 还挺有吸引力的。 (04:57:52 PM) zlatinb: 如果我们有安装器的路线图，我会把 1.0.0 定在那些完成之后，但我们没有这样的路线图，所以我宁愿完全回避 1.0.0。除此之外，0.9.51 或 9.51 对我来说都一样。 (04:58:27 PM) zzz: 今天也不一定要达成共识，在下个版本前我们还有两次会议 (04:59:04 PM) zzz: 我们也可以做个 reddit 投票，尽管那可能适得其反 (05:01:40 PM) zzz: 我们下个月再讨论吧 eyedeekay  (05:01:41 PM) zzz: eot (05:02:15 PM) eyedeekay: 我同意 zlatinb 的看法，如果我们要把“1.0.0”作为 PR 来吸引新用户，改进安装器可能会让这种尝试更成功。如果我们想保留在那之后发布 1.0.0 的机会，那我们现在就需要做 0.9.51，eot (05:02:28 PM) eyedeekay: 8) 0.9.50 状态 / 剩余发行事项 (05:03:16 PM) eyedeekay: 这项是 zzz 加的，不过其中至少有两件我应该说明一下，GPlay 和 F-Droid (05:04:27 PM) eyedeekay: 这次发布时 GPlay 有点混乱，我必须把我们迁移到 Android app bundle，这需要我生成一个密钥并上传给 Google，以便他们确认是我在上传应用 (05:05:16 PM) eyedeekay: 第一次我没有完成这个流程，不得不联系 Google 支持，这导致 Android 版本的发布延迟 (05:05:47 PM) eyedeekay: 由于与发布流程相关的原因，这也推迟了 F-Droid 的构建。 (05:06:33 PM) eyedeekay: 从现在起，F-Droid 将提供 apk，而 Google Play 将提供 .aab，二者的发布流程互不依赖。EOT。 (05:06:46 PM) eyedeekay: zzz 还有要补充的吗？ (05:07:20 PM) zzz: debian 是个大问题。有人联系过 mhatta 吗？他完全错过了 .49，现在我们在等 50 (05:09:01 PM) eyedeekay: 很遗憾有一阵子没联系了，我可以再去问问 (05:09:08 PM) zzz: 就网络状态而言，大约 35-45% 的网络已更新，约 25% 完成了重新换钥，过程很顺利，没有大的抱怨 (05:09:08 PM) zzz: 请把这一项保留到下个月的议程里，因为我们还没完成 (05:09:08 PM) zzz: eot (05:09:34 PM) eyedeekay: 好的，会的 (05:09:47 PM) eyedeekay: 关于 8) 还有别的吗？ (05:10:00 PM) eyedeekay: 或者总体上？超时 1 分钟 (05:11:26 PM) eyedeekay: 那就这样吧，感谢各位参加，下一次会议将在 7 月 6 日举行 </div>
