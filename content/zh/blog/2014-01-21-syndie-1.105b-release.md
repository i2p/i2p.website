---
title: "Syndie 1.105b 发布"
date: 2014-01-21
author: "zzz"
description: "更新至 HSQLDB 2.3.1"
categories: ["release"]
---

这是自 2013 年 2 月以来的第一个稳定版本。它与 1.104b-7-rc 基本相同，只进行了部分翻译更新。

所有二进制文件和源代码包可在 [syndie.de](https://syndie.de/download) 和 [syndie.i2p](http://www.syndie.i2p/downloads/) 获取。插件可在 [plugins.i2p](http://plugins.i2p/plugins/syndie/) 和 [stats.i2p](http://stats.i2p/i2p/plugins/) 获取。

对于从 1.103b 升级的用户，由于采用了新版 HSQLDB，您会发现 syndie 的启动和关闭快得多。

如果您有一个大型数据库或希望保留的身份，建议在开始之前备份整个 ~/.syndie 目录。升级过程会自动创建自己的备份，不过如果升级失败，您可能会觉得使用您自己的备份更方便。

由于旧版 HSQLDB 的缺陷导致数据库损坏，部分用户从 1.103b 升级时可能会失败。很遗憾，我们不知道如何修复这个问题。你的选择是使用全新的数据库从头开始，或者永远停留在 1.103b。对此深感抱歉。

一如既往，我们建议您更新到此版本。维护安全并帮助网络的最佳方式是运行最新版本。

## 发布详情

### Bug Fixes

- Fix NPE in SyndieTreeListener
- Fix, or maybe just move, NPE in addURI/getURI

### 缺陷修复

- Don't open message view tab for unreadable messages or stub messages
- Don't fail on duplicate cancel requests
- Fix BrowseForumTab text on forum with blank name
- For consistency, always put cancel button to the left of OK/Save
- Move message date to date column in syndicator tab
- Better formatting of file sizes in Syndicator tab
- Clean up internal error popup
- Catch dispose errors when changing translation or theme
- Add menu item to delete PBE messages and forums
- Add keyboard shortcuts in message view tab
- Fix dup archive in Syndicator Tab after rename
- Don't display PBE messages after deletion
- Update to SWT 3.8.2 20130131

### GUI 改进与修复

- Improve import failure propagation and display
- More cleanup of Importer and enhanced ImportResults by passing missing key and PBE indications in result code
- Simplification of SyncArchive.IncomingAction using Results
- Handle and display "stub" cancel messages correctly
- Early check for banned target in ImportPost
- Reduce default pull policy to 14 days
- Only pull indexes needed for pulled messages
- Fetch messages newest-first

### 订阅

- Update to DB version 25
- Add LOBs for attachments and pages
- Increase length limits on cancelledURI, headerValue, and others
- Implement offline database backup
- Backup database before upgrading to hsqldb 2.x
- Add code to migrate large things to LOBs
- Enable migration of large attachments and pages to LOBs
- Implement retrieval of pages and attachments from LOBs
- Implement getAttachmentAsStream for real (unused yet)
- Implement storage to LOBs in ImportPost
- Sleep a while before shutdown compact
- Shutdown compact immediately after upgrade, then reconnect, as recommended by hsqldb
- Use attachment size from messageAttachment table, not actual size from messageAttachmentData table

### 数据库

- Use DataHelper.loadProps() to deserialize properties UTF-8-safely
- Add script for the hsqldb database manager tool
- More code refactoring
- New translations: Polish, Portuguese, Romanian
- Translation updates
