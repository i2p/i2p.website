---
title: "I2P 开发者会议 - 2023年2月7日"
date: 2023-02-07
author: "i2p"
description: "2023年2月7日的 I2P 开发会议记录。"
categories: ["meeting"]
---

## 快速回顾

<p class="attendees-inline"><strong>出席：</strong> eyedeekay, zzz, not_bob, echelonMAC, obscuratus</p>

## 会议记录

<div class="irc-log"> (08:01:07 PM) eyedeekay: 大家好，抱歉我来晚了，开会前刚刚掉线了 (08:01:59 PM) eyedeekay: 1. 嗨  (08:01:59 PM) eyedeekay: 2. 2.1.0 进度报告 (08:01:59 PM) eyedeekay: 3. 2.2.0 开发状态  (08:01:59 PM) eyedeekay: 4. 拥塞节流  (08:01:59 PM) eyedeekay: 5. 假设的流量管理（大量 Tor 用户涌入） (08:01:59 PM) eyedeekay: 6. 给译者的贴纸 (08:01:59 PM) eyedeekay: zzz，你想把关于 DOS（拒绝服务）的报告放在哪？2 还是单独一个主题？ (08:02:45 PM) zzz: 我们把它叫 3b) (08:02:46 PM) zzz: 或 2b) (08:02:59 PM) eyedeekay: 那就 2b 好了 (08:03:00 PM) zzz: 你决定 (08:03:53 PM) eyedeekay: 1. 嗨，今天除了我和 zzz，还有谁在？ (08:03:58 PM) zzz: 嗨 (08:04:09 PM) not_bob: 到 (08:04:18 PM) echelonMAC: 在 (08:04:18 PM) obscuratus: 嗨 (08:04:29 PM) eyedeekay: 出席人数不错，谢谢大家 (08:04:30 PM) echelonMAC: 在替换系统上。 (08:05:06 PM) eyedeekay: 2. 2.1.0 进度报告 (08:05:15 PM) zzz: irc 比平时更卡，请大家回复时多给点时间 (08:05:38 PM) eyedeekay: 谢谢 zzz，我会注意的 (08:09:02 PM) eyedeekay: 从哪说起呢……我最近主要关注 Android UX（用户体验）问题，尤其是修正我在应用初始化时做错的一些事 (08:09:04 PM) eyedeekay: 为此 Android 会发一个小版本 (08:10:00 PM) eyedeekay: 我想大家现在都在关心的一个主题是网络正在遭受攻击，这也把大家的注意力都转移过去了 (08:10:05 PM) eyedeekay: 这就是主题 2b (08:10:59 PM) eyedeekay: 糟了我把主题搞混了，刚才那段当我没说，应该放到 3。抱歉，这周太忙，事情太多 (08:12:03 PM) eyedeekay: zzz 能帮我讲 2 吗？我觉得我不太适合把正在发生的一切都讲清楚 (08:12:28 PM) zzz: 好的 (08:12:29 PM) zzz: 但在开始之前 (08:12:56 PM) zzz: 你和 echelonMAC 有 2.1.0 Mac easy-install bundle（简易安装包）的进度报告吗？ (08:13:17 PM) eyedeekay: 哦对，这个我可以说 (08:14:38 PM) eyedeekay: 我们一直在收敛问题，目前我和 echelonMAC 各自有不同的假设在推进 (08:14:38 PM) eyedeekay: 我的假设是，这一切源于针对 Java 14 中一个 bug 的一个已经过时的权宜之计 (08:15:08 PM) eyedeekay: 本来 jpackage 应该会对打包进 disk image(dmg)（磁盘镜像）的 dylib 文件做签名，但实际上却没有签上 (08:15:33 PM) echelonMAC: 简而言之：eyedeekaym 重新做了签名脚本，我能构建并签名，但对 Apple 来说仍然是错误的签名 (08:15:55 PM) eyedeekay: zab 之前的变通做法是先创建 .app 目录并签里面的内容，然后只在最后打包这一步用 jpackage (08:16:35 PM) eyedeekay: 所以当我们升级 Java 后，就开始把所有东西签两遍，而其实已经不需要手动做那一步签名了 (08:16:47 PM) eyedeekay: 如果我说错请纠正，echelonMAC，你觉得自己用的是不对的密钥类型？ (08:17:10 PM) echelonMAC: 也许是，也许不是，还不确定 (08:17:18 PM) echelonMAC: 至少日志显示了这个错误 (08:17:53 PM) zzz: 我的提问更高层一些，ETA（预计时间）是什么？2.1.0 还是目标吗，还是已经放弃，指望 2.2.0，还是怎样？ (08:18:15 PM) echelonMAC: 2.1.0 仍然是目标，但目前没有 ETA（预计时间） (08:18:39 PM) echelonMAC: 我几乎能即时构建，但暂时没时间深入排查…… (08:18:48 PM) eyedeekay: 只要确定能通过 notarization（苹果公证），我还是想尽快发布 2.1.0。在我看来，一旦能通过一次，之后就能可预期地通过 (08:18:59 PM) zzz: eyedeekay 在他的博客文章里或多或少把 2.2.0 定在四月初了，echelonMAC 你不认可那个 ETA（预计时间）吗？ (08:19:49 PM) echelonMAC: 我完全无能为力，无法给出 ETA（预计时间），因为我还没有完全理解签名和构建 (08:20:12 PM) echelonMAC: 基本上我就是盲目照着脚本走，如果 idk 能把签名问题修好，notarization（公证）就是 5 分钟的事。 (08:20:24 PM) echelonMAC: 前提是签名要能按 appple 预期工作 (08:20:26 PM) zzz: 那我建议把博客文章改一改，eyedeekay，别承诺我们做不到的事 (08:20:33 PM) eyedeekay: 会的 (08:21:19 PM) zzz: 好的谢谢。你准备好听我说 2) 的部分了吗？ (08:21:41 PM) eyedeekay: 好的，麻烦你 (08:21:48 PM) zzz: 太好了 (08:22:00 PM) zzz: 上次会议是在发布后一周，现在已经过去 4 周了 (08:22:15 PM) zzz: 我原本希望 expl. build 成功率能稳步上升 (08:22:35 PM) zzz: 从 20% 出头涨到 30% 出头，然后“弹”出拥塞，回到 40% 出头 (08:22:45 PM) zzz: 结果只实现了第一部分 (08:25:20 PM) zzz: 然后我们在 20% 出头和 30% 出头之间来回摆动 (08:26:56 PM) zzz: 所以我们有一些假设，见 2b) (08:26:56 PM) zzz: 但除此之外，我对 2.1.0 的表现还是满意的 (08:26:56 PM) zzz: bug 报告不算多 (08:26:56 PM) zzz: 我会在 2b) 和 3) 概述我们在修的东西 (08:26:56 PM) zzz: 大约 50% 的网络已经升级到 2.1.0 或相应的 i2pd 版本 (08:26:56 PM) zzz: 还没更新的请尽快更新 (08:26:56 PM) zzz: 我在 2a) 要说的就这些，开始 2b) 之前我暂停一分钟，欢迎提问/评论 (08:28:33 PM) zzz: 好，2b) 当前网络状况 (08:28:33 PM) zzz: 周末开始了一次明确的攻击 (08:28:33 PM) zzz: 出现了很多 floodfill routers (08:28:33 PM) zzz: 大体上，整个网络以及 java routers 都还能应对 (08:28:33 PM) zzz: 我确实收到一份报告，说有 routers 因 OOM（out of memory，内存耗尽）而崩溃 (08:28:54 PM) zzz: 据我了解，i2pd routers 在 tunnel 构建成功率上非常低，情况很艰难 (08:29:06 PM) not_bob: 我的整套节点都已是最新。 (08:29:15 PM) zzz: 这次攻击每天会启动/停止/变化好几次 (08:29:37 PM) zzz: 所以我们只花了大约 60 小时来理解它并讨论对策 (08:30:15 PM) zzz: 记得那个 tunnel 构建问题（现在更可能归类为另一种攻击）是从 12 月 19 日开始的，我们花了好几周才理解并处理 (08:30:27 PM) zzz: 因此还处在早期 (08:30:36 PM) not_bob: 我有一个 I2P+ router，它应对得不错。但我的 i2pd routers 就不太好了。我见过低至 3% 的 tunnel 构建成功率。目前那些 routers 大约在 10% 左右。 (08:31:17 PM) zzz: 但这就是一个很直接的 sybil（女巫）/ DHT（分布式哈希表）攻击，对我们来说是新情况，但做过 peer-to-peer（P2P，点对点）/ DHT 应用的人都很熟悉 (08:31:53 PM) zzz: 现在还远不能说是否需要（针对 java i2p）提前发布版本，或者如果需要，什么时候发布 (08:32:23 PM) zzz: EOT，我等几分钟，欢迎讨论/评论/提问 (08:33:24 PM) eyedeekay: 遇到 OOM 的人是否该增加分配给 router 的 RAM？ (08:36:18 PM) zzz: 是的，这是个直接的缓解办法 (08:36:18 PM) zzz: 停止你的 router，编辑 wrapper.config，重启 (08:36:18 PM) zzz: 我预计几天内会在开发版里加入缓解措施 (08:36:18 PM) dr|z3d: 理想情况下，把最小堆设为约 256M，把最大内存设为它的 2-3 倍。 (08:36:18 PM) not_bob: 我目前没有运行任何原版 I2P routers。 (08:36:18 PM) zzz: 我想重申前面说的，攻击在快速演化，我们希望花时间解决整体问题 (08:36:18 PM) zzz: 而不是过于狭隘地盯住某些细节 (08:37:36 PM) zzz: 如果 2b) 没有其他内容，就交还给你，eyedeekay (08:38:06 PM) eyedeekay: 非常感谢 zzz。3) 2.2.0 开发状态 (08:39:51 PM) eyedeekay: 正如我之前误说的一样，我一直专注于 Android UX（用户体验）问题，尤其是修正我在应用初始化时做错的事，总的来说都是些基础问题，但确实需要改进 (08:39:57 PM) eyedeekay: 甚至是需要直接修掉的问题 (08:40:49 PM) eyedeekay: 比如修复在构建 tunnels 时关于订阅和自定义端口的问题；在 2.10 带来大量新增用户后，这些问题让不少用户受阻 (08:41:07 PM) dr|z3d: 插一句，说明一下攻击的规模：有位用户报告大约有 3 万个被封禁的 routers。所以这不是小事 :) (08:41:07 PM) dr|z3d: （那应该是 shiver，他在这儿） (08:42:36 PM) mark22k: 我这儿有 56005 个被封禁的 peers。 (08:42:58 PM) eyedeekay: 天哪。我这儿有 11027 个，我还以为已经很多了 (08:43:08 PM) moristo: 这是某个国家级对手干的事吗——这些被封的 routers，或者还有什么明显的模式？ (08:43:50 PM) moristo: 昨天佛罗里达的 Spectrum 断网，前一天意大利也是。 (08:43:54 PM) moristo: *yesterday（昨天）。 (08:43:55 PM) zzz: 我们请回到 3)，关于攻击的讨论留到会后再说 (08:44:05 PM) echelonMAC: Banned Peers（被封禁的对端） (57053) (08:44:22 PM) moristo: 哦，现在在开会吗？是我不对。 (08:46:50 PM) zzz: eyedeekay，你还在吗？ (08:47:11 PM) eyedeekay: 在的 (08:47:37 PM) zzz: 你在 3) 还有更多内容，还是轮到我了？ (08:47:37 PM) eyedeekay: 开了个长话题： (08:47:37 PM) eyedeekay: i2p.firefox（Windows 的 Easy-Install 也在推进，那边更多是通过移除来简化；随着旧的管理员模式安装都迁移到用户模式安装，更新也在简化 (08:47:37 PM) eyedeekay: 2.2.0 将支持便携式 USB 安装 (08:47:43 PM) eyedeekay: 并支持更新 (08:48:21 PM) eyedeekay: 其他我在处理或决定如何处理的问题和用户抱怨，都在那个 issue 跟踪器上 (08:48:28 PM) eyedeekay: 我这边 EOT (08:48:47 PM) zzz: 好的，你看到 i2p.i2p 里的 NPE（空指针异常）问题了吧？ (08:49:10 PM) eyedeekay: 看到了，正在紧追 (08:49:21 PM) zzz: 好的，需要帮忙就喊，ofc (08:49:24 PM) zzz: 轮到我说 3) 了： (08:49:47 PM) zzz: 我终于完成了自九月以来一直在做的 peer（节点）选择重构 (08:50:31 PM) zzz: 我认为我修复了 2.1.0 里的错误 symmetric nat（对称 NAT）指示，但需要有该问题的人来测试并反馈 (08:50:59 PM) zzz: 加了一个很酷的新 i2psnark 搜索框 (08:51:19 PM) zzz: “congestion caps（拥塞上限）”（proposal 162）也快完成了 (08:51:31 PM) echelonMAC: :-) (08:51:49 PM) zzz: 以及一些额外的调整来改进我们对 tunnel 构建拥塞的处理 (08:52:18 PM) zzz: 上周末我还以为 2.2.0 基本做完了，可以在发布前轻松两个月 (08:52:31 PM) zzz: 所以，不幸的是，现在还有很多事要做 (08:52:48 PM) zzz: 有时候就是这样 (08:53:24 PM) not_bob: 感谢，这大大提升了使用体验。 (08:53:24 PM) zzz: EOT，我等一分钟讨论，然后交还给你，eyedeekay  (08:53:37 PM) zzz: 哈哈，不客气，not_bob (08:55:00 PM) eyedeekay: 3 的最后提问机会？ (08:55:20 PM) eyedeekay: 4. 拥塞节流——我记得这是 tunnel_king 的话题，tunnel_king 在吗？ (08:55:42 PM) zzz: 交还给你，eyedeekay  (08:57:39 PM) eyedeekay: 4. 拥塞节流，5. 假设的流量管理（大量 Tor 用户涌入）——这两个都是 tunnel_king 提的，最后一次呼叫 tunnel_king (08:59:01 PM) eyedeekay: 好的，最后一个，6. 给译者的贴纸 (08:59:01 PM) eyedeekay: 尤其是美洲地区以外领取贴纸的规则 (08:59:58 PM) zzz: 这是我的话题，只是因为上次会议以来一直没解决 (09:00:28 PM) zzz: echelonMAC 你有结论吗？ (09:00:41 PM) echelonMAC: 没有细则，但谁想要就可以在提供地址后收到一叠贴纸 (09:01:04 PM) echelonMAC: 也就是在 transifex 发个公告，收到地址后就寄出 (09:01:19 PM) echelonMAC: 但目前这里还没有到新的贴纸 (09:01:35 PM) eyedeekay: 物流跟踪显示是 10 号 (09:01:55 PM) zzz: 我在等 echelonMAC 在我的论坛发出说明，然后我会复制/粘贴到 transifex (09:02:17 PM) echelonMAC: 好 (09:02:28 PM) zzz: 我们已经这样拖了一个月 (09:02:42 PM) zzz: 谢谢 (09:03:33 PM) eyedeekay: 关于 6 或整个会议还有别的事吗？ (09:03:36 PM) zzz: 我这边 6) 结束，交还给你，eyedeekay  (09:04:32 PM) zzz: 会议结束前说一句：zzz.i2p 是获取新闻和“天气”的最佳地方，我有更多消息时会在那里发布 (09:04:32 PM) zzz: 谢谢 (09:04:55 PM) eyedeekay: 非常感谢 zzz，也谢谢各位来开会 (09:05:44 PM) eyedeekay: IRC 上见，下个月同一时间再见 (09:08:55 PM) zzz: 谢谢 eyedeekay  (09:08:55 PM) zzz: 这次顺利开完没有掉线 </div>
