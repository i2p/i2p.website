---
title: "2.1.0 发布"
date: 2023-01-09
author: "zzz"
description: "2.1.0，包含 SSU2 和拥塞问题修复"
categories: ["release"]
---

## 更新详情

自我们在11月发布 2.0.0 版本以来，我们收获了不少经验。随着各个 router 升级到该版本，网络对我们新的 SSU2 传输协议的支持率已从约 1% 提升到超过 60%。首先，我们已经确认 SSU2 是一种稳健、设计良好且安全的协议。其次，不过我们也在该协议的实现中发现并修复了大量较小或很少被触发的缺陷。总体而言，这些缺陷的影响累计起来降低了网络性能。

此外，我们注意到网络中的 tunnel 数量增加，且 tunnel 构建成功率降低，这可能由比特币新引入的 I2P 临时地址功能触发，但也因我们在 SSU2 上的缺陷以及其他拥塞控制问题而进一步恶化。我们正与比特币以及其他非比特币项目合作，以降低 I2P 网络负载。我们已改进算法，以在拥塞期间降低网络负载。我们也在与 i2pd 合作，制定通用的拥塞控制策略。

因此，我们将此次发布提前了大约六周，以便尽快把修复提供给所有人。i2pd 在上周发布了 2.45.0 版本，早期结果令人鼓舞。开发新的协议和分布式网络本就困难。拥塞可能在几乎没有预警的情况下出现，且几乎没有关于原因的线索。感谢大家在我们诊断并希望已经修复这些问题期间的耐心等待。

一如既往，我们建议您更新到此版本。维护安全并帮助网络的最佳方式是运行最新版本。

## 发布详情

### Changes

- Console: New status and banned peers tabs on /peers
- i2ptunnel: Add torsocks support
- i2ptunnel: Add SOCKS tunnel conversion to CONNECT outproxy
- i2ptunnel: Add SOCKS outproxy port configuration
- i2ptunnel: Update encryption type defaults
- Router: Improved congestion detection and handling
- Router: Use compressible padding for destinations and router infos (proposal 161)
- SSU: Redesign symmetric NAT detection

### Bug Fixes

- Console: Fix configuration for Argentinian Spanish
- Crypto: Fix LS2 encrypted leasesets, broken since 1.8.0
- i2psnark: Avoid OOM starting large number of torrents
- i2ptunnel: Numerous SOCKS tunnel fixes
- NTCP: Fix rare termination NPE
- Profiles: Fix profile load stopping after hitting corrupt file
- Router: Clock skew handling fixes and improvements
- SSU: Don't publish IPv4 address when configured for IPv6-only
- SSU: Fix handling of banned peers
- SSU2: Peer Test fixes and improvements
- SSU2: Termination fixes and improvements
- SSU2: Token and handshake fixes and improvements
- SSU2: Fix rare packet handling NPE
- SSU2: Fix rare termination IAE
- SSU2: Fix retransmission of session confirmed
- SSU2: Fix attempted connection to ourselves as an introducer
- UPnP: Catch rare assertion error

### 更改

- Console: Add leaseset lookup to advanced search form
- i2psnark: Add partial Dutch translation
- i2ptunnel: Allow IRCv3 ACCOUNT and CHGHOST through filter
- SSU2: Preliminary support for disabling SSU1
- Sybil: Add IPv6 address tests
- Translation updates

[已修复缺陷的完整列表](http://git.idk.i2p/i2p-hackers/i2p.i2p/-/issues?scope=all&state=closed&milestone_title=2.1.0)

### 错误修复

```
88e0d49090341f5bfa30299c3fa549c365da57a074ef694cf8201666687e583a  i2pinstall_2.1.0_windows.exe
153c7988e7a9f0c2affd1e001d554e2519dd439c08bd7c024643b749db1308c1  i2pinstall_2.1.0.jar
83098c1277204c5569284b32b37ef137656b27bfe15ef903eca2da7c269288d1  i2psource_2.1.0.tar.bz2
54cf3f146f3a630fc2486f79f24c9cfc59d4c9974df0c4479251624fa7bc12a1  i2pupdate_2.1.0.zip
28a6a2f95ba9a613a040976e6d30e6662fc90241f08607f2ce43c6332b9f71bf  i2pupdate.su3
```