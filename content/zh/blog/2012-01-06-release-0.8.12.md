---
title: "0.8.12 版本发布"
date: 2012-01-06
author: "zzz"
description: "0.8.12 版本修复了多项导致消息损坏的缺陷，其中部分自 2005 年起就存在。它还包含对 router 的拥塞控制的重新设计，并持续优化 CPU 和内存的使用。"
categories: ["release"]
---

0.8.12 版本修复了几个导致消息损坏的缺陷，其中一些自 2005 年起就存在。它还包含对 router（I2P 路由节点）拥塞控制的重新设计，以及对 CPU 和内存使用的持续优化。我们希望这些改动能够改善网络性能。建议升级。

文件可在[下载页面](/downloads)获取。

## 发布详情

此版本包含多项重大更改，应有助于提升网络的可靠性和性能。

前两个更改是对严重的 UDP 数据包传输缺陷的修复，详见下文。第三个更改是对解压缩器的修复。修复这些问题应能消除导致消息传递失败的一大来源。

此外，本次发布包含对 router 的参与流量拥塞控制的重写。现在应当能够更准确地测量当前的参与带宽，更好地处理突发流量，减少消息丢弃，并且在必须丢弃时丢弃正确的消息。

此外，此次发布减少了 routers 在经由 tunnel 转发消息时的处理量。由于网关只是将其透传，这些消息无需被完全解析和验证。这将有助于提升所有 routers 的性能，但除了在高流量的 routers 上，改进可能不太明显。

我们乐观地认为这些更改会有所帮助，而且当然，消除消息损坏的来源肯定也会有所帮助。然而，改进的程度要等到网络中大多数完成升级之后才会显现。

此版本还包含对 router 控制台亮色主题的一些更新。您可能需要在浏览器中执行 shift-reload 或 control-reload，以强制重新加载 CSS。

## 重大变更

- Instead of fully parsing and validating messages received at the inbound gateway, simply pass them down the tunnel
- Don't verify I2NP checksums in most cases, as message corruption is caught at other layers
- Don't recalculate I2NP checksums on messages passed through unchanged
- Several NTCP pumper optimizations, to hopefully fix NTCP pumper high CPU usage on fast routers
- Rewrite participating tunnel congestion control, to drop less, more accurately measure traffic, and handle bursts better

## Wrapper 更新

新安装包含 wrapper（服务包装器）版本 3.5.13，该版本修复了在非常长的日志行情况下出现的堆内存损坏问题。更多信息请参阅 http://wrapper.tanukisoftware.com/doc/english/release-notes.html。I2P PPA 软件包用户应已在 12 月的最后一周收到此更新。如果您不使用我们的 PPA 软件包，并希望手动更新您的 wrapper，请按照 http://www.i2p2.de/manualwrapper 上的说明进行操作。

## 错误修复

- Fix major SSU MTU bug introduced in 0.8.9. The router sometimes sent UDP packets that exceeded the maximum size that routers would accept on the receive side. This resulted in a lot of dropped packets, tunnel build problems, and connection problems. One thing that contributed to us missing the problem was that 0.8.9 was released in the middle of the huge network expansion in early October, when network performance was already deteriorating rapidly.
- Fix major SSU fragmentation bug present since 2005. UDP corrupted transmit messages when the message size was an exact multiple of the fragmentation size.
- Fix major decompression bugs present since 2005 that caused message corruption and data loss at multiple protocol layers.
- Snark doesn't always delete directories
- Fix all character case conversion (Turkish four i problem)
- Whitelist more IRC commands
- Remove expired reseed cert

## 其他

- Speed up the inefficient GeoIP lookup
- Optimize several heavily-used utility functions
- Don't drop the transport connection when receiving an invalid message, it isn't necessary and could be an attack vector
- Console light theme update
- Move the complex network configuration stuff to a new console page
- Add a link to hide the news in the console
- Allow numerous additional IRC commands through the IRC filter
- Several other cleanups, optimizations, and object caches added
- New Estonian translation (thanks ajutine)
- Spanish, Swedish, Ukrainian translation updates

## SHA256 校验和：

```
7a05b96c535f565b06aeec3b83fca6245b1159003d4e2da2149374ba0f476847  i2pinstall_0.8.12.exe
019d6018e7093650cf67fd883b0cf0f12aa2f4f0cddc5ef6a08e6147af07f142  i2psource_0.8.12.tar.bz2
a9556998b136d47b124749f426d86514e7128094308f03085b889f34bbdf8dc0  i2pupdate_0.8.12.zip
bb7be1dc9bdcc9b2db2587988325b4ea7c81e9eeb542ebcb17e0d6de29fc98d3  i2pupdate.su2
491722ef1a641512fc3bbaf825d5d1671b701e32b1298572f2820ab7fbf9851d  i2pupdate.sud
```