---
title: "ElGamal/AES+SessionTags 的重置消息"
number: "124"
author: "orignal"
created: "2016-01-24"
lastupdated: "2016-01-26"
status: "Open"
thread: "http://zzz.i2p/topics/2056"
---

## 概述

本提案是为一种 I2NP 消息的设计，该消息可用于在两个目的地之间重置会话标签。


## 动机

设想某个目的地对另一个目的地有一堆已确认的标签。但如果那个目的地重启了或以其他方式丢失了这些标签，第一个目的地会继续发送带有标签的消息，而第二个目的地无从解密。这时，第二个目的地应有一种方式通过额外的大蒜瓣通知第一个目的地重置（从头开始），就像它发送更新的 LeaseSet 一样。


## 设计

### 提议的消息

这个新的大蒜瓣必须包含交付类型“目的地”的新 I2NP 消息，名为“标签重置”，并包含发送者的识别哈希。它应包括时间戳和签名。

如果某个目的地无法解密消息，可以随时发送。


### 用法

如果我重启了我的路由器并尝试连接另一个目的地，我会发送一个带有我新 LeaseSet 的大蒜瓣，并再附加一个包含我地址的消息的大蒜瓣。远程目的地接收到这条消息后，删除向我发送的所有传出标签，并从 ElGamal 开始。

通常情况下，一个目的地可能只与一个远程目的地通信。在重启后应向所有人发送此消息，并附带第一次流式或数据报消息。
