---
title: "用于多宿的Meta-LeaseSet"
number: "120"
author: "zzz"
created: "2016-01-09"
lastupdated: "2016-01-11"
status: "已拒绝"
thread: "http://zzz.i2p/topics/2045"
supercededby: "123"
---

## 概览

该提案涉及在I2P中实现适当的多宿支持，以便能够扩展到大型网站。


## 动机

多宿是一种变通方法，可能在例如facebook.i2p这样的大规模环境中无法工作。
假设我们有100个多宿主，每个有16条隧道，那就是每10分钟1600次LS发布，或者每秒钟近3次。洪泛填充路由会被压垮，节流限制会生效。在提及查找流量之前情况就已经很糟糕了。

我们需要某种形式的meta-LS，其中LS列出100个真实的LS哈希。这将是长期存在的，比10分钟要长得多。因此，这是一个两阶段的LS查找，但第一阶段可以缓存数小时。


## 规格说明

meta-LeaseSet将具有以下格式：

- 目的地
- 发布时间戳
- 过期时间
- 标志
- 属性
- 条目数量
- 撤销数量

- 条目。每个条目包含：
  - 哈希
  - 标志
  - 过期时间
  - 成本（优先级）
  - 属性

- 撤销。每个撤销包含：
  - 哈希
  - 标志
  - 过期时间

- 签名

包含标志和属性以获得最大的灵活性。


## 评论

这样就可以普遍化为任何类型的服务查找。服务标识符是一个SHA256哈希。

为了实现更大规模的可扩展性，我们可以有多个层级，例如meta-LS可以指向其他meta-LS。
