---
title: "服务目录"
number: "102"
author: "zzz"
created: "2009-01-01"
lastupdated: "2009-01-06"
status: "Rejected"
thread: "http://zzz.i2p/topics/180"
supercededby: "122"
---

## 概述

此提案为应用程序提供了一种协议可用于在目录中注册和查找服务。

## 动机

支持onioncat的最直接方式是使用服务目录。

这与Sponge在IRC上提议的一个方案类似。我想他没有把它写出来，但他的想法是放在netDb中。我对此并不赞成，但访问目录的最佳方法（netDb查找、DNS-over-i2p、HTTP、hosts.txt等）的讨论，我将留待以后。

我可能可以很快通过使用HTTP和我用于添加键表单的perl脚本集合来实现这一点。

## 规范

这是应用程序如何与目录交互的方式：

注册
  - DestKey
  - 协议/服务对的列表：

    - 协议（可选，默认：HTTP）
    - 服务（可选，默认：网站）
    - ID（可选，默认：无）

  - 主机名（可选）
  - 有效期（默认：1天？0表示删除）
  - 签名（使用目的地址的私钥）

  返回：成功或失败

  允许更新

查找
  - 哈希或键（可选）。以下之一：

    - 80位部分哈希
    - 256位完整哈希
    - 完整的目的地址键

  - 协议/服务对（可选）

  返回：成功、失败，或（对于80位）冲突。
  如果成功，返回上述签名的描述符。
