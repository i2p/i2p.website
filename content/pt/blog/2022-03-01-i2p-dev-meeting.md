---
title: "Reunião de Desenvolvedores do I2P - 01 de março de 2022"
date: 2022-03-01
author: "i2p"
description: "Ata da reunião de desenvolvimento do I2P de 1º de março de 2022."
categories: ["meeting"]
---

## Recapitulação rápida

<p class="attendees-inline"><strong>Presentes:</strong> eyedeekay, zzz, zlatinb</p>

## Registro da reunião

<div class="irc-log"> (03:01:40 PM) eyedeekay: Olá a todos, bem-vindos à reunião de desenvolvimento (03:01:40 PM) eyedeekay: 1. Olá  (03:01:40 PM) eyedeekay: 2. Status do lançamento (1.7.0 / 0.9.53) (03:02:10 PM) zlatinb: oi (03:02:12 PM) zzz: olá (03:02:39 PM) eyedeekay: Mais algo para acrescentar à pauta hoje antes de começarmos o status do lançamento? (03:03:01 PM) zlatinb: Tenho dois itens pequenos que poderiam entrar em uma "lista de desejos para 1.8.0" (03:03:25 PM) eyedeekay: 3) lista de desejos 1.8.0 (03:04:24 PM) eyedeekay: 2. Status do lançamento(1.7.0/0.9.53) (03:05:37 PM) eyedeekay: Da minha parte tenho um item restante: há um problema no processo de build do pacote .aab em que recursos estáticos incluídos a partir do build do `i2p.i2p` são removidos do .aab final (03:06:06 PM) eyedeekay: Por enquanto, o GPlay está atrasado; estou trabalhando nisso hoje e deve ficar pronto em breve. (03:07:53 PM) eyedeekay: F-Droid e Freestanding são ambos .apk's que usam o processo de build antigo, que não está quebrado, então ainda funciona. (03:07:53 PM) eyedeekay: Há mais algum processo de lançamento pendente para concluir? (03:10:03 PM) eyedeekay: zzz, algo a acrescentar ao tópico de status do lançamento do seu lado? Entendo que o BiglyBT lançou o plugin deles hoje, correto? (03:10:22 PM) zzz: sim (03:10:48 PM) zzz: com base nas estatísticas de sucesso de builds expl., recuperamos rapidamente da regressão do i2pd no último lançamento (03:10:52 PM) zzz: http://stats.i2p/docs/buildsuccess.png (03:11:11 PM) zzz: e agora estamos em um ponto mais alto do que em qualquer momento nos últimos anos, que eu me lembre (03:12:11 PM) zzz: as coisas devem se estabilizar em mais uma semana e veremos onde estamos (03:12:13 PM) zzz: eot (03:12:21 PM) eyedeekay: São notícias realmente excelentes. Que bom que as coisas estão indo bem até agora. (03:12:32 PM) eyedeekay: Obrigado, zzz (03:12:50 PM) eyedeekay: 3. lista de desejos 1.8.0 (03:13:17 PM) eyedeekay: zlatinb, manda ver (03:13:44 PM) zlatinb: oi, 1) acelerar o tempo inicial de build exploratório e 2) JNA (03:14:05 PM) zlatinb: 1: Estive fazendo alguma análise; 75% dos tunnels exploratórios que de fato constroem o build o fazem em menos de 500 ms (03:14:29 PM) zlatinb: em ~30 amostras, o build bem-sucedido mais lento foi de menos de 2500 ms (03:14:46 PM) zlatinb: enquanto o timeout que temos agora é 13000 ms; acho que reduzi-lo fará o router chegar ao estado RUNNING mais rápido (03:15:07 PM) zlatinb: não precisamos decidir agora, só jogando a ideia no ar (03:15:12 PM) zlatinb: eot em 1 (03:15:33 PM) zzz: sem objeções em 1 (03:15:56 PM) eyedeekay: Parece um experimento interessante para tentar, pelo menos; não parece que possa causar algum dano (03:16:12 PM) eyedeekay: Se todos os builds bem-sucedidos são tão curtos (03:16:13 PM) zlatinb: 2: JNA - definitivamente precisaremos adicionar JNA ao pacote windows easy install para elevar privilégios durante a autoatualização.  O ProcessBuilder falha se o processo requer elevação. (03:16:20 PM) zzz: embora eu gostaria de ver dados por um período mais longo antes de escolhermos o novo número (03:16:25 PM) zlatinb: claro (03:16:42 PM) zzz: por favor, volte e defina JNA (03:16:43 PM) zlatinb: (voltando ao 1) Vou deixar um router rodando com registro de logs habilitado (03:17:12 PM) zlatinb: (voltando ao 2): JNA é Java Native A-alguma-coisa, mas basicamente é um wrapper em Java de bibliotecas nativas do Windows, Linux e Mac (03:17:27 PM) zlatinb: então, em vez de escrever código nativo, você escreve código Java (03:17:52 PM) zlatinb: dois JARs, tamanho combinado de 3 MB, comprimidos com LZMA para 2 MB (03:18:11 PM) zzz: por favor, volte e detalhe o problema e quão comum ele é (03:18:38 PM) zlatinb: ao testar atualizações silenciosas no muwire, vi que o ProcessBuilder falha ao iniciar um instalador com algo como "elevação de privilégios necessária" ou algo do tipo (03:19:07 PM) zzz: problema apenas no Windows? (03:19:12 PM) zlatinb: uma pesquisa no Google revelou que não é possível fazer isso com o ProcessBuilder (03:19:36 PM) zlatinb: sim, apenas no Windows por enquanto (03:19:40 PM) eyedeekay: Isso não parece estar acontecendo no Windows Easy-Install para mim; é porque o NSIS está pedindo os privilégios elevados e não o Java? (03:20:02 PM) zlatinb: o NSIS está pedindo (03:20:16 PM) zlatinb: se você já executa o Java com privilégio, então não vai pedir (03:20:22 PM) zlatinb: privilégio* (03:20:28 PM) zzz: sim, essa é a minha pergunta: o windows easy-install está em beta há muitos e muitos meses; isso é um problema só do muwire? (03:20:48 PM) eyedeekay: Ah, OK, então isso vai começar a acontecer antes da próxima atualização com ShellExecAsUser (03:21:15 PM) zlatinb: você eleva se for iniciado não a partir do instalador, eyedeekay? (03:21:48 PM) zlatinb: não me lembro de ver um prompt de elevação (03:22:12 PM) zlatinb: então isso deveria estar acontecendo com o windows easy-install se iniciado a partir de um atalho da área de trabalho, não como a última etapa de um instalador (03:22:14 PM) eyedeekay: Não, eu não; ele roda como o usuário que executa o script em lote (batch), mas só se o I2P ainda não estiver em execução, presumivelmente como administrador (03:22:52 PM) zzz: então, antes de começarmos a falar sobre uma solução para o nosso pacote easy-install do Windows, vamos verificar se há um problema (03:22:57 PM) eyedeekay: Ele não encerra o router junto com o navegador (03:23:35 PM) eyedeekay: Estou inclinado a acreditar que haverá, mas vou confirmar ainda esta semana (03:23:36 PM) zlatinb: então, se o usuário não desmarcar a caixa "launch i2p now" e deixar o router rodando, ele rodará como privilegiado e não pedirá na atualização (03:23:43 PM) zlatinb: ok (03:24:22 PM) zlatinb: de qualquer forma, com a 1.7.0 o router é iniciado sem privilégios mesmo se iniciado a partir do instalador (03:24:39 PM) zzz: e embora você possa seguir suas próprias regras no muwire, qualquer solução nos nossos produtos oficiais terá que ser avaliada quanto à adequação, manutenção, compatibilidade de licença etc. (03:24:57 PM) zlatinb: Apache 2.0 (03:25:45 PM) zlatinb: olhando adiante, JNA nos permite fazer praticamente qualquer coisa que quisermos com as APIs do Windows... registrar extensões de shell, manipuladores de URI, todas essas coisas legais (03:25:57 PM) zlatinb: eot em 2 (03:26:35 PM) zzz: vamos fazer alguns ciclos no autoatualizador do easy-install, que aparentemente nunca funcionou? (03:27:13 PM) zzz: você não precisa esperar por um lançamento do I2P, basta colocar um Java novo ou mudar outra coisa. vamos resolver os bugs um pouco mais rápido (03:27:14 PM) eyedeekay: Estava quebrado, depois corrigido, agora aparentemente vai quebrar de novo na próxima atualização (03:27:55 PM) eyedeekay: Mas a outra solução do meu lado seria mudar o instalador para que ele não use mais %ProgramFiles% e instale em algum local não privilegiado (03:28:09 PM) zzz: faça um lançamento toda semana até que esteja funcionando sem problemas. obviamente, o ritmo de 3 meses não é rápido o suficiente para convergir para algo que funcione (03:28:32 PM) eyedeekay: Pode deixar (03:29:53 PM) eyedeekay: Obrigado por trazer isso para nós, zlatinb; mais alguma coisa no 3? (03:29:58 PM) zzz: e isso nos dará dados sobre a extensão do problema de privilégios, se existir (03:30:00 PM) zzz: eot (03:30:21 PM) zlatinb: não, eot da minha parte (03:30:57 PM) eyedeekay: Certo, mais algo para a reunião? timeout 1m (03:31:16 PM) zzz: além disso, use as notícias para avisar seus testadores beta se a atualização estiver quebrada e eles precisarem baixar novamente (03:31:35 PM) eyedeekay: farei isso (03:32:05 PM) zzz: vocês dois têm seus próprios feeds de notícias, mas não estão usando para falar com seus usuários, estão apenas contando com minhas entradas de notícias? vocês deveriam começar a testar/usar esse recurso (03:32:11 PM) zzz: eot (03:34:07 PM) eyedeekay: Pode deixar; no passado, eu adicionei o registro de alterações do i2p.firefox (03:34:54 PM) eyedeekay: Obrigado por virem à reunião, pessoal; parece que tenho muito trabalho a fazer, vejo vocês pelo IRC </div>
