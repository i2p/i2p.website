---
title: "حدود الازدحام"
number: "162"
author: "dr|z3d, idk, orignal, zzz"
created: "2023-01-24"
lastupdated: "2023-02-01"
status: "مفتوح"
thread: "http://zzz.i2p/topics/3516"
target: "0.9.59"
toc: true
---

## نظرة عامة

إضافة مؤشرات ازدحام إلى معلومات الموجه المنشورة (RI).




## الدافع

تشير "حدود" عرض النطاق الترددي (القدرات) إلى حدود مشاركة عرض النطاق وإمكانات الوصول ولكن لا تشير إلى حالة الازدحام.
سيساعد مؤشر الازدحام الموجهات في تجنب محاولة البناء عبر موجه مزدحم،
مما يؤدي إلى مزيد من الازدحام وتخفيض نجاح بناء النفق.



## التصميم

تعريف قدرات جديدة للإشارة إلى مستويات مختلفة من الازدحام أو مشاكل السعة.
سيتم وضعها في قدرات RI العلوية، وليس قدرات العنوان.


### تعريف الازدحام

بشكل عام، يعني الازدحام أن الند من غير المحتمل أن يستقبل
ويقبل طلب بناء نفق.
كيفية تحديد أو تصنيف مستويات الازدحام هي خاصة بالتنفيذ.

قد تأخذ التطبيقات بعين الاعتبار واحدًا أو أكثر مما يلي:

- عند حدود عرض النطاق الترددي أو بالقرب منها
- عند أو قرب أقصى عدد من الأنفاق المشاركة
- عند أو قرب أقصى عدد من الاتصالات في واحدة أو أكثر من النقلات
- فوق الحد لأعماق الطوابير، زمن الاستجابة، أو استخدام وحدة المعالجة المركزية؛ تجاوز قائمة الانتظار الداخلية
- قدرات وحدة المعالجة المركزية والذاكرة للنظام الأساسي / نظام التشغيل
- الازدحام الشبكي المدرك
- حالة الشبكة مثل جدار ناري أو NAT متماثل أو مخفي أو مؤمن
- تم تكوينه لعدم قبول الأنفاق

يجب أن تستند حالة الازدحام إلى متوسط الظروف
على مدى عدة دقائق، وليس قياسًا فوريًا.



## المواصفات

تحديث [NETDB](/docs/how/network-database/) على النحو التالي:


```text
D: ازدحام متوسط، أو موجه ذو أداء منخفض (مثل أندرويد، راسبيري باي)
     يجب على الموجهات الأخرى خفض أو تحديد قدرة هذا الموجه الظاهرة
     في الملف الشخصي.

  E: ازدحام شديد، هذا الموجه يكون عند حد معين أو بالقرب منه،
     ويرفض أو يسقط معظم طلبات الأنفاق.
     إذا تم نشر هذا الـ RI في آخر 15 دقيقة، يجب على الموجهات الأخرى
     خفض أو تحديد قدرة هذا الموجه بشكل كبير.
     إذا كان هذا الـ RI أقدم من 15 دقيقة، يعامل كـ 'D'.

  G: هذا الموجه يرفض مؤقتًا أو دائمًا جميع الأنفاق.
     لا تحاول بناء نفق عبر هذا الموجه،
     حتى يتم استلام RI جديد بدون 'G'.
```

من أجل الاتساق، يجب على التطبيقات إضافة أي قدرة ازدحام
في النهاية (بعد R أو U).



## تحليل الأمان

لا يمكن الوثوق بأي معلومات زميل منشورة.
قد يتم تزوير القدرات، مثل أي شيء آخر في معلومات الموجه.
نحن لا نستخدم أي شيء في معلومات الموجه لزيادة التقدير الظاهري لقدرة جهاز التوجيه.

نشر مؤشرات الازدحام، وإبلاغ الزملاء بتجنب هذا الموجه، هو بالفعل
أكثر أمانًا من المؤشرات الميسرة أو المؤشرات السعة التي تطلب المزيد من الأنفاق.

مؤشرات السعة الحالية للنطاق الترددي (L-P، X) يتم الوثوق بها فقط لتجنب
الموجهات ذات النطاق الترددي المنخفض جدا. ولقدرة "U" (غير قابلة للوصول) تأثير مشابه.

أي مؤشر ازدحام منشور يجب أن يكون له نفس تأثير
رفض أو إسقاط طلب بناء نفق، مع خصائص أمنية مماثلة.



## ملاحظات

يجب على الزملاء عدم تجنب الموجهات 'D' تمامًا، بل يجب تخفيضها.

يجب الحرص على عدم تجنب الموجهات 'E' تمامًا،
حتى لا ينكسر النظام تمامًا عندما يكون الشبكة بأكملها في ازدحام ونشر 'E'.

قد تستخدم الموجهات استراتيجيات مختلفة لنوع الأنفاق التي سيتم بناؤها عبر الموجهات 'D' و'E'،
مثل الاستكشافية مقابل العملي، أو العميل ذي النطاق الترددي العالي مقابل النطاق الترددي المنخفض.

يجب على الموجهات عمومًا عدم نشر قدرة ازدحام عند بدء التشغيل أو الإيقاف الافتراضي،
حتى إذا كانت حالة الشبكة مجهولة، لمنع اكتشاف إعادة التشغيل بواسطة الزملاء.




## التوافق

لا توجد مشكلات، جميع التطبيقات تتجاهل القدرات غير المعروفة.


## الهجرة

يمكن للتطبيقات إضافة الدعم في أي وقت، دون الحاجة للتنسيق.

الخطة التمهيدية:
نشر القدرات في 0.9.58 (أبريل 2023);
اتخاذ الإجراءات على القدرات المنشورة في 0.9.59 (يوليو 2023).



## المراجع

* [NETDB](/docs/how/network-database/)
