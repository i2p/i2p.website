---
title: "التسمية ودفتر العناوين"
description: "كيف يقوم I2P بتعيين أسماء المضيفين القابلة للقراءة إلى الوجهات"
slug: "naming"
lastUpdated: "2025-10"
accurateFor: "2.10.0"
---

عناوين I2P هي مفاتيح تشفير طويلة. يوفر نظام التسمية طبقة أكثر سهولة فوق تلك المفاتيح **دون إدخال سلطة مركزية**. جميع الأسماء **محلية**—كل router يقرر بشكل مستقل أي وجهة يشير إليها اسم المضيف.

> **تحتاج إلى خلفية؟** تُوثِّق [مناقشة التسمية](/docs/legacy/naming/) النقاشات التصميمية الأصلية، والمقترحات البديلة، والأسس الفلسفية وراء نظام التسمية اللامركزي في I2P.

---

## 1. المكونات

تتكون طبقة التسمية في I2P من عدة أنظمة فرعية مستقلة ولكنها متعاونة:

1. **خدمة التسمية** – تحل أسماء المضيفين إلى الوجهات وتتعامل مع [أسماء المضيفين Base32](#base32-hostnames).
2. **وكيل HTTP** – يمرر عمليات البحث عن `.i2p` إلى الموجه (router) ويقترح خدمات القفز (jump services) عندما يكون الاسم غير معروف.
3. **خدمات إضافة المضيفين** – نماذج على طراز CGI تضيف إدخالات جديدة إلى دفتر العناوين المحلي.
4. **خدمات القفز** – مساعدات بعيدة تُرجع الوجهة لاسم مضيف محدد.
5. **دفتر العناوين** – يجلب ويدمج قوائم المضيفين البعيدة بشكل دوري باستخدام "شبكة ثقة" موثوقة محلياً.
6. **SusiDNS** – واجهة مستخدم قائمة على الويب لإدارة دفاتر العناوين والاشتراكات والتجاوزات المحلية.

يتيح هذا التصميم المعياري للمستخدمين تحديد حدود الثقة الخاصة بهم وأتمتة عملية التسمية بقدر ما يفضلون أو بأقل قدر ممكن.

---

## 2. خدمات الأسماء

تدعم واجهة برمجة التطبيقات الخاصة بالتسمية في الموجه (`net.i2p.client.naming`) عدة خلفيات من خلال الخاصية القابلة للتكوين `i2p.naming.impl=<class>`. قد يقدم كل تطبيق استراتيجيات بحث مختلفة، لكنها جميعاً تشترك في نفس نموذج الثقة والتحليل.

### 2.1 Hosts.txt (legacy format)

كان النموذج القديم يستخدم ثلاثة ملفات نصية عادية يتم فحصها بالترتيب:

1. `privatehosts.txt`
2. `userhosts.txt`
3. `hosts.txt`

يخزن كل سطر تعيين `hostname=base64-destination`. يظل تنسيق النص البسيط هذا مدعومًا بالكامل للاستيراد/التصدير، لكنه لم يعد الافتراضي بسبب الأداء الضعيف بمجرد أن تتجاوز قائمة المضيفين بضعة آلاف من الإدخالات.

---

### 2.2 Blockfile Naming Service (default backend)

تم تقديمه في **الإصدار 0.8.8**، أصبح Blockfile Naming Service الآن الخلفية الافتراضية. وهو يستبدل الملفات المسطحة بمخزن مفتاح/قيمة على القرص عالي الأداء قائم على skiplist (`hostsdb.blockfile`) يوفر عمليات بحث **أسرع بحوالي 10 مرات**.

**الخصائص الرئيسية:** - يخزن عدة دفاتر عناوين منطقية (خاص، مستخدم، ومضيفين) في قاعدة بيانات ثنائية واحدة. - يحافظ على التوافق مع استيراد/تصدير hosts.txt القديم. - يدعم البحث العكسي، والبيانات الوصفية (تاريخ الإضافة، المصدر، التعليقات)، والتخزين المؤقت الفعال. - يستخدم نفس ترتيب البحث ثلاثي المستويات: خاص ← مستخدم ← مضيفين.

يحافظ هذا النهج على التوافق مع الإصدارات السابقة بينما يحسن بشكل كبير سرعة الحل وقابلية التوسع.

---

### 2.1 Hosts.txt (التنسيق القديم)

يمكن للمطورين تنفيذ واجهات خلفية مخصصة مثل: - **Meta** – يجمع أنظمة تسمية متعددة. - **PetName** – يدعم أسماء مستعارة مخزنة في `petnames.txt`. - **AddressDB**، **Exec**، **Eepget**، و **Dummy** – للحل الخارجي أو الاحتياطي.

يظل تنفيذ blockfile هو الخيار **الموصى به** للاستخدام العام نظراً للأداء والموثوقية.

---

## 3. Base32 Hostnames

أسماء المضيفين Base32 (`*.b32.i2p`) تعمل بشكل مشابه لعناوين `.onion` في Tor. عندما تصل إلى عنوان `.b32.i2p`:

1. يقوم الـ router بفك تشفير حمولة Base32.
2. يعيد بناء الوجهة مباشرة من المفتاح—**دون الحاجة إلى البحث في دفتر العناوين**.

يضمن هذا إمكانية الوصول حتى لو لم يكن هناك اسم مضيف قابل للقراءة البشرية. أسماء Base32 الممتدة التي تم تقديمها في **الإصدار 0.9.40** تدعم **LeaseSet2** والوجهات المشفرة.

---

## 4. Address Book & Subscriptions

يقوم تطبيق دفتر العناوين باسترجاع قوائم المضيفين البعيدة عبر HTTP ودمجها محلياً وفقاً لقواعد الثقة المُعدّة من قبل المستخدم.

### 2.2 خدمة تسمية Blockfile (الواجهة الخلفية الافتراضية)

- الاشتراكات هي روابط `.i2p` قياسية تشير إلى `hosts.txt` أو موجزات التحديثات التدريجية.
- يتم جلب التحديثات بشكل دوري (كل ساعة افتراضياً) والتحقق من صحتها قبل الدمج.
- يتم حل التعارضات **على أساس الأسبقية (من يأتي أولاً يُخدم أولاً)**، وفقاً لترتيب الأولوية:  
  `privatehosts.txt` → `userhosts.txt` → `hosts.txt`.

#### Default Providers

منذ **I2P 2.3.0 (يونيو 2023)**، يتم تضمين مزودي اشتراك افتراضيين: - `http://i2p-projekt.i2p/hosts.txt` - `http://notbob.i2p/hosts.txt`

يعمل هذا التكرار على تحسين الموثوقية مع الحفاظ على نموذج الثقة المحلي. يمكن للمستخدمين إضافة أو إزالة الاشتراكات من خلال SusiDNS.

#### Incremental Updates

يتم جلب التحديثات التدريجية عبر `newhosts.txt` (لتحل محل مفهوم `recenthosts.cgi` الأقدم). توفر هذه النقطة النهائية تحديثات تدريجية فعالة **معتمدة على ETag**—تُرجع فقط الإدخالات الجديدة منذ الطلب الأخير أو `304 Not Modified` عندما لا يكون هناك تغيير.

---

### 2.3 الخلفيات البديلة والإضافات

- **خدمات إضافة المضيف** (`add*.cgi`) تسمح بإرسال يدوي لربط الأسماء بالوجهات. تحقق دائماً من الوجهة قبل القبول.
- **خدمات Jump** تستجيب بالمفتاح المناسب ويمكنها إعادة التوجيه عبر البروكسي HTTP باستخدام معامل `?i2paddresshelper=`.
  أمثلة شائعة: `stats.i2p`، `identiguy.i2p`، و `notbob.i2p`.
  هذه الخدمات **ليست جهات موثوقة**—يجب على المستخدمين تحديد أيها يستخدمون.

---

## 5. Managing Entries Locally (SusiDNS)

SusiDNS متاح على: `http://127.0.0.1:7657/susidns/`

يمكنك: - عرض وتعديل دفاتر العناوين المحلية. - إدارة الاشتراكات وتحديد أولوياتها. - استيراد/تصدير قوائم المضيفين. - تكوين جداول الجلب.

**جديد في I2P 2.8.1 (مارس 2025):** - إضافة ميزة "الترتيب حسب الأحدث". - تحسين معالجة الاشتراكات (إصلاح لتناقضات ETag).

جميع التغييرات تبقى **محلية**—دفتر العناوين لكل router فريد.

---

## 3. أسماء المضيفين Base32

وفقًا لـ RFC 9476، سجّلت I2P نطاق **`.i2p.alt`** لدى هيئة GNUnet للأرقام المخصصة (GANA) اعتبارًا من **مارس 2025 (I2P 2.8.1)**.

**الغرض:** منع تسريبات DNS العرضية من البرامج غير المُكوّنة بشكل صحيح.

- محللات DNS المتوافقة مع RFC 9476 **لن تقوم بإعادة توجيه** نطاقات `.alt` إلى DNS العام.
- برنامج I2P يتعامل مع `.i2p.alt` كمعادل لـ `.i2p`، حيث يزيل لاحقة `.alt` أثناء عملية الحل.
- `.i2p.alt` **ليس** مخصصًا لاستبدال `.i2p`؛ إنه إجراء حماية تقني، وليس إعادة تسمية للعلامة التجارية.

---

## 4. دفتر العناوين والاشتراكات

- **مفاتيح الوجهة (Destination keys):** 516–616 بايت (Base64)  
- **أسماء المضيفين:** الحد الأقصى 67 حرفًا (بما في ذلك `.i2p`)  
- **الأحرف المسموح بها:** a–z، 0–9، `-`، `.` (بدون نقاط مزدوجة، بدون أحرف كبيرة)  
- **محجوز:** `*.b32.i2p`  
- **ETag و Last-Modified:** تُستخدم بنشاط لتقليل النطاق الترددي  
- **متوسط حجم hosts.txt:** ~400 كيلوبايت لـ ~800 مضيف (رقم تقريبي)  
- **استخدام النطاق الترددي:** ~10 بايت/ثانية إذا تم الجلب كل 12 ساعة

---

## 8. Security Model and Philosophy

تضحي I2P عمدًا بالتفرد العالمي مقابل اللامركزية والأمان—وهو تطبيق مباشر لـ **مثلث Zooko**.

**المبادئ الأساسية:** - **لا سلطة مركزية:** جميع عمليات البحث محلية.   - **المقاومة لاختطاف DNS:** الاستعلامات مشفرة إلى المفاتيح العامة للوجهة.   - **منع هجمات Sybil:** لا يوجد تصويت أو تسمية قائمة على الإجماع.   - **تعيينات غير قابلة للتغيير:** بمجرد وجود ارتباط محلي، لا يمكن تجاوزه عن بُعد.

أنظمة التسمية القائمة على سلسلة الكتل (مثل Namecoin و ENS) استكشفت حل جميع جوانب مثلث Zooko الثلاثة، لكن I2P يتجنبها عمداً بسبب زمن الاستجابة والتعقيد وعدم التوافق الفلسفي مع نموذج الثقة المحلي الخاص به.

---

## 9. Compatibility and Stability

- لم يتم إيقاف أي ميزات تسمية بين 2023-2025.
- تنسيق Hosts.txt وخدمات jump والاشتراكات وجميع تطبيقات واجهة برمجة التطبيقات للتسمية تظل وظيفية.
- يحافظ مشروع I2P على **التوافق العكسي** الصارم مع إدخال تحسينات الأداء والأمان (عزل NetDB، فصل Sub-DB، إلخ).

---

## 10. Best Practices

- احتفظ فقط بالاشتراكات الموثوقة؛ تجنب قوائم المضيفين الكبيرة غير المعروفة.
- قم بعمل نسخة احتياطية من `hostsdb.blockfile` و `privatehosts.txt` قبل الترقية أو إعادة التثبيت.
- راجع خدمات القفز بانتظام وعطّل أي خدمة لم تعد تثق بها.
- تذكر: دفتر العناوين الخاص بك يحدد نسختك من عالم I2P—**كل اسم مضيف محلي**.

---

### Further Reading

- [نقاش التسمية](/docs/legacy/naming/)  
- [مواصفات Blockfile](/docs/specs/blockfile/)  
- [تنسيق ملف الإعدادات](/docs/specs/configuration/)  
- [Javadoc لخدمة التسمية](http://idk.i2p/javadoc-i2p/net/i2p/client/naming/package-summary.html)

---
