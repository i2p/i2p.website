---
title: "I2P: إطار عمل قابل للتوسع للاتصال المجهول"
description: "مقدمة تقنية لبنية I2P وآلية عملها"
slug: "tech-intro"
lastUpdated: "2025-10"
accurateFor: "2.10.0"
---

## مقدمة

I2P هي طبقة شبكة مجهولة الهوية قابلة للتوسع، ذاتية التنظيم، ومرنة تعتمد على تبديل الحزم، والتي يمكن أن يعمل عليها أي عدد من التطبيقات المختلفة التي تهتم بإخفاء الهوية أو الأمان. يمكن لكل من هذه التطبيقات إجراء مقايضاتها الخاصة بين إخفاء الهوية والكمون والإنتاجية دون القلق بشأن التنفيذ الصحيح لشبكة mixnet ذات مسار حر، مما يسمح لها بدمج نشاطها مع مجموعة إخفاء الهوية الأكبر من المستخدمين الذين يعملون بالفعل على I2P.

التطبيقات المتاحة بالفعل توفر مجموعة كاملة من الأنشطة النموذجية للإنترنت — تصفح الويب **المجهول**، استضافة المواقع، الدردشة، مشاركة الملفات، البريد الإلكتروني، التدوين، ونشر المحتوى، بالإضافة إلى العديد من التطبيقات الأخرى قيد التطوير.

- **تصفح الويب:** باستخدام أي متصفح موجود يدعم البروكسي (proxy)
- **المحادثة:** IRC وبروتوكولات أخرى
- **مشاركة الملفات:** [I2PSnark](#i2psnark) وتطبيقات أخرى
- **البريد الإلكتروني:** [Susimail](#i2pmail) وتطبيقات أخرى
- **المدونات:** باستخدام أي خادم ويب محلي، أو الإضافات المتاحة

على عكس المواقع المستضافة ضمن شبكات توزيع المحتوى مثل [Freenet](/docs/overview/comparison#freenet) أو [GNUnet](https://www.gnunet.org/)، فإن الخدمات المستضافة على I2P تفاعلية بالكامل — فهناك محركات بحث تقليدية على نمط الويب، ولوحات إعلانات، ومدونات يمكنك التعليق عليها، ومواقع تعتمد على قواعد البيانات، وجسور للاستعلام من الأنظمة الثابتة مثل Freenet دون الحاجة إلى تثبيتها محلياً.

مع جميع هذه التطبيقات المُمكّنة لإخفاء الهوية، يعمل I2P كـ **وسيط موجه للرسائل** — تحدد التطبيقات البيانات المراد إرسالها إلى معرّف تشفيري ("destination")، ويضمن I2P وصولها بشكل آمن ومجهول الهوية. يتضمن I2P أيضًا [مكتبة بث بسيطة](#streaming) للسماح لرسائل I2P المجهولة ذات أفضل جهد بالنقل كتدفقات موثوقة ومرتبة، مما يوفر التحكم في الازدحام المستند إلى TCP والمُحسّن لحاصل ضرب عرض النطاق الترددي والتأخير العالي للشبكة.

بينما تم تطوير بروكسيات SOCKS بسيطة لربط التطبيقات الموجودة، فإن قيمتها محدودة لأن معظم التطبيقات تسرب معلومات حساسة في سياق مجهول الهوية. النهج الأكثر أماناً هو **مراجعة وتكييف** التطبيق لاستخدام واجهات برمجة التطبيقات (APIs) الخاصة بـ I2P مباشرة.

I2P ليس مشروعًا بحثيًا — سواء أكاديميًا أو تجاريًا أو حكوميًا — بل هو جهد هندسي يهدف إلى توفير إخفاء الهوية القابل للاستخدام. وهو قيد التطوير المستمر منذ أوائل عام 2003 من قبل مجموعة موزعة من المساهمين حول العالم. جميع أعمال I2P **مفتوحة المصدر** على [الموقع الرسمي](https://geti2p.net/)، وتُصدر بشكل أساسي في المجال العام، مع بعض المكونات تحت تراخيص BSD المتساهلة. تتوفر العديد من تطبيقات العملاء المرخصة بموجب GPL، مثل [I2PTunnel](#i2ptunnel) و[Susimail](#i2pmail) و[I2PSnark](#i2psnark). يأتي التمويل فقط من تبرعات المستخدمين.

---

## التشغيل

### Overview

يميز I2P بوضوح بين أجهزة التوجيه (routers - العُقد المشاركة في الشبكة) والوجهات (destinations - نقاط النهاية المجهولة للتطبيقات). تشغيل I2P نفسه ليس سريًا؛ ما يتم إخفاؤه هو **ماذا** يفعل المستخدم وأي router تستخدمه وجهاته. عادةً ما يشغل المستخدمون النهائيون عدة وجهات (على سبيل المثال، واحدة لتصفح الويب، وأخرى للاستضافة، وأخرى لـ IRC).

مفهوم أساسي في I2P هو **tunnel** (النفق) — وهو مسار مشفر أحادي الاتجاه عبر سلسلة من أجهزة الـ router. كل router يفك تشفير طبقة واحدة فقط ويعرف فقط القفزة التالية. تنتهي صلاحية الـ tunnels كل 10 دقائق ويجب إعادة بنائها.

![مخطط الأنفاق الواردة والصادرة](/images/tunnels.png)   *الشكل 1: يوجد نوعان من الأنفاق — الواردة والصادرة.*

- **Outbound tunnels** ترسل الرسائل بعيداً عن المُنشئ.
- **Inbound tunnels** تُعيد الرسائل إلى المُنشئ.

يُمكّن الجمع بين هذه الأنفاق الاتصال ثنائي الاتجاه. على سبيل المثال، تستخدم "أليس" نفقاً صادراً للإرسال إلى نفق "بوب" الوارد. تقوم أليس بتشفير رسالتها مع تعليمات التوجيه إلى بوابة بوب الواردة.

مفهوم أساسي آخر هو **قاعدة بيانات الشبكة** أو **netDb**، والتي توزع البيانات الوصفية حول routers والوجهات:

- **RouterInfo:** يحتوي على معلومات الاتصال بالـ router والمفاتيح الخاصة به.
- **LeaseSet:** يحتوي على المعلومات اللازمة للاتصال بوجهة معينة (بوابات الأنفاق، أوقات الانتهاء، مفاتيح التشفير).

تنشر أجهزة التوجيه معلومات RouterInfo الخاصة بها مباشرة إلى netDb؛ بينما يتم إرسال LeaseSets عبر الأنفاق الصادرة للحفاظ على عدم الكشف عن الهوية.

لبناء الأنفاق، تستعلم Alice عن netDb للحصول على إدخالات RouterInfo لاختيار النظراء، وترسل رسائل بناء tunnel مشفرة خطوة بخطوة حتى يكتمل النفق.

![يتم استخدام معلومات الموجه لبناء الأنفاق](/images/netdb_get_routerinfo_2.png)   *الشكل 2: يتم استخدام معلومات router لبناء الأنفاق (tunnels).*

لإرسال البيانات إلى بوب، تبحث أليس عن LeaseSet الخاص ببوب وتستخدم أحد الأنفاق الصادرة الخاصة بها لتوجيه البيانات من خلال بوابة النفق الوارد الخاص ببوب.

![تربط LeaseSets بين الأنفاق الواردة والصادرة](/images/netdb_get_leaseset.png)   *الشكل 3: تربط LeaseSets بين الأنفاق الصادرة والواردة.*

نظرًا لأن I2P يعتمد على الرسائل، فإنه يضيف **تشفير garlic encryption من طرف إلى طرف** لحماية الرسائل حتى من نقطة النهاية الصادرة أو البوابة الواردة. تحتوي رسالة garlic على عدة "فصوص" (رسائل) مشفرة لإخفاء البيانات الوصفية وتحسين عدم الكشف عن الهوية.

يمكن للتطبيقات إما استخدام واجهة الرسائل مباشرة أو الاعتماد على [مكتبة البث](#streaming) للاتصالات الموثوقة.

---

### Tunnels

تستخدم الأنفاق الواردة والصادرة التشفير الطبقي، لكنها تختلف في البناء:

- في **الأنفاق الواردة (inbound tunnels)**، يقوم المُنشئ (نقطة النهاية) بفك تشفير جميع الطبقات.
- في **الأنفاق الصادرة (outbound tunnels)**، يقوم المُنشئ (البوابة) بفك تشفير الطبقات مسبقاً لضمان الوضوح في نقطة النهاية.

يقوم I2P بتصنيف الأقران عبر مقاييس غير مباشرة مثل زمن الاستجابة والموثوقية دون فحص مباشر. بناءً على هذه التصنيفات، يتم تجميع الأقران ديناميكيًا في أربع مستويات:

1. سريع وعالي السعة
2. عالي السعة
3. غير فاشل
4. فاشل

يفضل اختيار نظراء النفق عادةً النظراء ذوي السعة العالية، المختارين عشوائياً لتحقيق التوازن بين عدم الكشف عن الهوية والأداء، مع استراتيجيات ترتيب إضافية قائمة على XOR للتخفيف من هجمات السلف وحصاد netDb.

للحصول على تفاصيل أعمق، راجع [مواصفات الأنفاق](/docs/specs/implementation).

---

### نظرة عامة

الـ routers المشاركة في جدول التجزئة الموزع (DHT) الخاص بـ **floodfill** تقوم بتخزين والرد على استعلامات LeaseSet. يستخدم DHT نسخة معدلة من [Kademlia](https://en.wikipedia.org/wiki/Kademlia). يتم اختيار routers الـ floodfill تلقائيًا إذا كانت لديها سعة واستقرار كافيين، أو يمكن تكوينها يدويًا.

- **RouterInfo:** يصف قدرات الموجه (router) ووسائل النقل الخاصة به.  
- **LeaseSet:** يصف أنفاق الوجهة ومفاتيح التشفير الخاصة بها.

جميع البيانات في netDb موقّعة من قبل الناشر ومؤرشفة زمنياً لمنع هجمات إعادة التشغيل أو الإدخالات القديمة. يتم الحفاظ على مزامنة التوقيت من خلال SNTP والكشف عن الانحراف في طبقة النقل.

#### Additional concepts

- **LeaseSets غير منشورة ومشفرة:**  
  يمكن للوجهة أن تظل خاصة من خلال عدم نشر LeaseSet الخاص بها، ومشاركته فقط مع الأطراف الموثوقة. يتطلب الوصول مفتاح فك التشفير المناسب.

- **Bootstrapping (إعادة البذر):**  
  للانضمام إلى الشبكة، يقوم router جديد بجلب ملفات RouterInfo الموقّعة من خوادم إعادة البذر الموثوقة عبر HTTPS.

- **قابلية التوسع في البحث:**  
  يستخدم I2P عمليات بحث **تكرارية**، وليست تعاودية، لتحسين قابلية التوسع والأمان في DHT.

---

### الأنفاق

تستخدم اتصالات I2P الحديثة وسيلتي نقل مشفرتين بالكامل:

- **[NTCP2](/docs/specs/ntcp2):** بروتوكول مشفر قائم على TCP  
- **[SSU2](/docs/specs/ssu2):** بروتوكول مشفر قائم على UDP

كلاهما مبني على [إطار بروتوكول Noise](https://noiseprotocol.org/) الحديث، مما يوفر مصادقة قوية ومقاومة لبصمات حركة المرور. لقد حلا محل بروتوكولات NTCP وSSU القديمة (التي تم إيقافها بالكامل منذ عام 2023).

**NTCP2** يوفر بثًا مشفرًا وفعالًا عبر TCP.

**SSU2** يوفر موثوقية قائمة على UDP، واجتياز NAT، وثقب اختياري. SSU2 مشابه من الناحية المفاهيمية لـ WireGuard أو QUIC، موازناً بين الموثوقية وإخفاء الهوية.

قد تدعم أجهزة الـ router كلاً من IPv4 و IPv6، وتنشر عناوين النقل والتكاليف الخاصة بها في الـ netDb. يتم اختيار نقل الاتصال ديناميكيًا بواسطة **نظام مزايدة** يُحسّن الأداء بناءً على الظروف والروابط الموجودة.

---

### قاعدة بيانات الشبكة (netDb)

يستخدم I2P التشفير الطبقي لجميع المكونات: النقل، الأنفاق (tunnels)، رسائل garlic، وقاعدة بيانات الشبكة (netDb).

الأوليات الحالية تشمل:

- X25519 لتبادل المفاتيح
- EdDSA (Ed25519) للتوقيعات
- ChaCha20-Poly1305 للتشفير المصادق عليه
- SHA-256 للتجزئة
- AES256 لتشفير طبقة tunnel

الخوارزميات القديمة (ElGamal, DSA-SHA1, ECDSA) تبقى للتوافق مع الإصدارات السابقة.

يقدم I2P حاليًا مخططات تشفير هجينة ما بعد الكم (PQ) تجمع بين **X25519** و **ML-KEM** لمقاومة هجمات "الحصاد الآن، فك التشفير لاحقًا".

#### Garlic Messages

رسائل الثوم (Garlic messages) تمتد من توجيه البصل (onion routing) من خلال تجميع عدة "فصوص" مشفرة مع تعليمات تسليم مستقلة. هذه تسمح بمرونة توجيه على مستوى الرسالة وحشو موحد لحركة المرور.

#### Session Tags

يتم دعم نظامين تشفيريين للتشفير من طرف إلى طرف:

- **ElGamal/AES+SessionTags (قديم):**  
  يستخدم علامات الجلسة المُسلّمة مسبقاً كقيم nonce بحجم 32 بايت. الآن مُهمل بسبب عدم الكفاءة.

- **ECIES-X25519-AEAD-Ratchet (الحالي):**  
  يستخدم ChaCha20-Poly1305 ومولدات أرقام عشوائية شبه عشوائية (PRNGs) متزامنة قائمة على HKDF لإنشاء مفاتيح جلسة مؤقتة وعلامات بحجم 8 بايت بشكل ديناميكي، مما يقلل من استهلاك المعالج والذاكرة وعرض النطاق الترددي مع الحفاظ على السرية الأمامية.

---

## Future of the Protocol

تركز مجالات البحث الرئيسية على الحفاظ على الأمان ضد الخصوم على مستوى الدولة وإدخال حماية ما بعد الكم. تم استبدال مفهومين تصميميين مبكرين — **المسارات المقيدة** و**الكمون المتغير** — بتطورات حديثة.

### Restricted Route Operation

كانت مفاهيم التوجيه المقيد الأصلية تهدف إلى إخفاء عناوين IP. وقد تم تخفيف هذه الحاجة إلى حد كبير من خلال:

- UPnP للتوجيه التلقائي للمنافذ
- اجتياز قوي لـ NAT في SSU2
- دعم IPv6
- موجهو الاتصال التعاونيون وثقب NAT
- اتصال اختياري عبر الشبكة الفوقية (مثل Yggdrasil)

وبالتالي، يحقق I2P الحديث نفس الأهداف بشكل أكثر عملية دون الحاجة إلى توجيه معقد ومقيد.

---

## Similar Systems

يدمج I2P مفاهيم من البرمجيات الوسيطة الموجهة للرسائل (message-oriented middleware)، وجداول التجزئة الموزعة (DHTs)، وشبكات المزج (mixnets). يكمن ابتكاره في دمج هذه العناصر في منصة إخفاء هوية قابلة للاستخدام وذاتية التنظيم.

### بروتوكولات النقل

*[الموقع الإلكتروني](https://www.torproject.org/)*

**Tor** و **I2P** يتشاركان في الأهداف لكن يختلفان من الناحية المعمارية:

- **Tor:** يعتمد على تبديل الدوائر؛ يعتمد على سلطات دليل موثوقة. (~10k relays)  
- **I2P:** يعتمد على تبديل الحزم؛ شبكة موزعة بالكامل مدفوعة بـ DHT (جدول التجزئة الموزع). (~50k routers)

أنفاق I2P أحادية الاتجاه تكشف بيانات وصفية أقل وتسمح بمسارات توجيه مرنة، بينما يركز Tor على الوصول المجهول **للإنترنت (outproxying)**. بدلاً من ذلك، يدعم I2P **الاستضافة المجهولة داخل الشبكة**.

### التشفير

*[الموقع الإلكتروني](https://freenetproject.org/)*

**Freenet** تركز على نشر واسترجاع الملفات بشكل مجهول ودائم. بينما **I2P**، على العكس، توفر **طبقة اتصالات فورية** للاستخدام التفاعلي (الويب، الدردشة، التورنت). معًا، يكمل النظامان بعضهما البعض — Freenet توفر تخزينًا مقاومًا للرقابة؛ I2P توفر إخفاء هوية النقل.

### Other Networks

- **Lokinet:** شبكة تراكب قائمة على IP تستخدم عقد خدمة محفزة.
- **Nym:** شبكة mixnet من الجيل التالي تركز على حماية البيانات الوصفية مع حركة مرور تغطية بزمن انتقال أعلى.

---

## Appendix A: Application Layer

I2P نفسه يتعامل فقط مع نقل الرسائل. يتم تنفيذ وظائف طبقة التطبيق خارجياً من خلال واجهات برمجة التطبيقات والمكتبات.

### Streaming Library {#streaming}

تعمل **مكتبة البث** (streaming library) كنظير TCP في I2P، مع بروتوكول نافذة منزلقة والتحكم في الازدحام مُعَدّل للنقل المجهول عالي زمن الاستجابة.

يمكن لأنماط طلب/استجابة HTTP النموذجية أن تكتمل غالبًا في رحلة ذهاب وإياب واحدة بفضل تحسينات تجميع الرسائل.

### Naming Library and Address Book

*طور بواسطة: mihi، Ragnarok*   راجع صفحة [التسمية ودفتر العناوين](/docs/overview/naming).

نظام التسمية في I2P **محلي ولامركزي**، مما يتجنب الأسماء العالمية على نمط DNS. يحتفظ كل router بتعيين محلي للأسماء المقروءة بشريًا إلى الوجهات. يمكن مشاركة أو استيراد دفاتر العناوين القائمة على شبكة الثقة (web-of-trust) الاختيارية من الأقران الموثوق بهم.

يتجنب هذا النهج السلطات المركزية ويتفادى نقاط الضعف المتعلقة بهجمات Sybil الموجودة في أنظمة التسمية العالمية أو القائمة على التصويت.

### تشغيل المسار المقيد

*طور بواسطة: mihi*

**I2PTunnel** هو واجهة طبقة العميل الرئيسية التي تتيح الوصول المجهول عبر بروكسي TCP. وهو يدعم:

- **أنفاق العميل** (صادرة إلى وجهات I2P)  
- **عميل HTTP (eepproxy)** لنطاقات ".i2p"  
- **أنفاق الخادم** (واردة من I2P إلى خدمة محلية)  
- **أنفاق خادم HTTP** (وكيل آمن لخدمات الويب)

الوصول إلى الإنترنت العادي (outproxying) اختياري، ويتم تنفيذه عبر أنفاق "خادم" يديرها متطوعون.

### I2PSnark {#i2psnark}

*تم تطويره بواسطة: jrandom وآخرون — منقول من [Snark](http://www.klomp.org/snark/)*

مُضمّن مع I2P، **I2PSnark** هو عميل BitTorrent مجهول متعدد التورنت مع دعم DHT وUDP، يمكن الوصول إليه عبر واجهة ويب.

### تور

*طُوِّر بواسطة: postman، susi23، mastiejaner*

**I2Pmail** يوفر البريد الإلكتروني المجهول من خلال اتصالات I2PTunnel. **Susimail** هو عميل قائم على الويب مُصمم خصيصًا لمنع تسرب المعلومات الشائع في عملاء البريد الإلكتروني التقليدية. خدمة [mail.i2p](https://mail.i2p/) تتميز بفلترة الفيروسات، وحصص [hashcash](https://en.wikipedia.org/wiki/Hashcash)، وفصل outproxy لحماية إضافية.

---
