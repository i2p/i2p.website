---
title: "SAM الإصدار 1"
description: "بروتوكول Simple Anonymous Messaging (مراسلة مجهولة بسيطة) القديم (مهمل)"
slug: "sam"
lastUpdated: "2025-03"
accurateFor: "0.9.20"
reviewStatus: "needs-review"
---

> **مهمل:** يُحتفظ بـ SAM v1 لأغراض مرجعية تاريخية فقط. على التطبيقات الجديدة استخدام [SAM v3](/docs/api/samv3/) أو [BOB](/docs/legacy/bob/). الجسر الأصلي يدعم فقط وجهات DSA-SHA1 ومجموعة محدودة من الخيارات.

## المكتبات

لا تزال شجرة الشيفرة المصدرية لـ Java I2P تتضمن bindings (واجهات ربط) قديمة للغات C وC# وPerl وPython. لم تعد هذه الواجهات قيد الصيانة، ويجري توزيعها أساساً من أجل التوافق الأرشيفي.

## تفاوض الإصدارات

يتصل العملاء عبر TCP (الافتراضي `127.0.0.1:7656`) ويتبادلون:

```
Client → HELLO VERSION MIN=1 MAX=1
Bridge → HELLO REPLY RESULT=OK VERSION=1.0
```
اعتبارًا من Java I2P 0.9.14 يكون المعامل `MIN` اختياريًا، وكلا `MIN`/`MAX` يقبلان صيغًا أحادية الرقم (`"3"` إلخ.) للجسور المُحدَّثة.

## إنشاء الجلسة

```
SESSION CREATE STYLE={STREAM|DATAGRAM|RAW} DESTINATION={name|TRANSIENT} [DIRECTION={BOTH|RECEIVE|CREATE}] [option=value]*
```
- `DESTINATION=name` يقوم بتحميل أو إنشاء مُدخل في `sam.keys`؛ بينما `TRANSIENT` يُنشئ دائمًا وجهةً مؤقتة.
- `STYLE` يختار التدفقات الافتراضية (مشابه لـ TCP)، أو رُزم بيانات موقَّعة، أو رُزم بيانات خام.
- `DIRECTION` تنطبق على جلسات التدفق فقط؛ والقيمة الافتراضية هي `BOTH`.
- تُمرَّر أزواج المفتاح/القيمة الإضافية كما هي كخيارات I2CP (على سبيل المثال، `tunnels.quantityInbound=3`).

يرد الجسر بما يلي:

```
SESSION STATUS RESULT=OK DESTINATION=name
```
تُرجِع حالات الفشل `DUPLICATED_DEST` أو `I2P_ERROR` أو `INVALID_KEY` بالإضافة إلى رسالة اختيارية.

## تنسيقات الرسائل

رسائل SAM هي ASCII أحادية السطر مع أزواج مفتاح/قيمة مفصولة بمسافات. تكون المفاتيح بترميز UTF‑8؛ وقد تُحاط القيم بعلامات اقتباس إذا كانت تحتوي على مسافات. لا توجد آلية escaping (الهروب) معرفة.

أنواع الاتصال:

- **التدفّقات** – تُمرَّر عبر وكيل من خلال مكتبة I2P للتدفق
- **داتاغرامات قابلة للرد** – حمولات مُوقَّعة (Datagram1)
- **داتاغرامات خام** – حمولات غير مُوقَّعة (Datagram RAW)

## الخيارات المضافة في 0.9.14

- `DEST GENERATE` يقبل `SIGNATURE_TYPE=...` (مما يسمح بـ Ed25519، إلخ.)
- `HELLO VERSION` يعتبر `MIN` اختيارياً ويقبل سلاسل إصدار مكوّنة من رقم واحد

## متى ينبغي استخدام SAM v1

فقط لضمان التوافق مع البرمجيات المتقادمة التي لا يمكن تحديثها. في جميع التطويرات الجديدة، استخدم:

- [SAM v3](/docs/api/samv3/) للوصول المتكامل الميزات إلى التدفق/الـdatagram (رزمة بيانات بلا اتصال)
- [BOB](/docs/legacy/bob/) لإدارة الوجهات (لا يزال محدوداً، لكنه يدعم ميزات أكثر حداثة)

## المراجع

- [SAM v2](/docs/legacy/samv2/)
- [SAM v3](/docs/api/samv3/)
- [مواصفة الداتاغرام](/docs/api/datagrams/)
- [بروتوكول التدفق](/docs/specs/streaming/)

SAM v1 وضع الأساس لتطوير تطبيقات غير مرتبطة بـ router محدد، لكن النظام البيئي قد تطوّر. اعتبر هذا المستند وسيلة للتوافق لا نقطة انطلاق.
