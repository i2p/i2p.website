---
title: "مناقشة Tunnel"
description: "استكشاف تاريخي لحشو tunnel، والتجزئة، واستراتيجيات الإنشاء"
slug: "tunnel"
layout: "single"
lastUpdated: "2019-07"
accurateFor: "0.9.41"
reviewStatus: "needs-review"
---

> **ملاحظة:** يوثق هذا الأرشيف أعمال تصميم تخمينية تسبق I2P 0.9.41. وللتنفيذ الإنتاجي، راجع [وثائق tunnel](/docs/specs/implementation/).

## بدائل التهيئة

الأفكار التي أُخذت في الاعتبار لخيارات ضبط tunnel المستقبلية شملت:

- محددات المعدّل لإيصال الرسائل
- سياسات الحشو (بما في ذلك chaff injection (حقن بيانات تمويهية))
- ضوابط عمر tunnel
- استراتيجيات الدُفعات والطوابير لتوزيع الحمولة

لم تكن أي من هذه الخيارات مضمّنة في التنفيذ القديم.

## استراتيجيات الحشو

المقاربات المحتملة للحشو التي نوقشت:

- من دون أي حشو إطلاقاً
- حشو بطول عشوائي
- حشو بطول ثابت
- حشو إلى أقرب كيلوبايت
- حشو إلى قوى العدد اثنين (`2^n` بايت)

أدّت القياسات المبكرة (الإصدار 0.4) إلى تحديد حجم رسالة tunnel الثابت الحالي البالغ 1024 بايت. قد تضيف رسائل garlic (أسلوب لتجميع الرسائل في I2P) ذات المستوى الأعلى حشواً خاصاً بها.

## التجزئة

لمنع هجمات الوسم عبر طول الرسالة، تكون رسائل tunnel ثابتة عند 1024 بايت. تتم تجزئة حمولات I2NP الأكبر بواسطة البوابة؛ وتقوم نقطة النهاية بإعادة تجميع الأجزاء خلال مهلة زمنية قصيرة. قد تقوم Routers بإعادة ترتيب الأجزاء لتعظيم كفاءة التعبئة قبل الإرسال.

## بدائل أخرى

### تعديل معالجة Tunnel في منتصف المسار

تمت دراسة ثلاثة احتمالات:

1. السماح لقفزة وسيطة بإنهاء الـtunnel مؤقتاً عبر منح إمكانية الوصول إلى الحمولات التي فُكّ تشفيرها.
2. السماح للـrouters المشاركة بـ“إعادة مزج” الرسائل بإرسالها عبر أحد الـtunnels الصادرة الخاصة بها قبل المتابعة إلى القفزة التالية.
3. تمكين منشئ الـtunnel من إعادة تعريف القفزة التالية لنظير بشكل ديناميكي.

### Tunnels ثنائية الاتجاه

إن استخدام tunnels الواردة والصادرة المنفصلة يقيّد مقدار المعلومات التي يمكن لأي مجموعة واحدة من الأقران الاطلاع عليها (مثلًا: طلب GET مقابل استجابة كبيرة). تُبسّط tunnels ثنائية الاتجاه إدارة الأقران لكنها تكشف أنماط حركة المرور كاملةً لكلا الاتجاهين في وقت واحد. لذلك بقي تصميم tunnels أحادية الاتجاه هو المفضّل.

### القنوات الخلفية والأحجام المتغيرة

إن السماح بأحجام رسائل tunnel متغيرة قد يتيح قنوات خفية بين نظراء متواطئين (مثل ترميز البيانات عبر أحجام أو ترددات مختارة). تخفف الرسائل ثابتة الحجم هذا الخطر على حساب عبء حشو إضافي.

## بدائل إنشاء Tunnel

مرجع: [Hashing it out in Public](http://www-users.cs.umn.edu/~hopper/hashing_it_out.pdf)

### أسلوب البناء «المتوازي» القديم

قبل الإصدار 0.6.1.10، كانت طلبات بناء tunnel تُرسل بالتوازي إلى كل مشارك. هذه الطريقة موثقة في [صفحة tunnel القديمة](/docs/legacy/old-implementation/).

### البناء التلسكوبي لمرة واحدة (الطريقة الحالية)

النهج الحديث يرسل رسائل البناء قفزةً تلو أخرى عبر الـ tunnel قيد البناء جزئياً. وعلى الرغم من تشابهه مع telescoping الخاص بـ Tor (أسلوب بناء المسار تدريجياً)، فإن توجيه رسائل البناء عبر tunnels الاستكشافية يقلّل من تسرّب المعلومات.

### “تفاعلي” Telescoping (التمديد التلسكوبي)

إن بناء قفزة واحدة في كل مرة مع جولات ذهاباً وإياباً صريحة يمكّن الأقران من عدّ الرسائل واستنتاج موضعهم داخل الـ tunnel، لذا رُفض هذا النهج.

### Tunnels الإدارية غير الاستكشافية

كان أحد المقترحات هو الحفاظ على مجموعة منفصلة من tunnels الإدارية لحركة المرور الخاصة ببناء الـtunnels. وعلى الرغم من أنه قد يساعد routers المعزولة، فقد اعتُبر غير ضروري مع تكامل شبكي كافٍ.

### التسليم الاستكشافي (قديم)

قبل 0.6.1.10، كانت طلبات tunnel الفردية تُشفَّر باستخدام garlic encryption وتُنقَل عبر tunnels استكشافية، مع عودة الردود بشكل منفصل. وقد استُبدلت هذه الاستراتيجية بالنهج الحالي one-shot telescoping method (طريقة تلسكوبية أحادية الخطوة).

## أهم النقاط

- رسائل tunnel ثابتة الحجم تحمي من الوسم القائم على الحجم والقنوات الخفية، رغم تكلفة الحشو الإضافية.
- تم استكشاف بدائل للحشو والتجزئة واستراتيجيات البناء، لكنها لم تُعتمد عند موازنتها مقابل مقايضات إخفاء الهوية.
- يواصل تصميم tunnel الموازنة بين الكفاءة وقابلية الرصد ومقاومة هجمات السلف والازدحام.
