---
title: "Setkání vývojářů I2P - 1. března 2022"
date: 2022-03-01
author: "i2p"
description: "Zápis z vývojářské schůzky I2P ze dne 1. března 2022."
categories: ["meeting"]
---

## Stručné shrnutí

<p class="attendees-inline"><strong>Přítomní:</strong> eyedeekay, zzz, zlatinb</p>

## Zápis ze schůzky

<div class="irc-log"> (03:01:40 PM) eyedeekay: Ahoj všichni, vítejte na vývojářské schůzce (03:01:40 PM) eyedeekay: 1. Ahoj  (03:01:40 PM) eyedeekay: 2. Stav vydání (1.7.0 / 0.9.53) (03:02:10 PM) zlatinb: ahoj (03:02:12 PM) zzz: ahoj (03:02:39 PM) eyedeekay: Máte dnes ještě něco k přidání do agendy, než začneme se stavem vydání? (03:03:01 PM) zlatinb: Mám dvě drobnosti, které by mohly spadat do položky „wishlist pro 1.8.0“ (03:03:25 PM) eyedeekay: 3) 1.8.0 wishlist (03:04:24 PM) eyedeekay: 2. Stav vydání(1.7.0/0.9.53) (03:05:37 PM) eyedeekay: Na mé straně mám ještě jednu položku, je problém s build procesem balíčku .aab, kde statické prostředky, které jsou zahrnuté ze sestavení `i2p.i2p`, jsou smazány a z finálního .aab chybí (03:06:06 PM) eyedeekay: Prozatím je GPlay zpožděný, dnes na tom pracuji a mělo by to být brzy hotové. (03:07:53 PM) eyedeekay: F-Droid i Freestanding jsou .apk, které používají starý build proces, který není rozbitý, takže to pořád funguje. (03:07:53 PM) eyedeekay: Jsou ještě nějaké další otevřené kroky vydání k dokončení? (03:10:03 PM) eyedeekay: zzz, máš něco k přidání k tématu stavu vydání ze své strany? Chápu správně, že BiglyBT dnes vydal svůj plugin? (03:10:22 PM) zzz: ano (03:10:48 PM) zzz: na základě statistik úspěšnosti sestavení průzkumných tunnels jsme se rychle zotavili z regrese i2pd v posledním vydání (03:10:52 PM) zzz: http://stats.i2p/docs/buildsuccess.png (03:11:11 PM) zzz: a jsme teď výš než kdykoli za posledních pár let, pokud si dobře pamatuji (03:12:11 PM) zzz: během dalšího týdne by se to mělo ustálit a uvidíme, kde jsme (03:12:13 PM) zzz: konec (03:12:21 PM) eyedeekay: To jsou vážně skvělé zprávy. Jsem rád, že to zatím vypadá dobře. (03:12:32 PM) eyedeekay: Díky, zzz (03:12:50 PM) eyedeekay: 3. 1.8.0 wishlist (03:13:17 PM) eyedeekay: zlatinb, je to tvoje (03:13:44 PM) zlatinb: ahoj, 1) zrychlení počáteční doby sestavení průzkumných tunnels a 2) JNA (03:14:05 PM) zlatinb: 1: Dělal jsem nějakou analýzu, 75 % průzkumných tunnels, které se sestaví, se sestaví za méně než 500 ms (03:14:29 PM) zlatinb: z cca 30 vzorků bylo nejpomalejší úspěšné sestavení kratší než 2500 ms (03:14:46 PM) zlatinb: zatímco současný timeout je 13000 ms, myslím, že jeho snížení dostane router do stavu RUNNING rychleji (03:15:07 PM) zlatinb: nemusíme se rozhodovat hned, jen házím nápad do placu (03:15:12 PM) zlatinb: konec k 1 (03:15:33 PM) zzz: k 1 žádné námitky (03:15:56 PM) eyedeekay: Zní to jako zajímavý experiment, který aspoň zkusit – nezdá se, že by to mohlo uškodit (03:16:12 PM) eyedeekay: Jestli jsou všechna úspěšná sestavení tak krátká (03:16:13 PM) zlatinb: 2: JNA – určitě budeme muset přidat JNA do Windows Easy-Install balíčku, abychom během automatické aktualizace zvýšili oprávnění. ProcessBuilder selže, pokud proces vyžaduje zvýšení oprávnění. (03:16:20 PM) zzz: i když bych rád viděl data za delší období, než vybereme nové číslo (03:16:25 PM) zlatinb: jasně (03:16:42 PM) zzz: prosím vrať se a definuj JNA (03:16:43 PM) zlatinb: (zpět k 1) nechám běžet router se zapnutým logováním (03:17:12 PM) zlatinb: (zpět ke 2): JNA je Java Native A-něco, ale v podstatě je to Java wrapper nativních knihoven pro Windows, Linux a Mac (03:17:27 PM) zlatinb: takže místo psaní native kódu píšete Java kód (03:17:52 PM) zlatinb: dva JARy mají dohromady 3 MB, komprimované LZMA na 2 MB (03:18:11 PM) zzz: prosím vrať se a rozveď problém a jak častý je (03:18:38 PM) zlatinb: při testování tichých aktualizací v muwire jsem viděl, že ProcessBuilder nedokáže spustit instalátor s hláškou „vyžadováno zvýšení oprávnění“ nebo tak něco (03:19:07 PM) zzz: problém pouze na Windows? (03:19:12 PM) zlatinb: googlení ukázalo, že to s ProcessBuilderem není možné (03:19:36 PM) zlatinb: ano, zatím jen Windows (03:19:40 PM) eyedeekay: U Windows Easy-Install se mi to nezdá, děje se to proto, že o zvýšená oprávnění žádá NSIS a ne Java? (03:20:02 PM) zlatinb: Žádá NSIS (03:20:16 PM) zlatinb: pokud už běží Java se zvýšenými oprávněními, tak se nezeptá (03:20:22 PM) zlatinb: privilege* (03:20:28 PM) zzz: jo, to je moje otázka, Windows Easy-Install je už měsíce a měsíce v betě, je to problém jen u muwire? (03:20:48 PM) eyedeekay: Aha, OK, pak se to začne dít před příští aktualizací se ShellExecAsUser (03:21:15 PM) zlatinb: zvyšujete oprávnění, když se to nespouští z instalátoru, eyedeekay? (03:21:48 PM) zlatinb: nevybavuji si, že bych viděl výzvu ke zvýšení oprávnění (03:22:12 PM) zlatinb: takže by se to mělo dít u Windows Easy-Install, pokud se to spouští z ikony na ploše, ne jako poslední krok instalátoru (03:22:14 PM) eyedeekay: Ne, nezvyšuji, běží to jako uživatel, který spustil batch skript, ale jen pokud I2P už neběží, předpokládám jako admin (03:22:52 PM) zzz: takže než začneme mluvit o řešení pro náš Windows easy-install balíček, ověřme, že ten problém skutečně je (03:22:57 PM) eyedeekay: Neukončuje to router spolu s prohlížečem (03:23:35 PM) eyedeekay: Mám tendenci si myslet, že bude, ale potvrdím to později tento týden (03:23:36 PM) zlatinb: takže pokud uživatel neodškrtne „spustit i2p nyní“ a nechá router běžet, poběží s vyššími oprávněními a při aktualizaci se nezeptá (03:23:43 PM) zlatinb: ok (03:24:22 PM) zlatinb: každopádně, s 1.7.0 se router spouští bez zvýšených oprávnění, i když se spustí z instalátoru (03:24:39 PM) zzz: a zatímco v muwire si můžeš jet podle svých pravidel, jakékoli řešení v našich oficiálních produktech bude muset být prověřeno z hlediska vhodnosti, údržby, kompatibility licencí atd. (03:24:57 PM) zlatinb: Apache 2.0 (03:25:45 PM) zlatinb: do budoucna nám JNA umožní v podstatě dělat cokoli s Windows API… registrovat shellové rozšíření, URI handlery, všechno tohle fajn (03:25:57 PM) zlatinb: konec k 2 (03:26:35 PM) zzz: pojďme udělat pár cyklů na easy-install auto-updateru, který zjevně nikdy nefungoval? (03:27:13 PM) zzz: nemusíte čekat na vydání i2p, dejte tam jen novou Javu nebo změňte něco jiného. pojďme ty bugy vychytat trochu rychleji (03:27:14 PM) eyedeekay: Bylo to rozbité, pak opravené a teď se to zjevně při příští aktualizaci zase rozbije (03:27:55 PM) eyedeekay: Ale druhé řešení z mé strany by bylo změnit instalátor tak, aby už nepoužíval %ProgramFiles% a instaloval někam bez potřeby zvýšených oprávnění (03:28:09 PM) zzz: dělejte vydání každý týden, dokud to nebude fungovat hladce. očividně tříměsíční tempo nestačí, aby to konvergovalo k něčemu, co funguje (03:28:32 PM) eyedeekay: Můžu (03:29:53 PM) eyedeekay: Díky, že jsi to za nás otevřel, zlatinb, něco dalšího k bodu 3? (03:29:58 PM) zzz: a to nám dá data o rozsahu problému s oprávněními, pokud vůbec je (03:30:00 PM) zzz: konec (03:30:21 PM) zlatinb: ne, konec z mé strany (03:30:57 PM) eyedeekay: Dobře, ještě něco k meetingu? timeout 1m (03:31:16 PM) zzz: také použijte novinky k tomu, abyste svým beta testerům řekli, pokud je aktualizace rozbitá a musí ji stáhnout znovu (03:31:35 PM) eyedeekay: udělám (03:32:05 PM) zzz: oba máte své vlastní news feedy, ale nepoužíváte je ke komunikaci se svými uživateli, spoléháte jen na moje položky v news? měli byste tu funkci začít testovat/používat (03:32:11 PM) zzz: konec (03:34:07 PM) eyedeekay: Jasně, v minulosti jsem přidával changelog i2p.firefox (03:34:54 PM) eyedeekay: Díky všem, že jste dorazili na meeting, vypadá to, že mám hodně práce, uvidíme se na IRC </div>
