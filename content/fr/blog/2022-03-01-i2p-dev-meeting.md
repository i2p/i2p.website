---
title: "Réunion des développeurs I2P - 1er mars 2022"
date: 2022-03-01
author: "i2p"
description: "Compte rendu de la réunion de développement I2P du 1er mars 2022."
categories: ["meeting"]
API_Translate: vrai
---

## Bref récapitulatif

<p class="attendees-inline"><strong>Présents:</strong> eyedeekay, zzz, zlatinb</p>

## Journal de réunion

<div class="irc-log"> (03:01:40 PM) eyedeekay: Bonjour à tous, bienvenue à la réunion des développeurs (03:01:40 PM) eyedeekay: 1. Bonjour  (03:01:40 PM) eyedeekay: 2. Statut de la version (1.7.0 / 0.9.53) (03:02:10 PM) zlatinb: salut (03:02:12 PM) zzz: bonjour (03:02:39 PM) eyedeekay: Quelque chose d’autre à ajouter à l’ordre du jour aujourd’hui avant que nous commencions le point sur l’état de la version ? (03:03:01 PM) zlatinb: J’ai deux petits points qui pourraient entrer dans une « liste de souhaits pour 1.8.0 » (03:03:25 PM) eyedeekay: 3) Liste de souhaits 1.8.0 (03:04:24 PM) eyedeekay: 2. Statut de la version(1.7.0/0.9.53) (03:05:37 PM) eyedeekay: De mon côté, il me reste un point : il y a un problème avec le processus de build du bundle .aab où des ressources statiques incluses depuis le build `i2p.i2p` sont supprimées du .aab final (03:06:06 PM) eyedeekay: Pour l’instant, la mise en ligne sur GPlay est retardée ; je travaille dessus aujourd’hui et ça devrait être réglé bientôt. (03:07:53 PM) eyedeekay: F-Droid et Freestanding sont tous deux des .apk qui utilisent l’ancien processus de build qui n’est pas cassé, donc ça fonctionne toujours. (03:07:53 PM) eyedeekay: Y a-t-il d’autres étapes de publication en attente à terminer ? (03:10:03 PM) eyedeekay: zzz, quelque chose à ajouter sur le sujet du statut de la version de ton côté ? Il me semble que BiglyBT a publié son plugin aujourd’hui, c’est bien ça ? (03:10:22 PM) zzz: oui (03:10:48 PM) zzz: d’après les stats de réussite des builds expl., nous nous sommes rapidement remis de la régression d’i2pd dans la dernière version (03:10:52 PM) zzz: http://stats.i2p/docs/buildsuccess.png (03:11:11 PM) zzz: et nous sommes maintenant à un niveau plus élevé que n’importe quand au cours des dernières années, si je me souviens bien (03:12:11 PM) zzz: les choses devraient se stabiliser d’ici une semaine et on verra où on en est (03:12:13 PM) zzz: eot (03:12:21 PM) eyedeekay: Excellente nouvelle. Content que ça se présente bien pour l’instant. (03:12:32 PM) eyedeekay: Merci zzz (03:12:50 PM) eyedeekay: 3. Liste de souhaits 1.8.0 (03:13:17 PM) eyedeekay: zlatinb, à toi (03:13:44 PM) zlatinb: salut, 1) accélérer le temps de build exploratoire initial et 2) JNA (03:14:05 PM) zlatinb: 1 : J’ai fait quelques analyses, 75 % des tunnels exploratoires qui se construisent le font en moins de 500 ms (03:14:29 PM) zlatinb: sur ~30 échantillons, le build réussi le plus lent était inférieur à 2500 ms (03:14:46 PM) zlatinb: alors que le timeout actuel est de 13000 ms, je pense que le réduire fera passer le router à l’état RUNNING plus rapidement (03:15:07 PM) zlatinb: pas besoin de décider maintenant, je lance juste l’idée (03:15:12 PM) zlatinb: eot pour le 1 (03:15:33 PM) zzz: pas d’objection pour le 1 (03:15:56 PM) eyedeekay: Ça semble être une expérience intéressante à tenter au moins, ça ne semble pas pouvoir faire de mal (03:16:12 PM) eyedeekay: Si tous les builds réussis sont si courts (03:16:13 PM) zlatinb: 2 : JNA — nous aurons clairement besoin d’ajouter JNA au bundle Windows Easy-Install afin d’élever les privilèges pendant l’auto‑mise à jour.  ProcessBuilder échoue si le processus requiert une élévation. (03:16:20 PM) zzz: même si j’aimerais voir des données sur une période plus longue avant de choisir le nouveau chiffre (03:16:25 PM) zlatinb: d’accord (03:16:42 PM) zzz: s’il te plaît, reprenons depuis le début et définis JNA (03:16:43 PM) zlatinb: (retour au 1) Je laisserai un router tourner avec la journalisation activée (03:17:12 PM) zlatinb: (retour au 2) : JNA, c’est Java Native A-quelque chose, mais en gros c’est un wrapper Java autour des bibliothèques natives Windows, Linux et Mac (03:17:27 PM) zlatinb: donc au lieu d’écrire du code natif, on écrit du code Java (03:17:52 PM) zlatinb: deux JARs pour une taille combinée de 3 Mo, compressés avec LZMA à 2 Mo (03:18:11 PM) zzz: s’il te plaît, reprenons et détaille le problème et son ampleur (03:18:38 PM) zlatinb: en testant les mises à jour silencieuses dans muwire, j’ai vu que ProcessBuilder n’arrive pas à lancer un programme d’installation avec un « privilege elevation required » ou quelque chose du genre (03:19:07 PM) zzz: problème uniquement sous Windows ? (03:19:12 PM) zlatinb: en googlant, j’ai découvert que ce n’est pas possible de le faire avec ProcessBuilder (03:19:36 PM) zlatinb: oui, uniquement sous Windows pour l’instant (03:19:40 PM) eyedeekay: Ça ne semble pas se produire avec Windows Easy-Install chez moi ; est‑ce parce que c’est NSIS qui demande les privilèges élevés et non Java ? (03:20:02 PM) zlatinb: c’est NSIS qui demande (03:20:16 PM) zlatinb: si tu exécutes déjà Java avec des privilèges, alors il ne demandera pas (03:20:22 PM) zlatinb: privilege* (03:20:28 PM) zzz: oui, c’est ma question : Windows Easy-Install est en bêta depuis des mois et des mois ; est‑ce un problème propre à muwire ? (03:20:48 PM) eyedeekay: Oh OK, alors ça commencera à se produire avant la prochaine mise à jour avec ShellExecAsUser (03:21:15 PM) zlatinb: est‑ce que tu élèves les privilèges si ce n’est pas lancé depuis l’installeur, eyedeekay ? (03:21:48 PM) zlatinb: je ne me souviens pas avoir vu une invite d’élévation (03:22:12 PM) zlatinb: donc ça devrait se produire avec Windows Easy-Install si c’est lancé depuis le raccourci sur le bureau, pas comme dernière étape d’un installeur (03:22:14 PM) eyedeekay: Non, je ne le fais pas : ça s’exécute en tant qu’utilisateur qui lance le script batch, mais seulement si I2P ne tourne pas déjà, vraisemblablement en tant qu’admin (03:22:52 PM) zzz: donc, avant de pouvoir parler d’une solution pour notre bundle Windows Easy-Install, vérifions qu’il y a bien un problème (03:22:57 PM) eyedeekay: Il ne ferme pas le router avec le navigateur (03:23:35 PM) eyedeekay: Je suis enclin à penser que si, mais je confirmerai plus tard cette semaine (03:23:36 PM) zlatinb: donc si l’utilisateur ne décoche pas la case « launch i2p now » et laisse le router tourner, il s’exécutera avec des privilèges et ne demandera pas lors de la mise à jour (03:23:43 PM) zlatinb: ok (03:24:22 PM) zlatinb: de toute façon, avec la 1.7.0 le router est lancé sans privilèges même s’il est lancé depuis l’installeur (03:24:39 PM) zzz: et même si tu peux suivre tes propres règles dans muwire, toute solution dans nos produits officiels devra être évaluée pour son adéquation, sa maintenabilité, la compatibilité de licence, etc. (03:24:57 PM) zlatinb: Apache 2.0 (03:25:45 PM) zlatinb: à l’avenir, JNA nous permet vraiment de faire tout ce qu’on veut avec les API Windows… enregistrer des extensions du shell, des gestionnaires d’URI, tout ce genre de choses (03:25:57 PM) zlatinb: eot pour le 2 (03:26:35 PM) zzz: faisons quelques cycles sur l’auto‑updater de l’Easy-Install, qui apparemment n’a jamais fonctionné ? (03:27:13 PM) zzz: pas besoin d’attendre une release I2P, il suffit de mettre un nouveau Java, ou de changer autre chose. travaillons les bugs un peu plus vite (03:27:14 PM) eyedeekay: Ça a été cassé, puis corrigé, et maintenant apparemment ça se recassera à la prochaine mise à jour (03:27:55 PM) eyedeekay: Mais l’autre solution de mon côté serait de modifier l’installeur pour qu’il n’utilise plus %ProgramFiles% et installe dans un emplacement non privilégié (03:28:09 PM) zzz: fais une release chaque semaine jusqu’à ce que ça marche sans accroc. de toute évidence, une cadence de 3 mois n’est pas assez rapide pour converger vers quelque chose qui fonctionne (03:28:32 PM) eyedeekay: Je peux faire ça (03:29:53 PM) eyedeekay: Merci d’avoir soulevé ces points pour nous, zlatinb ; autre chose sur le 3 ? (03:29:58 PM) zzz: et ça nous donnera des données sur l’ampleur du problème de privilèges, le cas échéant (03:30:00 PM) zzz: eot (03:30:21 PM) zlatinb: non, eot pour moi (03:30:57 PM) eyedeekay: Très bien, autre chose pour la réunion ? timeout 1 min (03:31:16 PM) zzz: aussi, utilisez les news pour dire à vos bêta‑testeurs si la mise à jour est cassée et qu’ils doivent retélécharger (03:31:35 PM) eyedeekay: je le ferai (03:32:05 PM) zzz: vous avez tous les deux vos propres flux de news, mais vous ne les utilisez pas pour parler à vos utilisateurs, vous comptez juste sur mes entrées de news ? vous devriez commencer à tester/utiliser cette fonctionnalité (03:32:11 PM) zzz: eot (03:34:07 PM) eyedeekay: Je peux, par le passé j’ai ajouté le changelog de i2p.firefox (03:34:54 PM) eyedeekay: Merci à tous d’être venus à la réunion, on dirait que j’ai beaucoup de travail à faire ; à plus sur IRC </div>
