---
title: "I2P Dev Meeting - February 07, 2006"
date: 2006-02-07
author: "jrandom"
description: "Biên bản cuộc họp phát triển I2P ngày 07 tháng 02 năm 2006."
categories: ["meeting"]
---

## Tóm tắt nhanh

<p class="attendees-inline"><strong>Có mặt:</strong> bar, cervantes, Complication, jrandom, KBlup, modulus, tethra, tmp</p>

## Nhật ký cuộc họp

<div class="irc-log"> 15:36 &lt;jrandom&gt; 0) hi 15:36 &lt;jrandom&gt; 1) Net status 15:36 &lt;jrandom&gt; 2) _PRE net progress 15:36 &lt;jrandom&gt; 3) I2Phex 0.1.1.37 15:36 &lt;jrandom&gt; 4) ??? 15:36 &lt;jrandom&gt; 0) hi 15:37  * jrandom waves 15:37 &lt;jrandom&gt; weekly status notes posted up @ http://dev.i2p.net/pipermail/i2p/2006-February/001258.html 15:37 &lt;bar&gt; hello 15:38 &lt;jrandom&gt; while y'all dig through that oh-so-exciting material, lets jump on in to 1) Net status 15:38 &lt;jrandom&gt; there hasn't been much changed on the live net in the last week, from an i2p perspective, so I don't really have much to add here 15:39 &lt;jrandom&gt; anyone have anything they want to bring up regarding the current net status? 15:39 &lt;KBlup&gt; I have seen terrible spikes of failing clients when running i2p for long... dunno if thats fits to 1) 15:39 &lt;jrandom&gt; KBlup: does that correlate to high cpu load or bandwidth consumption? 15:40 &lt;KBlup&gt; resuluts in msg-delay&gt; 10000ms :-/ 15:40 &lt;jrandom&gt; ah, very likely one of the causes of the _PRE net being developed :) 15:40 &lt;KBlup&gt; I think it then tries to establish new tunnels and fails constantly, which results in 300+ jobs some times... 15:41 &lt;KBlup&gt; my maschine is quite strong but overloaded with that... 15:41 &lt;jrandom&gt; aye, thats all been reworked along the way for 0.6.1.10, hang tight until thats ready 15:43 &lt;jrandom&gt; ok, anything else on 1), or shall we mosey on over to 2) _PRE net progress 15:43 &lt;+Complication&gt; 0.6.1.10 seems to contain substantial changed indeed 15:45 &lt;jrandom&gt; yeah, there's a lot of meat under here.  The current state is that the new creation code is in place and seems to be working properly, but now I'm using this opportunity to debug some of the underlying issues further 15:46 &lt;+Complication&gt; You mentioned having to cough up a lot of CPU time in advance 15:47 &lt;+Complication&gt; Would this cost now be associated with building any sort of a tunnel? 15:48 &lt;+Complication&gt; (meaning, before the construction, during a short while, you'd have to perform a batch of heavy crypto) 15:48 &lt;jrandom&gt; yes, all tunnel build requests will need to do k heavy crypto operations (where k = number of hops in the tunnel being built) 15:49 &lt;+Complication&gt; Whad I wanted to ask... is the interval just tighter than before, or the amount bigger too? 15:50 &lt;jrandom&gt; the amount is both bigger, smaller, and tighter.  tighter, in that they're all done upfront.  bigger, in that we can't short circuit and not do the encryption for a hop if an earlier hop rejects it, and smaller in that earlier hops fail a lot less 15:51 &lt;jrandom&gt; in addition, however, unlike earlier releases, we're no longer using ElGamal/AES+SessionTag for the tunnel requests - we use (fairly) straight ElGamal 15:52 &lt;+Complication&gt; ...and it couldn't be pre-calculated, unless one knew the final set that's going to succeed? 15:52 &lt;jrandom&gt; that means that while we used to be able to cheat without an asymmetric operation, we don't try to cheat anymore (as the cheating itself exposed a class of attacks) 15:53 &lt;+Complication&gt; (set of peers) 15:53 &lt;jrandom&gt; hmm, it could certainly be precalculated, assuming you know who the peers in the tunnel that are going to be asked 15:54 &lt;jrandom&gt; the new tunnel creation process is done on a separate thread, so it doesn't bog down the main job queue under load, and so that it can throttle itself better 15:54 &lt;+Complication&gt; Could one also assume that, barring change in available knowledge, one knows a few whom one is going to ask from, if attempts fail? 15:54 &lt;jrandom&gt; hmm, not entirely sure I follow 15:55 &lt;+Complication&gt; Or is knowing them already useless, since the struct must be redone from scratch? 15:56 &lt;+Complication&gt; (meaning: the ElGamals redone from scratch, at least) 15:56 &lt;jrandom&gt; ah, the structure is http://dev.i2p.net/cgi-bin/cvsweb.cgi/i2p/router/doc/tunnel-alt-creation.html?rev=HEAD#tunnelCreate.requestRecord 15:56 &lt;jrandom&gt; so, yes, if the next hop changes, the ElGamal must be redone 15:56 &lt;jrandom&gt; (if you precompute) 15:56 &lt;+Complication&gt; Right, I wasn't sure enough about that instantly 15:57 &lt;+Complication&gt; Now I realize it, though 15:57 &lt;jrandom&gt; otoh, we're really trying to get our build success rate up, and the new build process should be able to adapt to minimize unnecessary creations 15:58 &lt;+Complication&gt; How does it seem doing in reality? 15:58 &lt;jrandom&gt; (oh, that structure has been slightly modified on the _PRE branch: http://dev.i2p.net/cgi-bin/cvsweb.cgi/~checkout~/i2p/router/doc/tunnel-alt-creation.html?rev=1.1.2.1;content-type=text%2Fhtml#tunnelCreate.requestRecord ) 15:59 &lt;+Complication&gt; I noticed the detail about ElGamal encrypts taking a leap towards quickness... 15:59 &lt;jrandom&gt; well, the build success rate is much much higher than it is on the live net, but that may just be due to the small _PRE net size 16:00 &lt;jrandom&gt; yeah, creating a 2 hop structure, for instance, takes an average of 44ms over 1120 runs, as compared to the live net's ElGamal encryption time of 542ms (over 1344 runs) 16:02 &lt;jrandom&gt; (on the same box) 16:02 &lt;+Complication&gt; Would this 542 include retries on failure too, or just the pure building? 16:02 &lt;+Complication&gt; If it's pure building, I need to find my lower jaw... it's on the floor somewhere. :P 16:02 &lt;KBlup&gt; about that change of the exponent : at what scale does that affect anonymity? 16:02 &lt;jrandom&gt; no, thats the pure elGamal stat, since the live net doesn't build the new _PRE net structure 16:04 &lt;jrandom&gt; KBlup: anonymity?  none.  security?  according to what I've read, 228 bits is more than enough to match 2048bit ElGamal 16:04  * Complication doesn't know much about ElGamal's x and y 16:04 &lt;+Complication&gt; Not enough to comment meaninfully 16:06 &lt;+Complication&gt; If serious researchers consider the shorter x hard enough, and those crypto wonks didn't run away screaming... 16:06 &lt;@cervantes&gt; well not only that, but the implications of dropping to 1024/160 16:07 &lt;KBlup&gt; i guess i have to read the paper later ;) 16:07 &lt;+Complication&gt; cervantes: yes, it's better than that, for sure 16:08 &lt;+Complication&gt; Besides, what is the foremost attack this cipher must repel, and how long is the attack viable? 16:09 &lt;+Complication&gt; Could it be something which benefits you only if you break it quick, or also benefits if you break it eventually? 16:11 &lt;+Complication&gt; If I understand right, the immediate secret it guards is the next tunnel participant, right? 16:11 &lt;+Complication&gt; (or more precisely, the next-to-next one) 16:11 &lt;@modulus&gt; meeting ongoing? 16:11 &lt;+Complication&gt; (which only the next one may know) 16:11 &lt;@cervantes&gt; modulus: ayre 16:11 &lt;@cervantes&gt; -r 16:11 &lt;jrandom&gt; for a practical (yet insanely powerful) adversary, breaking it during the tunnel lifetime would be necessary.  breaking it after that tunnel lifetime would only help if you logged all network traffic and broke all tunnels (that is, after breaking the ephemeral transport layer crypto and working on the tunnel layer crypto) 16:11 &lt;jrandom&gt; so, we're talking on the order of minutes here, not decades 16:12 &lt;jrandom&gt; (so 1024bit is probably even overkill) 16:12 &lt;@cervantes&gt; is there a way to measure the risk in a meaningful way? 16:13 &lt;+Complication&gt; Besides, for a tunnel with more hops, the adversary would have to break several, right? 16:13 &lt;+Complication&gt; (though the builder would have to build several too) 16:13 &lt;@cervantes&gt; if we need no more than 1024 bits, then is it really necessary to use more?  16:14 &lt;@cervantes&gt; we can always use a stronger algo in 3 years time when we've got vastly more powerful quantum computers 16:14 &lt;@modulus&gt; jrandom: if the adversary would know that at time hh:mm something important is going to be tunneled is it likely they could break it somehow by logging? 16:14 &lt;jrandom&gt; Complication: right, they'd have to break several (and the DH keys protecting the transport layer) 16:14 &lt;@modulus&gt; afaik 1024bit is break()able with a lot of power 16:15 &lt;jrandom&gt; a lot of power and a decade 16:15 &lt;jrandom&gt; (or three) 16:15 &lt;@cervantes&gt; jrandom: is it difficult to try the weaker cipher? 16:15 &lt;@modulus&gt; i was under the impression that 1024bit composits were factorizable these days in a few months. 16:15 &lt;@cervantes&gt; could we roll out to the pre net  16:15 &lt;@cervantes&gt; and see whether it actually offers much benefit 16:16 &lt;@cervantes&gt; modulus: yes but they'd need to break several 16:16 &lt;@modulus&gt; if this is based on discrete log domain and all that stuff then i don't know anything 16:16 &lt;@modulus&gt; cervantes: aha 16:16 &lt;jrandom&gt; cervantes: it requires changes to a lot of structures, since we currently use 512byte slots.  though, perhaps we could just fill the first 256 bytes with 0x00 for testing 16:17 &lt;jrandom&gt; modulus: ElGamal is based on discrete log 16:17 &lt;@cervantes&gt; jrandom: worthy of testing? 16:17 &lt;@modulus&gt; right right, i was imagining RSA 16:17 &lt;@cervantes&gt; or better to focus on other things and return to it if necessary 16:18 &lt;jrandom&gt; definitely worth testing, though for the moment I'm hacking away at some transport layer evaluations 16:18 &lt;+Complication&gt; I guess it depends on how their calculation can be handled in real life. 16:18 &lt;jrandom&gt; (and the 44ms encryption time is good enough for the moment, though a 4ms encryption time would be even better :) 16:19 &lt;+Complication&gt; If it holds together with current computers, it will improve with newer machines. 16:19 &lt;@modulus&gt; especially if there comes crypto hw, as it is starting to come in some 16:19 &lt;jrandom&gt; but, of course, changing this parameter will not be done lightly or immediately.  but if someone has a good reason to avoid it, please get in touch 16:21 &lt;jrandom&gt; modulus: I've heard of dedicated AES and RSA chips, but nothing on DH/ElGamal.  otoh, when one looks to the NSA/etc as an adversary, where they can build their own, its possible 16:22 &lt;@cervantes&gt; they have crypto machines built on ring sprinkled donut technology 16:23  * Complication is willing to upgrade the Celeron 300 to Athlon 600, if it holds the tide of ring-sprinkled donuts :D 16:23 &lt;tethra&gt; heheh 16:24 &lt;jrandom&gt; mmMMmm donuts 16:25 &lt;jrandom&gt; ok, anyone have anything else on 2) _PRE net progress? 16:25 &lt;jrandom&gt; if not, lets jump on over to 3) I2Phex 0.1.1.37 16:26 &lt;jrandom&gt; Complication: wanna give us the skinny? 16:26 &lt;+Complication&gt; Well, it seems to work. :) 16:26 &lt;+Complication&gt; There is hope of getting more webcaches for extra redundancy soon. 16:27 &lt;jrandom&gt; word 16:27 &lt;jrandom&gt; hmm, do you think we need more webcaches?  don't we just need one to be up?  not that more hurts, of course 16:27 &lt;+Complication&gt; (if legion manages to solve the mysteries which haunted his initial try) 16:27 &lt;+Complication&gt; There's also a mystery bug in there, but it doesn't byte hard, and I'm trying to find it. 16:28 &lt;+Complication&gt; One up is enough 16:28 &lt;+Complication&gt; More just increases the chances that one is up 16:28 &lt;jrandom&gt; cool 16:28 &lt;+Complication&gt; Because at current stage, it will never drop webcaches as bad. Too few of them altogether. 16:29 &lt;+Complication&gt; (that routine will activate if there exist more than 10) 16:29 &lt;+Complication&gt; (if I remember correctly) 16:29 &lt;+Complication&gt; As for the bug: after a long time operating, the webcache subsystem sometimes stalls 16:30 &lt;+Complication&gt; Likely because a httpclient's GET request can't be aborted successfully 16:31 &lt;@modulus&gt; so it needs to die from time to time? 16:31 &lt;+Complication&gt; It's safe, and never seems to bite freshly joined machines 16:31 &lt;jrandom&gt; hmm, what does that mean, functionally?  after a while, it will stop registering with the webcache, so new people won't be given references to them? 16:31 &lt;+Complication&gt; If it bites a machine already well integrated, that machine can get enough peers from the peers it's already connected to 16:31 &lt;+Complication&gt; So currently the impact seems close to 0 16:31 &lt;@modulus&gt; cool 16:32 &lt;+Complication&gt; It's curious, just 16:32 &lt;@modulus&gt; no rule about when it will fail or anything? 16:32 &lt;+Complication&gt; modulus: generally not before 20 hours 16:33 &lt;+Complication&gt; And since I have no way of forcing it to occur, debugging is a bit slow 16:33 &lt;@modulus&gt; :_) 16:34 &lt;+Complication&gt; Either way, should I find it, I'll fix it, and should I not find it, I'll find other stuff to tinker with :) 16:34 &lt;jrandom&gt; :) 16:34 &lt;jrandom&gt; sounds like its just a symptom of some bugs we've seen in the streaming lib / eepproxy, so fixing those should fix this 16:35 &lt;+Complication&gt; Could be 16:38 &lt;jrandom&gt; ok great, nice work Complication 16:38 &lt;jrandom&gt; anyone have anything else on 3) I2Phex 0.1.1.37, or shall we jump on over to the catch-all, 4) ??? 16:41 &lt;jrandom&gt; (consider us jumped) 16:41 &lt;jrandom&gt; ok, anyone have anything else for the meeting? 16:42 &lt;tmp&gt; Or forever hold your breath? 16:43 &lt;jrandom&gt; and ever and ever 16:43  * jrandom winds up 16:43  * jrandom *baf*s the meeting closed </div>
