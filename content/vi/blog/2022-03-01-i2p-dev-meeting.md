---
title: "Cuộc họp các nhà phát triển I2P - ngày 01 tháng 3 năm 2022"
date: 2022-03-01
author: "i2p"
description: "Nhật ký cuộc họp phát triển I2P ngày 01 tháng 03 năm 2022."
categories: ["meeting"]
---

## Tóm tắt nhanh

<p class="attendees-inline"><strong>Có mặt:</strong> eyedeekay, zzz, zlatinb</p>

## Nhật ký cuộc họp

<div class="irc-log"> (03:01:40 PM) eyedeekay: Chào mọi người, chào mừng đến với cuộc họp phát triển (03:01:40 PM) eyedeekay: 1. Chào  (03:01:40 PM) eyedeekay: 2. Trạng thái phát hành (1.7.0 / 0.9.53) (03:02:10 PM) zlatinb: chào (03:02:12 PM) zzz: xin chào (03:02:39 PM) eyedeekay: Có gì khác cần thêm vào chương trình nghị sự hôm nay trước khi chúng ta bắt đầu phần trạng thái phát hành không? (03:03:01 PM) zlatinb: Tôi có hai mục nhỏ có thể nằm trong “danh sách mong muốn cho 1.8.0” (03:03:25 PM) eyedeekay: 3) Danh sách mong muốn 1.8.0 (03:04:24 PM) eyedeekay: 2. Trạng thái phát hành(1.7.0/0.9.53) (03:05:37 PM) eyedeekay: Về phía tôi còn một mục nữa: có một vấn đề với quy trình build gói .aab, trong đó các tài nguyên tĩnh được đưa vào từ build `i2p.i2p` bị xóa khỏi .aab cuối cùng (03:06:06 PM) eyedeekay: Tạm thời GPlay bị trì hoãn, tôi đang làm hôm nay và sẽ xong sớm. (03:07:53 PM) eyedeekay: F-Droid và Freestanding đều là .apk dùng quy trình build cũ chưa bị hỏng, nên vẫn hoạt động. (03:07:53 PM) eyedeekay: Còn quy trình phát hành nào khác đang dang dở cần hoàn tất không? (03:10:03 PM) eyedeekay: zzz bạn có gì bổ sung cho chủ đề trạng thái phát hành từ phía bạn không? Tôi hiểu là BiglyBT đã phát hành plugin của họ hôm nay, đúng không? (03:10:22 PM) zzz: đúng (03:10:48 PM) zzz: dựa trên thống kê thành công build expl., chúng ta đã phục hồi nhanh sau lỗi hồi quy của i2pd ở bản phát hành trước (03:10:52 PM) zzz: http://stats.i2p/docs/buildsuccess.png (03:11:11 PM) zzz: và hiện đang ở mức cao hơn bất kỳ thời điểm nào trong vài năm gần đây, nếu tôi nhớ không nhầm (03:12:11 PM) zzz: mọi thứ sẽ ổn định trong khoảng một tuần nữa và chúng ta sẽ xem tình hình thế nào (03:12:13 PM) zzz: eot (03:12:21 PM) eyedeekay: Đó là tin rất tuyệt. Vui vì mọi thứ trông ổn đến giờ. (03:12:32 PM) eyedeekay: Cảm ơn zzz (03:12:50 PM) eyedeekay: 3. Danh sách mong muốn 1.8.0 (03:13:17 PM) eyedeekay: zlatinb, mời bạn (03:13:44 PM) zlatinb: chào, 1) tăng tốc thời gian build thăm dò ban đầu và 2) JNA (03:14:05 PM) zlatinb: 1: Tôi đã phân tích một chút, 75% các tunnel thăm dò build thành công làm được trong dưới 500ms (03:14:29 PM) zlatinb: trong khoảng ~30 mẫu, build thành công chậm nhất là dưới 2500ms (03:14:46 PM) zlatinb: trong khi timeout hiện tại là 13000 ms, tôi nghĩ giảm con số đó sẽ đưa router vào trạng thái RUNNING nhanh hơn (03:15:07 PM) zlatinb: chúng ta không cần quyết định ngay, chỉ nêu ý tưởng thôi (03:15:12 PM) zlatinb: eot cho mục 1 (03:15:33 PM) zzz: không phản đối mục 1 (03:15:56 PM) eyedeekay: Nghe như một thử nghiệm thú vị để thử ít nhất, có vẻ không gây hại gì (03:16:12 PM) eyedeekay: Nếu tất cả các build thành công đều ngắn như vậy (03:16:13 PM) zlatinb: 2: JNA - chắc chắn chúng ta cần thêm JNA vào gói Windows Easy-Install để nâng đặc quyền trong quá trình auto-update.  ProcessBuilder sẽ lỗi nếu tiến trình yêu cầu nâng quyền. (03:16:20 PM) zzz: tuy nhiên tôi muốn xem dữ liệu trong khoảng thời gian dài hơn trước khi chọn con số mới (03:16:25 PM) zlatinb: được (03:16:42 PM) zzz: vui lòng quay lại và định nghĩa JNA (03:16:43 PM) zlatinb: (quay lại mục 1) Tôi sẽ để một router chạy với logging bật (03:17:12 PM) zlatinb: (quay lại mục 2): JNA là Java Native A-gì đó, nhưng về cơ bản là một wrapper bằng Java cho các thư viện gốc của Windows, Linux và Mac (03:17:27 PM) zlatinb: vì vậy thay vì viết mã native bạn viết mã Java (03:17:52 PM) zlatinb: hai file jar tổng cộng 3MB, nén bằng LZMA còn 2MB (03:18:11 PM) zzz: vui lòng quay lại và nói rõ vấn đề là gì và mức độ phổ biến của nó (03:18:38 PM) zlatinb: khi thử nghiệm cập nhật âm thầm trong muwire tôi thấy ProcessBuilder không khởi chạy được trình cài đặt với thông báo kiểu “privilege elevation required” hoặc gì đó tương tự (03:19:07 PM) zzz: vấn đề chỉ trên Windows? (03:19:12 PM) zlatinb: tìm trên Google cho thấy không thể làm điều đó với ProcessBuilder (03:19:36 PM) zlatinb: đúng, hiện tại chỉ Windows (03:19:40 PM) eyedeekay: Với tôi thì có vẻ không xảy ra trên Windows Easy-Install, có phải vì NSIS yêu cầu nâng đặc quyền chứ không phải Java không? (03:20:02 PM) zlatinb: NSIS đang yêu cầu (03:20:16 PM) zlatinb: nếu bạn đã chạy Java với đặc quyền thì nó sẽ không hỏi (03:20:22 PM) zlatinb: privilege* (03:20:28 PM) zzz: ừ đó là câu hỏi của tôi, Windows Easy-Install đã beta nhiều tháng rồi, đây có phải vấn đề chỉ của muwire không? (03:20:48 PM) eyedeekay: Ồ OK, vậy nó sẽ bắt đầu xảy ra trước bản cập nhật tiếp theo với ShellExecAsUser (03:21:15 PM) zlatinb: eyedeekay, bạn có nâng quyền nếu khởi chạy không phải từ trình cài đặt không? (03:21:48 PM) zlatinb: Tôi không nhớ đã thấy lời nhắc nâng quyền (03:22:12 PM) zlatinb: vậy nó sẽ xảy ra với Windows Easy-Install nếu khởi chạy từ lối tắt trên desktop, không phải như bước cuối của trình cài đặt (03:22:14 PM) eyedeekay: Không, tôi không, nó chạy với quyền của người dùng chạy tập lệnh batch, nhưng chỉ nếu I2P chưa chạy sẵn, giả định là với quyền admin (03:22:52 PM) zzz: vậy, trước khi bàn về giải pháp cho gói Windows Easy-Install của chúng ta, hãy xác minh là có vấn đề đã (03:22:57 PM) eyedeekay: Nó không tắt router cùng với trình duyệt (03:23:35 PM) eyedeekay: Tôi nghi là sẽ có, nhưng sẽ xác nhận vào cuối tuần này (03:23:36 PM) zlatinb: vậy nếu người dùng không bỏ chọn hộp “launch i2p now” và để router chạy, nó sẽ chạy với đặc quyền và sẽ không nhắc khi cập nhật (03:23:43 PM) zlatinb: ok (03:24:22 PM) zlatinb: dù sao thì, với 1.7.0 router được khởi chạy không có đặc quyền ngay cả khi khởi chạy từ trình cài đặt (03:24:39 PM) zzz: và dù bạn có thể làm theo quy tắc riêng trong muwire, mọi giải pháp trong sản phẩm chính thức của chúng ta sẽ phải được thẩm định về tính phù hợp, bảo trì, tương thích giấy phép, v.v. (03:24:57 PM) zlatinb: Apache 2.0 (03:25:45 PM) zlatinb: nhìn xa hơn, JNA thực sự cho phép chúng ta làm bất cứ gì với Windows API: đăng ký shell extension, URI handler, tất cả những thứ hay ho đó (03:25:57 PM) zlatinb: eot cho mục 2 (03:26:35 PM) zzz: hãy chạy vài vòng với auto-updater của Easy-Install, có vẻ như nó chưa bao giờ hoạt động? (03:27:13 PM) zzz: không cần đợi một bản phát hành I2P, chỉ cần đưa vào một Java mới, hoặc thay đổi thứ khác. hãy xử lý lỗi nhanh hơn một chút (03:27:14 PM) eyedeekay: Nó từng hỏng, rồi đã được sửa, giờ có vẻ sẽ lại hỏng ở bản cập nhật tiếp theo (03:27:55 PM) eyedeekay: Nhưng giải pháp khác từ phía tôi là đổi trình cài đặt để nó không dùng %ProgramFiles% nữa và cài vào đâu đó không yêu cầu đặc quyền (03:28:09 PM) zzz: phát hành mỗi tuần cho đến khi nó chạy trơn tru. rõ ràng nhịp 3 tháng là chưa đủ nhanh để hội tụ về thứ hoạt động (03:28:32 PM) eyedeekay: Làm được (03:29:53 PM) eyedeekay: Cảm ơn zlatinb đã nêu ra cho chúng tôi, còn gì ở mục 3 không? (03:29:58 PM) zzz: và như vậy sẽ cho chúng ta dữ liệu về mức độ của vấn đề đặc quyền, nếu có (03:30:00 PM) zzz: eot (03:30:21 PM) zlatinb: không, eot từ tôi (03:30:57 PM) eyedeekay: Được rồi còn gì nữa cho cuộc họp không? timeout 1m (03:31:16 PM) zzz: ngoài ra, dùng mục tin tức để báo cho beta tester của bạn nếu bản cập nhật bị hỏng và họ cần tải lại (03:31:35 PM) eyedeekay: sẽ làm (03:32:05 PM) zzz: cả hai bạn đều có nguồn tin tức riêng, nhưng không dùng nó để nói với người dùng của mình, chỉ dựa vào mục tin của tôi? bạn nên bắt đầu thử nghiệm/sử dụng tính năng đó (03:32:11 PM) zzz: eot (03:34:07 PM) eyedeekay: Có thể, trước đây tôi đã thêm changelog của i2p.firefox (03:34:54 PM) eyedeekay: Cảm ơn mọi người đã đến họp, xem ra tôi có nhiều việc phải làm, hẹn gặp mọi người trên IRC </div>
