---
title: "Библиотека Ministreaming (минималистичная библиотека для потоковой передачи данных)"
description: "Исторические заметки о первом TCP‑подобном транспортном уровне I2P"
slug: "ministreaming"
lastUpdated: "2025-02"
accurateFor: "historical"
---

> **Устарело:** Библиотека ministreaming предшествует современной [потоковой библиотеке](/docs/specs/streaming/). Современные приложения должны использовать полный streaming API или SAM v3. Приведенная ниже информация сохранена для разработчиков, изучающих устаревший исходный код, поставляемый в `ministreaming.jar`.

## Обзор

Ministreaming (минималистичный потоковый протокол) работает поверх [I2CP](/docs/specs/i2cp/), обеспечивая надёжную доставку с сохранением порядка на уровне сообщений I2P — подобно TCP поверх IP. Изначально он был выделен из раннего приложения **I2PTunnel** (под лицензией BSD), чтобы альтернативные транспорты могли развиваться независимо.

Ключевые ограничения проектирования:

- Классическая двухэтапная установка соединения (SYN/ACK/FIN), заимствованная из протокола TCP
- Фиксированный размер окна — **1** пакет
- Отсутствуют идентификаторы для каждого пакета и выборочные подтверждения

Эти решения позволили сохранить реализацию компактной, но ограничивают пропускную способность — каждый пакет обычно ждёт почти два RTT (время туда-обратно), прежде чем будет отправлен следующий. Для долгоживущих потоков эта цена приемлема, но короткие обмены в стиле HTTP заметно страдают.

## Связь с потоковой библиотекой

Текущая библиотека потоковой передачи расположена в том же пакете Java (`net.i2p.client.streaming`). Устаревшие классы и методы остаются в Javadoc и чётко помечены, чтобы разработчики могли распознавать API периода ministreaming (ранняя минимальная реализация потоковой библиотеки). Когда потоковая библиотека заменила ministreaming, она добавила:

- Более эффективная установка соединения с меньшим числом проходов туда-обратно
- Адаптивные окна перегрузки и логика ретрансляции
- Лучшая производительность поверх tunnels с потерями

## Когда Ministreaming (упрощённый протокол потоковой передачи в I2P) был полезен?

Несмотря на свои ограничения, ministreaming (минималистичная подсистема потоковой передачи) обеспечивал надежный транспорт в самых ранних развертываниях. API было намеренно небольшим и устойчивым к будущим изменениям, чтобы альтернативные движки потоковой передачи можно было подменять, не ломая код вызывающих компонентов. Приложения на Java подключали его напрямую; клиенты, не на Java, получали доступ к той же функциональности через поддержку [SAM](/docs/legacy/sam/) для потоковых сеансов.

Сегодня `ministreaming.jar` следует рассматривать лишь как слой совместимости. При новой разработке следует:

1. Ориентируйтесь на полную streaming library (библиотека потоков I2P, Java) или SAM v3 (стиль `STREAM`)  
2. Удалите любые сохраняющиеся допущения о фиксированном размере окна при модернизации кода  
3. Предпочитайте большие размеры окна и оптимизированные рукопожатия при установлении соединения, чтобы улучшить работу нагрузок, чувствительных к задержкам

## Справочник

- [Документация библиотеки Streaming](/docs/specs/streaming/)
- [Javadoc для Streaming](http://idk.i2p/javadoc-i2p/net/i2p/client/streaming/package-summary.html) – включает устаревшие классы ministreaming
- [Спецификация SAM v3](/docs/api/samv3/) – поддержка Streaming для приложений, не написанных на Java

Если вы сталкиваетесь с кодом, который всё ещё зависит от ministreaming (устаревшая упрощённая потоковая подсистема), планируйте перенос на современный потоковый API — сеть и её инструменты ожидают обновлённого поведения.
