---
title: "IRC через I2P"
description: "Полное руководство по IRC-сетям I2P, клиентам, туннелям и настройке сервера (обновлено 2025)"
slug: "irc"
lastUpdated: "2025-10"
accurateFor: "2.10.0"
---

## Обзор

**Ключевые моменты**

- I2P обеспечивает **сквозное шифрование** (end-to-end encryption) IRC-трафика через свои туннели. **Отключите SSL/TLS** в IRC-клиентах, если только вы не используете outproxy для выхода в clearnet.
- Предварительно настроенный клиентский туннель **Irc2P** по умолчанию прослушивает адрес **127.0.0.1:6668**. Подключите свой IRC-клиент к этому адресу и порту.
- Не используйте термин "router‑provided TLS". Используйте "встроенное шифрование I2P" или "сквозное шифрование" (end-to-end encryption).

## Быстрый старт (Java I2P)

1. Откройте **Hidden Services Manager** по адресу `http://127.0.0.1:7657/i2ptunnel/` и убедитесь, что туннель **Irc2P** **запущен**.
2. В вашем IRC-клиенте установите **server** = `127.0.0.1`, **port** = `6668`, **SSL/TLS** = **off**.
3. Подключитесь и присоединитесь к каналам, таким как `#i2p`, `#i2p-dev`, `#i2p-help`.

Для пользователей **i2pd** (маршрутизатор на C++), создайте клиентский tunnel в `tunnels.conf` (см. примеры ниже).

## Сети и серверы

### IRC2P (main community network)

- Федеративные серверы: `irc.postman.i2p:6667`, `irc.echelon.i2p:6667`, `irc.dg.i2p:6667`.
- Туннель **Irc2P** на `127.0.0.1:6668` подключается к одному из них автоматически.
- Типичные каналы: `#i2p`, `#i2p-chat`, `#i2p-dev`, `#i2p-help`.

### Ilita network

- Серверы: `irc.ilita.i2p:6667`, `irc.r4sas.i2p:6667`, `irc.acetone.i2p:6667`, `rusirc.ilita.i2p:6667`.
- Основные языки: русский и английский. Веб-интерфейсы доступны на некоторых хостах.

## Client setup

### Recommended, actively maintained

- **WeeChat (терминал)** — надёжная поддержка SOCKS; легко настраивается скриптами.
- **Pidgin (десктоп)** — всё ещё поддерживается; хорошо работает на Windows/Linux.
- **Thunderbird Chat (десктоп)** — поддерживается в ESR 128+.
- **The Lounge (самостоятельный хостинг, веб)** — современный веб-клиент.

### IRC2P (основная сеть сообщества)

- **LimeChat** (бесплатный, с открытым исходным кодом).
- **Textual** (платный в App Store; исходный код доступен для сборки).

### Сеть Ilita

#### WeeChat via SOCKS5

```
/proxy add i2p socks5 127.0.0.1 4447
/set irc.server.i2p.addresses "127.0.0.1/6668"
/set irc.server.i2p.proxy "i2p"
/connect i2p
```
#### Pidgin

- Протокол: **IRC**
- Сервер: **127.0.0.1**
- Порт: **6668**
- Шифрование: **выключено**
- Имя пользователя/ник: любое

#### Thunderbird Chat

- Тип учётной записи: **IRC**
- Сервер: **127.0.0.1**
- Порт: **6668**
- SSL/TLS: **выключен**
- Опционально: автоматическое подключение к каналам при соединении

#### Dispatch (SAM v3)

Пример значений по умолчанию в `config.toml`:

```
[defaults]
name = "Irc2P"
host = "irc.postman.i2p"
port = 6667
channels = ["#i2p","#i2p-dev"]
ssl = false
```
## Tunnel configuration

### Java I2P defaults

- Irc2P клиентский туннель: **127.0.0.1:6668** → upstream сервер на **порту 6667**.
- Hidden Services Manager: `http://127.0.0.1:7657/i2ptunnel/`.

### Рекомендуется, активно поддерживается

`~/.i2pd/tunnels.conf`:

```
[IRC-IRC2P]
type = client
address = 127.0.0.1
port = 6668
destination = irc.postman.i2p
destinationport = 6667
keys = irc-keys.dat
```
Отдельный туннель для Ilita (пример):

```
[IRC-ILITA]
type = client
address = 127.0.0.1
port = 6669
destination = irc.ilita.i2p
destinationport = 6667
keys = irc-ilita-keys.dat
```
### Опции macOS

- **Включите SAM** в Java I2P (по умолчанию отключен) на `/configclients` или в `clients.config`.
- Значения по умолчанию: **127.0.0.1:7656/TCP** и **127.0.0.1:7655/UDP**.
- Рекомендуемая криптография: `SIGNATURE_TYPE=7` (Ed25519) и `i2cp.leaseSetEncType=4,0` (ECIES‑X25519 с fallback на ElGamal) или просто `4` только для современных.

### Примеры конфигураций

- Java I2P по умолчанию: **2 входящих / 2 исходящих**.
- i2pd по умолчанию: **5 входящих / 5 исходящих**.
- Для IRC: **2–3 каждого** достаточно; установите явно для согласованного поведения на разных роутерах.

## Настройка клиента

- **Не включайте SSL/TLS** для внутренних IRC-соединений через I2P. I2P уже обеспечивает сквозное шифрование. Дополнительный TLS создаёт накладные расходы без выигрыша в анонимности.
- Используйте **постоянные ключи** для стабильной идентификации; избегайте пересоздания ключей при каждом перезапуске, если только не тестируете.
- Если несколько приложений используют IRC, предпочтительнее **отдельные туннели** (не общие), чтобы снизить корреляцию между сервисами.
- Если необходимо разрешить удалённое управление (SAM/I2CP), привяжите его к localhost и защитите доступ с помощью SSH-туннелей или аутентифицированных обратных прокси.

## Alternative connection method: SOCKS5

Некоторые клиенты могут подключаться через SOCKS5-прокси I2P: **127.0.0.1:4447**. Для достижения наилучших результатов предпочтительнее использовать выделенный IRC client tunnel на порту 6668; SOCKS не может очистить идентификаторы на уровне приложения и может допустить утечку информации, если клиент не предназначен для обеспечения анонимности.

## Troubleshooting

- **Не удаётся подключиться** — убедитесь, что туннель Irc2P запущен и роутер полностью загрузился (bootstrapped).
- **Зависает на resolve/join** — дважды проверьте, что SSL **отключён** и клиент указывает на **127.0.0.1:6668**.
- **Высокая задержка** — I2P имеет более высокую задержку по своей архитектуре. Держите количество туннелей умеренным (2–3) и избегайте циклов быстрого переподключения.
- **При использовании SAM-приложений** — убедитесь, что SAM включён (Java) или не заблокирован файрволом (i2pd). Рекомендуются долгоживущие сессии.

## Appendix: Ports and naming

- Стандартные порты IRC-туннелей: **6668** (по умолчанию для Irc2P), **6667** и **6669** как альтернативные.
- Имена хостов `.b32.i2p`: стандартная форма из 52 символов; существуют расширенные формы из 56+ символов для LS2/продвинутых сертификатов. Используйте имена хостов `.i2p`, если явно не требуются b32-адреса.
