---
title: "Срок истечения интродюсера"
number: "133"
author: "zzz"
created: "2017-02-05"
lastupdated: "2017-08-09"
status: "Closed"
thread: "http://zzz.i2p/topics/2230"
target: "0.9.30"
implementedin: "0.9.30"
---

## Обзор

Это предложение направлено на улучшение успешности введений. См.
[TRAC-TICKET]_.


## Мотивация

Интродюсеры истекают через определенное время, но эта информация не публикуется в
[RouterInfo]_. В настоящее время маршрутизаторы используют эвристики, чтобы оценить, когда
интродюсер больше не является действительным.


## Проектирование

В SSU [RouterAddress]_, содержащем интродюсеров, издатель может опционально
включать сроки истечения для каждого интродюсера.


## Спецификация

.. raw:: html

  {% highlight lang='dataspec' %}
iexp{X}={nnnnnnnnnn}

  X :: Номер интродюсера (0-2)

  nnnnnnnnnn :: Время в секундах (не мс) с начала эпохи.
{% endhighlight %}

Примечания
`````
* Каждое истечение должно быть больше даты публикации [RouterInfo]_,
  и меньше чем 6 часов после даты публикации RouterInfo.

* Маршрутизаторы-издатели и интродюсеры должны пытаться сохранять интродюсера действительным
  до истечения срока, однако они не могут гарантировать это.

* Маршрутизаторы не должны использовать опубликованных интродюсеров после их истечения срока.

* Истечения интродюсеров находятся в отображении [RouterAddress]_.
  Они не являются (в настоящий момент неиспользуемым) 8-байтным полем истечения в [RouterAddress]_.

Пример: ``iexp0=1486309470``


## Миграция

Нет проблем. Реализация является опциональной.
Обратная совместимость обеспечена, так как старые маршрутизаторы будут игнорировать неизвестные параметры.



## Ссылки

.. [RouterAddress]
    {{ ctags_url('RouterAddress') }}

.. [RouterInfo]
    {{ ctags_url('RouterInfo') }}

.. [TRAC-TICKET]
    http://{{ i2pconv('trac.i2p2.i2p') }}/ticket/1352
