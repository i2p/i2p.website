---
title: "LeaseSet 2"
number: "110"
author: "zzz"
created: "2014-01-22"
lastupdated: "2016-04-04"
status: "Rejected"
thread: "http://zzz.i2p/topics/1560"
supercededby: "123"
---

## Обзор

Это предложение касается нового формата LeaseSet с поддержкой новых типов
шифрования.


## Мотивация

Сквозная криптография, используемая в туннелях I2P, имеет отдельные ключи для
шифрования и подписи. Ключи подписи находятся в Destination туннеля, который уже
был расширен с помощью KeyCertificates для поддержки новых типов подписей.
Однако, ключи шифрования являются частью LeaseSet, который не содержит
сертификатов. Поэтому необходимо реализовать новый формат LeaseSet и добавить
поддержку его хранения в netDb.

Положительным моментом является то, что как только LS2 будет реализован,
все существующие Destinations смогут использовать более современные типы шифрования;
роутеры, которые могут получить и прочитать LS2, будут гарантированно иметь
поддержку всех типов шифрования, введенных вместе с ним.


## Спецификация

Базовый формат LS2 будет выглядеть так:

- dest
- опубликовано (8 байт)
- истекает (8 байт)
- подтип (1 байт) (обычный, зашифрованный, мета или сервис)
- флаги (2 байта)

- часть, специфичная для подтипа:
  - тип шифрования, ключ шифрования и лизы для обычного
  - блок данных для зашифрованного
  - свойства, хэши, порты, отзывки и т.д. для сервиса

- подпись
