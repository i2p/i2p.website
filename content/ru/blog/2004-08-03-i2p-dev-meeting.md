---
title: "Встреча разработчиков I2P - 03 августа 2004"
date: 2004-08-03
author: "jrandomi2p"
description: "Протокол совещания разработчиков I2P от 3 августа 2004 года."
categories: ["meeting"]
---

## Краткая сводка

<p class="attendees-inline"><strong>Присутствовали:</strong> alpaca\_, bogobot, cervantes, duck, hobbs, hypercubus, jrandom, jteitel, mihi, mrflibble, mule, mule2p, Nightblade, oOo, protok0l</p>

## Журнал встречи

<div class="irc-log"> 14:05 &lt;jrandomi2p&gt; 0) привет 14:05 &lt;jrandomi2p&gt; 1) статус 0.3.4 14:05 &lt;hypercubus&gt; гарантирую, что на PDforge ваш проект подтвердят практически мгновенно ;-) 14:05 &lt;jrandomi2p&gt; 2) В плане для 0.3.4.1 14:05 &lt;jrandomi2p&gt; 3) Новая веб-консоль / контроллер I2PTunnel 14:05 &lt;jrandomi2p&gt; 4) дела по 0.4 14:05 &lt;jrandomi2p&gt; 5) Прочая деятельность по разработке 14:05 &lt;jrandomi2p&gt; 6) ??? 14:05 &lt;jrandomi2p&gt; 0) привет 14:05 * jrandomi2p машет 14:05 &lt;mihi&gt; lla ih 14:05 * oOo дурачится 14:06 &lt;mihi&gt; всем привет 14:06 &lt;jrandomi2p&gt; еженедельные заметки о статусе опубликованы по адресу http://dev.i2p.net/pipermail/i2p/2004-August/000388.html 14:06 &lt;jrandomi2p&gt; переходим сразу к 1) статус 0.3.4 14:07 &lt;jrandomi2p&gt; сеть в целом работает, и для IRC, и для eepsites 14:07 &lt;jrandomi2p&gt; какая у вас надежность eepsite / какие отказы наблюдаете? 14:07 * jrandomi2p вижу тут сбои IRC, когда люди отключаются и т.п. 14:08 &lt;mule2p&gt; в целом хорошо, получил out-of-memory после примерно 25 Мбайт 14:08 &lt;mule2p&gt; но это, как ты говорил, уже исправлено в cvs 14:08 &lt;jrandomi2p&gt; ага, ок, это при одной загрузке 25 МБ, верно? 14:09 &lt;mule2p&gt; да 14:09 &lt;jrandomi2p&gt; понятно 14:10 &lt;jrandomi2p&gt; передачи больших файлов всё ещё, похоже, проблемны (со временем отваливается соединение, но не порча данных). думаю, мод, о котором упоминали, может это исправить, но не уверен 14:11 * jrandomi2p забыл упомянуть, что roundtrip/connections_reliability.php от oOo включает оба irc-сервера здесь, не только i2p, так что сейчас данных там не совсем те 14:11 &lt;jrandomi2p&gt; oOo — мысли, что нужно, чтобы заставить код bogobot игнорировать @irc.metropipe.net? 14:12 &lt;duck&gt; кикну hypercubus 14:12 &lt;duck&gt; и себя — чтобы обновиться 14:12 &lt;oOo&gt; Кода совсем немного, ревью от hypercubus и обновление bogobot от duke 14:13 &lt;jrandomi2p&gt; ок, круто 14:13 &lt;hypercubus&gt; duke? 14:13 &lt;oOo&gt; duck, сорри :p 14:13 * jrandomi2p думает, такой статистический обзор был бы очень полезен 14:13 &lt;jrandomi2p&gt; duke duck 14:14 &lt;oOo&gt; Статы сделаны на PHP, их можно передать и duck 14:14 &lt;jrandomi2p&gt; ок, есть что обсудить по поводу 0.3.4? 14:14 &lt;jrandomi2p&gt; w3rd 14:15 &lt;jrandomi2p&gt; ок, переходим к 2) 0.3.4.1 14:15 &lt;jrandomi2p&gt; не знаю, что ещё добавить сверх того, что в письме 14:16 &lt;jrandomi2p&gt; приложения StreamSinkServer и StreamSinkClient — компактные демки для ministreaming (для Java‑разработчиков, которые хотят писать стриминг поверх i2p) 14:16 &lt;jrandomi2p&gt; ах да, и StreamSinkServer немного похож на dropbox‑приложение aum на python (он принимает любые данные от кого угодно и пишет их в файл) 14:17 &lt;jrandomi2p&gt; (StreamSinkClient отправляет фиксированный объём случайных данных, так что не слишком полезен ;) 14:17 &lt;jrandomi2p&gt; есть мысли / опасения / вопросы по поводу 0.3.4.1? 14:18 * jrandomi2p оценивает, что выйдет через день‑два 14:19 &lt;jrandomi2p&gt; ок, двигаемся хорошим темпом к 3) Новая веб-консоль / контроллер I2PTunnel 14:20 &lt;jrandomi2p&gt; как писал в письме, у нас новая веб‑консоль в целом уже работает, и есть простой веб‑интерфейс для управления / редактирования / создания экземпляров i2ptunnel 14:21 &lt;protok0l&gt; где protok0l может это взять 14:22 &lt;protok0l&gt; и что делать с jetty 14:22 &lt;jrandomi2p&gt; всё это уже в cvs, но мне нужно выложить доки по настройке 14:22 &lt;protok0l&gt; ок 14:23 * jrandomi2p написал и скинул в канал процесс из ~5 шагов несколько дней назад, но нам нужна более простая процедура (или хотя бы понятнее) 14:23 &lt;protok0l&gt; слышал, что CVS отстой 14:23 &lt;mule2p&gt; ок, скажу, как только будут доки :) 14:23 &lt;protok0l&gt; и есть какая-то штука получше CVS 14:23 * oOo успел залогировать только первые 2 шага, прежде чем отвалился :p 14:24 &lt;protok0l&gt; как и с Vi 14:24 &lt;protok0l&gt; лол 14:24 &lt;jrandomi2p&gt; в итоге перейдём к тому, чтобы новая консоль стала «стандартной», но, вероятно, подождём, пока всё не будет интегрировано с новым установщиком hypercubus 14:26 &lt;jrandomi2p&gt; вообще 14:26 &lt;jrandomi2p&gt; для смелых — вот те страшные шаги, что я ранее писал: 14:26 &lt;jrandomi2p&gt; 20:19 &lt;jrandom&gt; w3rd hyper - could you pull latest from cvs, 'ant dist', grab build/*jar and toss them into your lib dir, mkdir $instDir/webapps/ ; cp build/routerconsole.war $instDir/webapps/  ; edit your router.config to uncomment the clientApp.3.* lines and update your classpath 14:26 &lt;jrandomi2p&gt; 20:19 &lt;jrandom&gt; (in the classpath, set it to: lib/i2p.jar:lib/router.jar:lib/mstreaming.jar:lib/heartbeat.jar:lib/i2ptunnel.jar:lib/netmonitor.jar:lib/sam.jar:lib/timestamper.jar:lib/ant.jar:lib/jasper-compiler.jar:lib/jasper-runtime.jar:\ 14:26 &lt;jrandomi2p&gt; 20:19 &lt;jrandom&gt; lib/jnet.jar:lib/org.mortbay.jetty.jar:lib/routerconsole.jar:lib/xercesImpl.jar:lib/xml-apis.jar:lib/javax.servlet.jar 14:26 &lt;protok0l&gt; ок, к чёрту 14:27 &lt;jrandomi2p&gt; в дополнение к этому есть новый i2ptunnel.war — возьми его, положи в $instDir/webapps/ и зайди на http://localhost:7657/i2ptunnel/ 14:27 &lt;jrandomi2p&gt; да, как я и говорил, это боль 14:27 &lt;jrandomi2p&gt; но оно работает, и у меня нет ни времени, ни компетенции, чтобы сделать сильно лучше 14:27 &lt;oOo&gt; Это всё, что нужно сделать? 14:28 &lt;jrandomi2p&gt; ага 14:28 &lt;oOo&gt; Ок, спасибо 14:28 &lt;jrandomi2p&gt; (получишь что-то вроде http://dev.i2p.net/~jrandom/config.png, когда зайдёшь на http://localhost:7657/config.jsp 14:29 &lt;jrandomi2p&gt; в общем, вот так 14:29 &lt;jrandomi2p&gt; буду признателен, если/когда покрутите это и, надеюсь, предложите, как улучшить :) 14:30 &lt;jrandomi2p&gt; mihi: какие мысли по веб‑интерфейсу? 14:30 &lt;duck&gt; классное оформление 14:31 &lt;jrandomi2p&gt; думал, тебе понравится, duck ;) 14:31 &lt;mrflibble&gt; неплохо 14:31 * mihi тоже нравится оформление 14:31 &lt;mihi&gt; веб‑интерфейсы всегда круто 14:32 &lt;jrandomi2p&gt; та, что я сделал для i2ptunnel.war, довольно скучная... функциональная, но скучная 14:33 &lt;jrandomi2p&gt; ок, на этом всё — если/когда захотите обсудить дальше, у нас есть irc и список рассылки и т.д. :) 14:33 &lt;mule2p&gt; jrandomi2p: clientApp.3 это netmonitor у меня 14:34 &lt;jrandomi2p&gt; ага, ок, mule2p — посмотри router.config из cvs — 14:34 &lt;jrandomi2p&gt; #clientApp.3.main=net.i2p.router.web.RouterConsoleRunner 14:34 &lt;jrandomi2p&gt; #clientApp.3.name=webConsole 14:34 &lt;jrandomi2p&gt; #clientApp.3.args=7657 127.0.0.1 ./webapps/ 14:34 &lt;jrandomi2p&gt; очевидно, поменяй 3 на 4 и раскомментируй :) 14:35 &lt;jrandomi2p&gt; замени 127.0.0.1, если хочешь доступ извне 14:35 &lt;jrandomi2p&gt; (и 7657 — если хочешь другой порт) 14:36 &lt;mule2p&gt; ок, спасибо, смотрел в выкачанном дереве i2p новый router.config, но может быть он где-то ещё в cvs 14:36 &lt;jrandomi2p&gt; ох, сорри, да, это i2p/installer/java/src/router.config.template 14:37 &lt;mule2p&gt; к 14:37 &lt;jrandomi2p&gt; ок, если больше ничего, переходим к 4) дела по 0.4  14:38 &lt;jrandomi2p&gt; хмм, не знаю, могу ли добавить что-то к тому абзацу в письме 14:38 &lt;jrandomi2p&gt; по сути просто кучка пунктов в моём todo‑листе :) 14:39 &lt;jrandomi2p&gt; у кого‑нибудь есть вопросы / замечания по написанному там? 14:40 &lt;oOo&gt; Как продвигается установщик? ^^ 14:40 &lt;jrandomi2p&gt; hypercubus?  que tal? 14:40 &lt;hypercubus&gt; терпение, danielsan... хорошее приходит к тем, кто чешется... эм, стой ;-) 14:40 &lt;jrandomi2p&gt; хехе 14:41 &lt;jrandomi2p&gt; не спешу, просто интересно, как идут дела 14:41 &lt;jrandomi2p&gt; какие-то проблемы, с чем можем помочь, и т.д.? 14:41 &lt;mihi&gt; кто такой danielsan? 14:41 &lt;hypercubus&gt; проблем нет, только скука тестирования на данный момент 14:42 &lt;jrandomi2p&gt; w3rd 14:42 &lt;hypercubus&gt; надо было сначала написать unit‑тесты, ну да ладно ;-) 14:42 &lt;jrandomi2p&gt; хехе 14:43 &lt;hypercubus&gt; заявленная платформенная независимость Java реально ломается, когда дело доходит до задач установки 14:44  * jrandom чувствует массовый дисконнект 14:45 &lt;oOo&gt; Ой-ой 14:45 &lt;hypercubus_&gt; хммм, прекрасно... что я последнее сказал? 14:45 &lt;oOo&gt; &lt;hypercubus&gt; java's supposed platform independence really breaks down in the area of installation tasks 14:46 &lt;hypercubus&gt; ок, кто саботировал встречу? ;-) 14:46  * jrandom винит jebus 14:46 &lt;hypercubus&gt; может, это был duke 14:46 &lt;mule&gt; вы же не хотите сказать, что мой router настолько важен :) 14:46 &lt;jrandom&gt; хех 14:47 &lt;mihi&gt; [23:46] * jrandomi2p вышел из IRC (Client exited) 14:47 &lt;mihi&gt; хехе... 14:47 &lt;mule&gt; если так, сорри. 14:47 &lt;hypercubus&gt; в любом случае, не переживайте насчёт прогресса установщика, я ожидаю, что он будет готов к выходу 0.4 14:47 &lt;jrandom&gt; duck: сколько inbound tunnels у тебя слушает на irc.duck.i2p?  14:47 &lt;hypercubus&gt; не сталкиваюсь ни с чем особо головоломным 14:47 &lt;jrandom&gt; круто, hypercubus 14:47 &lt;hobbs&gt; Кстати — есть ли способ из командной строки сгенерировать новый router.config из router.config.template? 14:47 &lt;jrandom&gt; нет 14:48 &lt;jrandom&gt; насколько мне известно — нет 14:48 &lt;mihi&gt; запусти установщик и скопируй его 14:48 &lt;jrandom&gt; кроме как java -jar install.jar  14:48 &lt;jrandom&gt; хех 14:48 &lt;mihi&gt; в новый каталог, я имею в виду 14:48 &lt;cervantes&gt; по крайней мере не то «чесание головы», о котором вы все подумали 14:48 &lt;jrandom&gt; ого, мой router сделал core dump 14:48 &lt;duck&gt; jrandom: напомни, как узнать хэш irc.duck.i2p 14:48 * hypercubus интересуется, что имеет в виду cervantes 14:49 &lt;jrandom&gt; cd lib ; java -cp i2p.jar net.i2p.data.TestData display Destination ../irc.privKey 14:49 &lt;cervantes&gt; hyper: тебе больше знаком термин strunking :) 14:49 &lt;hypercubus&gt; duck: попробуй увеличить до 3 или больше inbound tunnels... кажется, мне это помогло 14:50 &lt;duck&gt; *** Building a seperate global context! 14:50 &lt;duck&gt; Log file logger.config does not exist 14:50 &lt;duck&gt; 23:49:47.387 ERROR [main        ] net.i2p.util.LogManager       : Log file logger.config does not exist 14:50 &lt;duck&gt; 23:49:49.589 CRIT  [ 1 shutdown ] net.i2p.util.LogManager       : Shutting down logger 14:50 &lt;jrandom&gt; ах, хмм 14:50 &lt;hypercubus&gt; похоже, он не смог справиться с твоим логом, кхм 14:51 &lt;mihi&gt; скопируй свой logger.config повсюду ;) 14:51 &lt;mihi&gt; по крайней мере везде, где у тебя может быть pwd (рабочий каталог) при запуске любого i2p‑приложения 14:51 &lt;duck&gt; нет, не буду 14:51 &lt;jrandom&gt; ок, echo logger.record.net.i2p.data.TestData=INFO&gt;&gt; logger.config 14:52 &lt;jrandom&gt; вообще, поэтому я и сказал (cd lib), но забыл, что сменил дефолт с DEBUG на ERROR в cvs 14:52 &lt;duck&gt; 4 входящих 14:52 &lt;jrandom&gt; 4 текущих и готовых? 14:52 &lt;jrandom&gt; или 2 не готовы (или недавно истекли) и 2 готовы? 14:53 &lt;duck&gt; теперь стало 3, из них 1 не готов 14:53 &lt;jrandom&gt; ок, значит это, вероятно, во время истечения / замены tunnel 14:54 &lt;jrandomi2p&gt; если обновишь router.config, указав 3 inbound tunnels, это должно помочь с надёжностью 14:54 &lt;jrandomi2p&gt; (или можешь сделать это через новый веб‑интерфейс i2ptunnel ;) 14:54 &lt;hypercubus&gt; возможно, срок действия tunnel для одного клиента с несколькими tunnels стоит разнести по времени 14:55 &lt;jrandomi2p&gt; так и есть, в целом — новые tunnels выделяются, и новый leaseSet создаётся за 60с до истечения срока tunnel 14:55 &lt;hypercubus&gt; ага 14:55 &lt;jrandomi2p&gt; однако при сбое tunnel приходится создавать новый leaseSet по требованию, который не распространяется мгновенно 14:56 &lt;jrandomi2p&gt; (ну, он уходит в netDb, но клиенты увидят это лишь через несколько секунд) 14:57 &lt;jteitel&gt; !who 14:57 &lt;alpaca_&gt; Userlist for #i2p: [hobbs] [Iakin3] [duck] [pwk__] [Sonium] [jar] [alpaca_] [interrupt] [protok0l] [mihi] [aum] [Shaun-Away] [cervantes] [jrandom] [deer] [hirvox] [Bladenight]  14:57 &lt;bogobot&gt; Userlist for #i2p: [shendaras] [duck] [josh] [mule2p] [aum] [mrflibble] [hypercubus] [TrueSeeker] [laggybot] [bogobot] [ion_] [mihi] [ion] [mule] [jteitel] [ant] [oOo_] [jrandomi2p] [dm] [ugha2p] [Ch0Hag] [jnk] [oOo] [soros] [bob] [revival] [DrWoo] [thetower]  14:57 &lt;jrandomi2p&gt; есть ещё оптимизации пула tunnels, но не уверен, насколько это полезно сейчас 14:57 &lt;jrandomi2p&gt; ок, вернёмся к теме — есть что-то ещё по 4) делам 0.4? 14:57 &lt;oOo&gt; Насчёт «масштабных симуляций» для 0.4 — как можно подготовиться? Нужны «новые» специфичные приложения/утилиты? (переход к пункту 5? ;) ) 14:58 &lt;jrandomi2p&gt; вообще, для симуляции было бы круто, если кто-то помог бы модифицировать heartbeat (или приложение на SAM) в нечто вроде скриптуемого клиента/сервера 14:59 -!- Bladenight is now known as Nightblade 14:59 &lt;jrandomi2p&gt; (например, вместо текущего «каждые 30s отправлять 20KB пиру X», сделать «в течение 10 минут попросить у пира X файл 1MB, затем сделать паузу на 60m, затем попросить у пира Y файлы по 1KB» и т.д.) 15:00 &lt;jrandomi2p&gt; если кто-то хочет помочь с этим, дайте знать — можем пообщаться 15:00 &lt;jrandomi2p&gt; эр, поговорить 15:00 &lt;jrandomi2p&gt; используя это как подводку, перейдём к 5) чем вы занимаетесь :) 15:01 &lt;jrandomi2p&gt; не уверен, как это озвучить — давайте просто пойдём в (произвольном) порядке из письма для апдейтов? 15:01 &lt;jrandomi2p&gt; не вижу здесь sunshine, а aum, вероятно, ещё не проснулся ;) 15:02 &lt;jrandomi2p&gt; Nightblade — как идёт битва?  15:02 &lt;Nightblade&gt; у меня есть планы сделать интерфейс libsam похожим на BSD sockets 15:02 &lt;Nightblade&gt; но я пока ещё не писал код для этой части 15:02 &lt;duck&gt; поменял на tunnels.numInbound=3 15:03 &lt;jrandomi2p&gt; круто, duck (надеюсь, подождёшь до конца встречи, прежде чем рестартить свой tunnel ;) 15:03 &lt;duck&gt; о, он не подхватывает изменения? 15:03 &lt;jrandomi2p&gt; ок, Nightblade — есть проблемы с тем, как сейчас? 15:03 &lt;hypercubus&gt; пока не закодишь ;-) 15:03 &lt;jrandomi2p&gt; неа, duck, строки clientApp читаются только при старте 15:04 &lt;jrandomi2p&gt; (clientApp на самом деле вне контроля router — для этого и есть веб‑приложение i2ptunnel) 15:04 &lt;Nightblade&gt; нет, проблем нет с тем, как сейчас... то, что я делал бы, — это дополнение к уже имеющемуся интерфейсу (разработчики могли бы выбирать, что им использовать) 15:04 &lt;jrandomi2p&gt; круто 15:05 &lt;jrandomi2p&gt; ок, ты босс. Разнообразие — это хорошо, хотя это значит больше кода для поддержки и т.д., но нужен баланс 15:06 &lt;jrandomi2p&gt; ок, дальше по списку — mule2p — как дела с outproxy? 15:07 &lt;mule&gt; ничего сверх того патча, что у тебя 15:07 &lt;jrandomi2p&gt; ах ок, думал, ты над дальнейшей модификацией работаешь 15:07 &lt;mule&gt; нужно найти немного времени для настоящей балансировки нагрузки 15:07 &lt;jrandomi2p&gt; w3rd 15:08 &lt;jrandomi2p&gt; тогда применю тот патч 15:08 &lt;mule&gt; спасибо. и включи мой outproxy в клиентское приложение :) кажется быстрее 15:08 &lt;jrandomi2p&gt; хех, ну, конечно, твой proxy для тебя быстрее, он локальный :) 15:09 &lt;oOo&gt; И никто больше им не пользуется ^^ 15:09 &lt;mule&gt; нет, не локальный 15:09 &lt;jrandomi2p&gt; о, он на другом router? круто 15:09 &lt;mule&gt; ага, на корневом сервере у провайдера 15:10 &lt;jrandomi2p&gt; в веб‑интерфейсе i2ptunnel есть поле, где можно указать список outproxies, так что людям будет легко подстроить, но мы добавим это в следующей ревизии и release notes 15:10 &lt;jrandomi2p&gt; круто 15:11 &lt;jrandomi2p&gt; ок, nickster, похоже, сейчас оффлайн 15:12 &lt;jrandomi2p&gt; есть ещё активные работы по клиентам? 15:12 &lt;jrandomi2p&gt; (или из приостановленных что-то ожило, и т.п.?) 15:13 &lt;jrandomi2p&gt; ок, если кто-то хочет добавить — как всегда, есть список и канал :) 15:13 &lt;jrandomi2p&gt; переходим к 6) ??? 15:13 &lt;jrandomi2p&gt; у кого-то ещё есть что поднять? 15:14 &lt;Nightblade&gt; нет 15:15 &lt;mihi&gt; у duck есть что опустить ;) 15:15 &lt;mihi&gt; s/any/some/ 15:15 * jrandomi2p устраивает пингфлуд mihi 15:15 &lt;jrandomi2p&gt; ок, на этой ноте 15:15 * jrandomi2p размахивается 15:15 * jrandomi2p *baf* закрывает встречу </div>
