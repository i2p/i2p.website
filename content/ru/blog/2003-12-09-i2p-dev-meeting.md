---
title: "Встреча разработчиков I2P - 9 декабря 2003"
date: 2003-12-09
author: "jrand0m"
description: "Встреча по разработке I2P, посвящённая обновлениям проекта и техническим обсуждениям"
categories: ["meeting"]
---

(Предоставлено Wayback Machine http://www.archive.org/)

## Краткое резюме

<p class="attendees-inline"><strong>Присутствовали:</strong> duck, joda, jrand0m, mrflibble, Nostradumbass</p>

## Протокол встречи

<div class="irc-log"> [22:02] &lt;jrand0m&gt; 0) добро пожаловать в $num  [22:02] &lt;jrand0m&gt; 1) статус iip  [22:02] &lt;jrand0m&gt; 2) разное по kademlia + idn  [22:02] &lt;jrand0m&gt; 3) всякое про профилирование пиров  [22:02] &lt;jrand0m&gt; 4) сервисы i2p   [22:02] &lt;jrand0m&gt; 5) разное  [22:02] &lt;jrand0m&gt; 0) добро пожаловать   [22:02] &lt;jrand0m&gt; привет  [22:03] &lt;jrand0m&gt; это встреча 67 или 68...   [22:03] &lt;jrand0m&gt; 1) статус iip  [22:03] &lt;jrand0m&gt; не знаю.  кто-нибудь в курсе, что там в последнее время?  [22:04] &lt;jrand0m&gt; разрабов iip нет, так что... не знаю.  [22:04] &lt;jrand0m&gt; [ping]  [22:04] &lt;jrand0m&gt; (на прошлой неделе я печатал минут 10, пока клиент не выкинул меня по пингу...)  [22:05] &lt;jrand0m&gt; (не напечатаю больше ни слова, пока не увижу p0ng, чёрт побери ;)  [22:05] *** Nostradumbass (nostradum@anon.iip) вошёл на канал #iip-dev [22:05] &lt;jrand0m&gt; привет, Nostradumbass  [22:06] &lt;Nostradumbass&gt; hi :) [22:06] &lt;jrand0m&gt; ок, круто, значит меня не выкинуло по пингу, просто все сидят в тени.  круто :)  [22:06] * jrand0m переходит к следующему пункту повестки [22:06] &lt;Nostradumbass&gt; как продвигается i2p? [22:06] &lt;Nostradumbass&gt; что? [22:06] &lt;jrand0m&gt; хорошая подводка ;)  [22:07] &lt;jrand0m&gt; пункт повестки 3) статус i2p 0.2.3 :)  [22:07] *** nerox (~nerox@anon.iip) вошёл на канал #iip-dev [22:07] &lt;jrand0m&gt; много прогресса, хоть я и оффлайн.  пару часов назад закоммитил кучу кода  [22:07] &lt;jrand0m&gt; включая реализацию kademlia netDb  [22:08] &lt;jrand0m&gt; так что я почти уверен, что выпустим 0.2.3 на следующей неделе (что по сути kademlia netDb + shell-скрипт)  [22:08] &lt;jrand0m&gt; правда, появилось ещё несколько вариаций протокола kademlia, чтобы лучше соответствовать i2p  [22:09] &lt;jrand0m&gt; у нас всегда будет очень, очень, /очень/ разреженное дерево kademlia.  [22:09] &lt;jrand0m&gt; 2^256 возможных слотов и 1–10 значений на пир в сети.  [22:09] &lt;jrand0m&gt; так что даже при безумно завышенных ожиданиях мы всё равно не будем использовать ни хрена, и всё окажется в самом дальнем kbucket  [22:10] &lt;jrand0m&gt; так что некоторые части kademlia будут тихо проигнорированы ;)  но базовая суть останется той же, включая алгоритм поиска и метрику расстояния  [22:10] &lt;jrand0m&gt; а вот idn, похоже, совсем заглох.  [22:11] &lt;jrand0m&gt; мысль, что код i2p для netDb может работать на том же коде, что и DHT для публикации, была глупой затеей  [22:11] &lt;jrand0m&gt; и от неё оперативно отказались.  [22:11] &lt;jrand0m&gt; в целом idn — по-прежнему хорошая идея, но я не собираюсь тратить на неё своё i2p-время разработки  [22:12] *** tusko (~tusko@anon.iip) вошёл на канал #iip-dev [22:12] &lt;jrand0m&gt; но часть изменений 0.2.3 включает серьёзную переработку того, как мы выбираем пиров и организуем статистику router  [22:12] &lt;jrand0m&gt; хей, tusko  [22:12] &lt;jrand0m&gt; это подводит нас к пункту повестки 3) профилирование пиров  [22:12] &lt;jrand0m&gt; я вёл себя глупо... и наконец-то кое-что посчитал  [22:13] &lt;jrand0m&gt; теперь собираемая статистика огромна.  [22:13] &lt;jrand0m&gt; около 6000 точек данных /на каждого пира/  [22:13] &lt;duck&gt; что такое профилирование пиров? [22:13] &lt;jrand0m&gt; профилирование пиров — это когда router отслеживает производительность каждого пира, чтобы решать, кого использовать в будущем  [22:13] &lt;duck&gt; ага [22:13] &lt;jrand0m&gt; (например, быстрые router, надёжные router и т. п.)  [22:13] &lt;duck&gt; процесс, который съедает мою память :) [22:14] &lt;jrand0m&gt; хех, вообще-то эта часть не тааак уж плоха  [22:14] &lt;jrand0m&gt; но 6000 точек данных не масштабируются.  [22:14] &lt;jrand0m&gt; 1000 router’ов @ 6000 точек данных каждый @ 4 байта / точку = 24 МБ  [22:15] &lt;jrand0m&gt; хотя хранить подробную статистику по паре сотен пиров, вероятно, нормально, даже когда сеть вырастет дальше  [22:15] &lt;jrand0m&gt; нам /не/ нужно вести статистику по всем.  только по тем router, которых мы хотим "использовать" для наших tunnels, garlic routing и source routing.  [22:16] &lt;jrand0m&gt; в долгосрочной перспективе, вероятно, можно обойтись учётом сотни-другой пиров.  [22:16] &lt;jrand0m&gt; но пока что скажу: да ну его.  [22:16] &lt;jrand0m&gt; вести статистику по всем пирам  [22:16] &lt;duck&gt; ping [22:16] &lt;jrand0m&gt; p0ng  [22:17] &lt;duck&gt; он будет пытаться узнать обо всех пирах? [22:17] &lt;jrand0m&gt; сейчас — да  [22:17] &lt;duck&gt; о, стоп, ты это уже сказал в последних строках [22:17] &lt;jrand0m&gt; у нас также есть код для агрегации и выполнения вычислений по профилям пиров  [22:18] &lt;jrand0m&gt; и один из таких "калькуляторов" будет решать, каких пиров отбрасывать  [22:18] &lt;jrand0m&gt; пример собираемого набора данных: (Link: http://i2p.dnsalias.net/~jrandom/profile.txt)http://i2p.dnsalias.net/~jrandom/profile.txt  [22:19] &lt;jrand0m&gt; (заметите кучу нулей :)  [22:19] &lt;jrand0m&gt; я набросал черновой манифест по выбору и профилированию пиров, но нужно перенести это на wiki  [22:20] &lt;jrand0m&gt; но это всё тема для 0.3, на самом деле.  0.2.3 использует лишь малую часть  [22:21] &lt;jrand0m&gt; ок, с профилированием пиров пока всё.  дальше будет много, просто небольшая картина того, что происходит  [22:21] &lt;jrand0m&gt; (и конечно, как всегда, любой, кто захочет покопаться и определить, какие ещё метрики/вычисления/атаки/и т. п. стоит использовать, будет *очень* кстати)  [22:22] &lt;jrand0m&gt; ок, 4) сервисы i2p  [22:23] &lt;jrand0m&gt; сайт tc классный и очень надёжный!  я наконец-то добрался и до страницы nightblade — это клёвый блог ("plog" ;).. жаль, что не могу оставить комментарии :)  [22:23] &lt;jrand0m&gt; ещё есть jabber-сервер duck, который довольно легко завести по инструкциям на форуме tc  [22:24] &lt;jrand0m&gt; иногда всё ведёт себя немного странно, но это связано с некоторыми багами в router &lt;= 0.2.2, и они уже исправлены (и попадут в 0.2.3)  [22:24] &lt;jrand0m&gt; прокси squid обычно оффлайн, так как я слишком часто оффлайн, чтобы нянчить свои kaffe router :/  [22:25] &lt;jrand0m&gt; так что пока eepsites и jabber-чат — пожалуй, самые надёжные штуки в i2p, всё работает поверх i2ptunnel  [22:25] &lt;jrand0m&gt; какие сервисы было бы круто увидеть следующими?  [22:25] &lt;duck&gt; я пытался запустить ircd поверх i2ptunnel [22:25] &lt;duck&gt; но ещё до того, как после логина пришёл полный MOTD, меня уже выкинуло по ping timeout [22:26] &lt;jrand0m&gt; упс  [22:26] &lt;duck&gt; и это было на том же router [22:26] &lt;duck&gt; так что "в дикой природе" будет ещё хуже [22:26] &lt;jrand0m&gt; на локальном router выкинуло по пингу?!  [22:26] &lt;jrand0m&gt; локальный router вообще не должен никого выкидывать по пингу  [22:26] &lt;jrand0m&gt; а, ну разве что из-за того бага гонки  [22:26] &lt;jrand0m&gt; (скорее всего, это он и был, так как всё локально и гонка там быстрее)  [22:26] &lt;duck&gt; irc-клиент отвалился, потому что вовремя не ответил [22:27] &lt;duck&gt; попробую ещё раз на 0.2.3 [22:27] &lt;jrand0m&gt; ок  [22:27] &lt;duck&gt; хотя пока jabber хорош [22:27] &lt;jrand0m&gt; ага  [22:27] &lt;jrand0m&gt; и в долгосрочной перспективе IRC — не наш путь  [22:27] &lt;duck&gt; там можно поболтать с tc, jrandom и мной! [22:27] &lt;jrand0m&gt; хехе :)  [22:28] &lt;jrand0m&gt; нам нужно решение для IM и групповых чатов, которое не отдаёт открытый текст никому, кто не авторизован, и не требует централизованных точек отказа  [22:28] &lt;jrand0m&gt; (то есть iip 2.0)  [22:28] &lt;jrand0m&gt; сейчас было бы самое время userx вернуться в строй ;)  [22:29] * jrand0m перестаёт затаивать дыхание [22:29] &lt;jrand0m&gt; nntp-сервер /тоже/ очень-очень бы рулил.  [22:29] &lt;duck&gt; попробую это завтра [22:29] &lt;jrand0m&gt; r0x0r  [22:30] &lt;duck&gt; через jabber удобно запускать и другие вещи [22:30] &lt;duck&gt; посмотри спеки jabber rpc [22:30] &lt;duck&gt; (Link: http://www.pipetree.com/jabber/jrpc/)http://www.pipetree.com/jabber/jrpc/ [22:30] &lt;duck&gt; другие сервисы? [22:30] &lt;jrand0m&gt; интересно — по сути использовать jabber как службу имён  [22:31] &lt;duck&gt; ты имеешь в виду: [22:31] &lt;jrand0m&gt; сервисов для добавления всегда будет ещё — с почтой (usenet), чатами (jabber) и публикацией/браузингом (eepsites) у нас неплохое покрытие  [22:31] &lt;duck&gt; у сервера имён есть jabber-клиент, через который можно регистрировать имена (при наличии токена) [22:31] &lt;duck&gt; и использовать для запросов? [22:31] &lt;jrand0m&gt; неа  [22:32] &lt;jrand0m&gt; реестр jabber выступает службой имён  [22:32] &lt;duck&gt; ок [22:32] &lt;jrand0m&gt; это централизовано, но работает  [22:32] &lt;jrand0m&gt; как hosts.txt :)  [22:33] &lt;duck&gt; есть ли почтовые решения, лучше подходящие для таких сред, чем smtp и pop/imap ? [22:33] &lt;jrand0m&gt; очень хороший вопрос  [22:33] &lt;duck&gt; потому что не думаю, что всё "просто заработает", если соединить почтовые сервера [22:34] &lt;jrand0m&gt; да, там, вероятно, нужен либо шлюз (а-ля freemail), либо чтобы служба имён проделывала интересные пляски  [22:34] &lt;jrand0m&gt; или всё вернётся к централизованному единому POP3/IMAP-серверу, где у всех учётки на одном сервере  [22:35] &lt;duck&gt; вчера говорил с aum (автором freemail) [22:35] &lt;duck&gt; он говорил о переписывании fred на python [22:35] &lt;jrand0m&gt; лол, круто  [22:35] *** mrflibble (mrflibble@anon.iip) вошёл на канал #iip-dev [22:35] &lt;duck&gt; так что я предложил ему вместо этого поработать над python-версией router для i2p [22:35] &lt;jrand0m&gt; о, это было бы ПРОСТО ОГОНЬ!  [22:35] &lt;duck&gt; потом он дико расстроился из-за pdf-документов [22:36] &lt;jrand0m&gt; эй, если ему нужны исходники openOffice или даже экспорт в txt — я экспортирую  [22:36] &lt;duck&gt; а я не выдержал и сказал ему, что у тебя были бы и документы m$word, если бы он вежливо попросил [22:36] &lt;duck&gt; ну, ты был мудаком, что не сделал экспорт в html или что-то такое [22:36] &lt;jrand0m&gt; неа, я пробовал ;)  [22:36] &lt;duck&gt; я не выдержал и сказал ему поговорить с тобой [22:36] &lt;jrand0m&gt; экспорт openOffice в html — ОТСТОЙ  [22:37] &lt;duck&gt; хм [22:37] &lt;mrflibble&gt; верно, jr [22:37] &lt;jrand0m&gt; когда спеки дойдут до 1.0 (то есть когда router станет 1.0 и их обновят под код), они будут на wiki.  [22:37] &lt;duck&gt; на wiki и так большая часть информации [22:37] &lt;jrand0m&gt; точно  [22:37] &lt;mrflibble&gt; я пробовал это для книги Кевина Митника. было хуже, чем ms office [22:37] &lt;duck&gt; ну да [22:37] &lt;jrand0m&gt; именно.  [22:37] &lt;duck&gt; он может тут появиться как-нибудь [22:37] &lt;jrand0m&gt; это было бы круто  [22:38] &lt;duck&gt; но с его настроем ему, может, лучше к команде freenet [22:38] &lt;duck&gt; ... [22:38] &lt;jrand0m&gt; ну, работа над freenet — всегда хорошо  [22:38] * duck снова становится дружелюбным [22:38] &lt;jrand0m&gt; :)  [22:38] &lt;duck&gt; работа aum — рулит [22:38] &lt;duck&gt; надеюсь, он зажжёт и в i2p [22:39] &lt;jrand0m&gt; да, когда кто-то говорил о поиске в freenet, я всегда отвечал: "ну так сделайте McNabb"  [22:39] &lt;jrand0m&gt; нам помощь точно нужна  [22:39] &lt;duck&gt; что подводит меня к следующему вопросу: [22:39] &lt;duck&gt; изменения в I2P, которые ты делаешь, задокументированы в спеках? [22:39] &lt;duck&gt; или в качестве актуальной документации выступают исходники на java [22:40] &lt;jrand0m&gt; у меня есть заметки в palmpilot, файловой системе и блокноте, но, к сожалению, я давно не обновлял документы openoffice  [22:40] &lt;jrand0m&gt; февраль — месяц документации для jrandom.  [22:40] &lt;jrand0m&gt; (и qa, и багфиксинг)  [22:41] &lt;jrand0m&gt; ((и загулы ;))  [22:41] &lt;jrand0m&gt; спеки в целом всё ещё корректны, просто деталей стало больше.  [22:41] &lt;duck&gt; круто [22:41] &lt;jrand0m&gt; но структуры данных менялись сильнее  [22:42] &lt;jrand0m&gt; ок, что-нибудь ещё по сервисам?    [22:43] &lt;jrand0m&gt; ок, 5) разное  [22:43] &lt;jrand0m&gt; привет  [22:43] &lt;duck&gt; привет! [22:43] &lt;jrand0m&gt; как дела?  [22:43] &lt;jrand0m&gt; [любые вопросы/мысли/проблемы/и т. п. сюда]  [22:43] &lt;duck&gt; трюки с base64 надо добавить на страницы i2ptricks [22:44] &lt;jrand0m&gt; о, хорошая мысль  [22:44] &lt;duck&gt; может быть и другие трюки, о которых я ещё не знаю [22:44] &lt;duck&gt; сделаю grep по исходникам на 'main' [22:44] &lt;jrand0m&gt; чувствую себя виноватым, что инсталлятор не даёт кому-нибудь автоматически скачать hosts.txt и сделать reseed  [22:44] &lt;jrand0m&gt; лол  [22:44] &lt;jrand0m&gt; там куча-куча методов main(), но в основном это тестовые функции  [22:45] &lt;jrand0m&gt; о!  [22:45] &lt;jrand0m&gt; одна вещь.  НЕ запускайте текущий код из cvs и не ждите, что он будет работать с обычными router.  [22:45] *** joda (--@anon.iip) вошёл на канал #iip-dev [22:45] &lt;joda&gt; привет [22:45] &lt;jrand0m&gt; сообщения db изменились :)  [22:45] &lt;jrand0m&gt; привет, joda  [22:45] &lt;joda&gt; сорри, если перебиваю [22:45] &lt;duck&gt; я немного расстроился, что не смог заставить cvs заработать [22:45] &lt;duck&gt; но потом вспомнил, что это не freenet [22:45] &lt;joda&gt; я лишь хотел узнать, что стало с "anonymail" ? [22:46] &lt;duck&gt; так что зачем-то последний cvs не нужен, чтобы пользоваться [22:46] &lt;jrand0m&gt; joda&gt; пользователь, который его запускает, сейчас, похоже, не в сети.  должен скоро вернуться  [22:46] &lt;jrand0m&gt; хехе, duck — у тебя всё падало сегодня после моего коммита или ещё раньше?  [22:46] &lt;duck&gt; где-то на прошлой неделе [22:46] &lt;joda&gt; jrand&gt; спасибо :) [22:46] &lt;joda&gt; пока :) [22:46] &lt;jrand0m&gt; а, ок, duck  [22:46] &lt;jrand0m&gt; до скорого, joda  [22:47] &lt;jrand0m&gt; да, я только одобряю запуск релизного кода  [22:47] &lt;duck&gt; в 0.2.3 файлы версий будут лежать в каталоге? :) [22:47] &lt;jrand0m&gt; 0.2.3 избавляется от файлов версий :)  [22:47] &lt;jrand0m&gt; (много-много-много изменений)  [22:47] &lt;jrand0m&gt; но это означает, что 0.2.3 (и далее) потребуется в целом правильно идущие системные часы  [22:48] &lt;jrand0m&gt; (текущий Router.CLOCK_FUDGE_FACTOR = 30 минут)  [22:48] &lt;duck&gt; каким будет поправочный коэффициент для 0.2.3? [22:48] &lt;jrand0m&gt; скорее всего таким же  [22:49] *** joda вышел из #iip-dev [22:49] &lt;duck&gt; о, current = твой код [22:49] &lt;jrand0m&gt; это время будет использовано для истечения срока записей db  [22:49] &lt;duck&gt; к [22:49] &lt;jrand0m&gt; а, да, точно :)  [22:49] &lt;jrand0m&gt; (в 0.2.2 этот clock_fudge_factor размазан по полудюжине файлов)  [22:49] &lt;duck&gt; может, инсталлятор сделать чуть более дружелюбным [22:49] &lt;duck&gt; в смысле — меньше вопросов [22:49] *** Выход: nickthief66282 (Excess Flood) [22:50] &lt;duck&gt; включить дефолтные phttp URLs, без ограничения полосы и т. п. [22:50] &lt;jrand0m&gt; наверное, мы могли бы автоугадывать случайные порты тоже  [22:50] &lt;jrand0m&gt; ты прав  [22:50] &lt;jrand0m&gt; хочешь права на коммит?  :)  [22:50] *** Выход: nerox (EOF From client) [22:50] &lt;jrand0m&gt; (если нет, я могу обновить это к 0.2.3)  [22:51] &lt;duck&gt; аргумент против — пользователи слишком легко примут настройки как должное [22:51] &lt;duck&gt; и все будут использовать один и тот же phttp relay [22:51] *** nickthief24373 (~chatzilla@anon.iip) вошёл на канал #iip-dev [22:51] &lt;jrand0m&gt; верно.  хотя планы на 0.3.1 включают обновление кода phttp relay, чтобы реле могли общаться друг с другом и перенаправлять пользователей на менее загруженное реле  [22:52] &lt;jrand0m&gt; впрочем, в целом я доволен процессом установки прямо сейчас — я поднял свежую 0.2.2 и через меньше минуты уже листал страницу tc  [22:52] &lt;jrand0m&gt; (хотя это потому, что я знаю, что там написано, и не читал...)  [22:52] &lt;duck&gt; мне не нравятся длинные ключи [22:53] &lt;duck&gt; особенно если их приходится копировать и вставлять [22:53] &lt;duck&gt; лучше использовать их как файл [22:53] &lt;jrand0m&gt; хм?  [22:53] &lt;duck&gt; но распространять бинарные файлы — боль [22:53] &lt;duck&gt; так что приходится делать трюк с base64.. [22:53] &lt;duck&gt; может ли i2ptunnel читать и base64-ключи destination? [22:53] &lt;duck&gt; из файла, то есть [22:53] &lt;jrand0m&gt; я как раз это и печатал ;)  [22:53] &lt;jrand0m&gt; да, это несложно  [22:54] &lt;jrand0m&gt; возможно, даже 1 строка  [22:54] &lt;duck&gt; а как насчёт "армирования"? [22:54] &lt;duck&gt; с заголовком и футером [22:54] &lt;duck&gt; как в pgp и т. п. [22:55] &lt;jrand0m&gt; верно, такого рода проверка была бы полезна  [22:55] &lt;duck&gt; конечно, это приблуда [22:55] &lt;duck&gt; но это могло бы помочь тем, кто хочет пользоваться tunnel [22:55] &lt;jrand0m&gt; хотя сама структура Destination довольно придирчива  [22:55] &lt;jrand0m&gt; но ты прав, сырой base64 — не самый интуитивный и безопасный формат для передачи  [22:56] &lt;jrand0m&gt; нам нужен bugzilla  [22:56] &lt;jrand0m&gt; чтобы такие вещи можно было постить как todo  [22:56] &lt;jrand0m&gt; я ради этого сдвинулся бы с palm’овского списка дел  [22:56] &lt;duck&gt; у bugzilla драконовские требования к регистрации [22:56] &lt;duck&gt; с email’ами и т. п.. [22:56] &lt;jrand0m&gt; верно  [22:57] &lt;duck&gt; но лучше, чем ничего [22:57] &lt;duck&gt; у других багтрекеров тоже хватает недостатков [22:57] &lt;jrand0m&gt; да, почти каждая компания, где я работал, в итоге делала свой  [22:58] &lt;jrand0m&gt; посмотрим.  нам нужен багтрекер к тому моменту, когда начнём полноценно заниматься qa (когда выйдет 0.3)  [22:58] &lt;jrand0m&gt; так что у нас есть пара недель ;)  [22:58] &lt;jrand0m&gt; но если кто-нибудь провёл бы ресёрч и нашёл реально удачный — было бы здорово  [22:59] &lt;jrand0m&gt; [не конкретно ты, duck, а любой, кто читает эти логи встреч у себя дома ;)]  [22:59] &lt;duck&gt; пока phpBugTrackers меня устраивал [22:59] &lt;jrand0m&gt; хм, не пользовался  [22:59] &lt;duck&gt; да, я тоже не к jrandom обращаюсь [22:59] &lt;jrand0m&gt; лол  [22:59] &lt;duck&gt; а к группе разработчиков кода I2P :) [22:59] * jrand0m на самом деле 12 человек под одним псевдонимом [23:00] &lt;jrand0m&gt; ок, 1 час, ровно  [23:00] &lt;jrand0m&gt; у кого-нибудь ещё что-то есть, прежде чем я достану *baf*er?  [23:01] * duck требует ещё 1 минуту [23:01] &lt;duck&gt; раз мы начали в 21:02 [23:01] &lt;jrand0m&gt; ага-ага  [23:01] &lt;jrand0m&gt; ля-ля-ля  [23:01] &lt;jrand0m&gt; что мне поесть на ужин?  [23:01] &lt;jrand0m&gt; рядом классное место с фалафелем...  [23:01] &lt;jrand0m&gt; на обед были ещё ньокки  [23:01] &lt;jrand0m&gt; хмм...  [23:01] &lt;jrand0m&gt; может, жидкий ужин  [23:02] &lt;duck&gt; суп? [23:02] &lt;jrand0m&gt; ооОооо суп из виски!  [23:02] * jrand0m закрывает встречу *baf*’ом на этой ноте </div>
