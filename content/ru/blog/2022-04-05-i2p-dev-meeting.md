---
title: "Встреча разработчиков I2P - 5 апреля 2022"
date: 2022-04-05
author: "i2p"
description: "Протокол совещания по разработке I2P от 5 апреля 2022 года."
categories: ["meeting"]
---

## Краткий обзор

<p class="attendees-inline"><strong>Присутствуют:</strong> eyedeekay, zzz, zlatinb</p>

## Журнал встречи

<div class="irc-log"> (04:00:32 PM) eyedeekay: Привет всем, добро пожаловать на апрельскую встречу разработчиков, повестка на сегодня: (04:00:32 PM) eyedeekay: 1. Привет (04:00:32 PM) eyedeekay: 2. Статус релиза (1.7.0 / 0.9.53) (04:00:32 PM) eyedeekay: 3. Статус разработки (1.8.0 / 0.9.54) (04:00:32 PM) eyedeekay: 4. JNA в пакетах easy-install — какие возможности это открывает? (04:00:42 PM) eyedeekay: 1. Привет (04:00:47 PM) zlatinb: привет (04:00:50 PM) zzz: привет (04:01:18 PM) eyedeekay: Привет, zlatinb, привет, zzz (04:01:27 PM) eyedeekay: Сегодня здесь ещё кто-нибудь? (04:01:45 PM) eyedeekay: 2. Статус релиза (1.7.0 / 0.9.53) (04:02:52 PM) eyedeekay: 1.7.0 вышел примерно 6 недель назад; обновления с прошлого месяца от меня: все пакеты для Android успешно развернуты, а баг, обнаруженный во время релиза, теперь исправлен (04:03:28 PM) eyedeekay: Как обычно, пакеты в основных репозиториях Debian не обновлялись; если вы всё ещё их используете, пожалуйста, как можно скорее переключитесь на deb.i2p2.de/.no (04:04:23 PM) zzz: по Debian: я нашёл добровольца, который исправил 0.9.48 и вернул его в Sid. это сделано (04:04:46 PM) zzz: вернётся ли это автоматически в bullseye и ubuntu, без понятия (04:05:00 PM) zzz: нового мейнтейнера найти пока не удалось (04:05:01 PM) zzz: eot (04:05:08 PM) eyedeekay: Спасибо (04:05:51 PM) eyedeekay: У меня ещё один пункт — он пересекается с 2, 3 и 4, — но пакеты easy-install для Windows всё ещё потребуют ещё одного ручного обновления (04:06:25 PM) zzz: есть прогресс с прошлой встречи? (04:06:30 PM) eyedeekay: Значительный, да (04:07:15 PM) eyedeekay: Большая часть — в этом MR, : https://i2pgit.org/i2p-hackers/i2p.firefox/-/merge_requests/6/diffs#10d851887651eddb01e5952f08999080b019da2e (04:07:35 PM) zzz: отлично. у тебя есть целевая дата, когда ты предложишь переход из беты? (04:08:02 PM) eyedeekay: Как только пользователи получат автоматическое обновление, я буду считать это готовым (04:08:22 PM) zzz: спасибо (04:08:47 PM) eyedeekay: Что-нибудь ещё по пункту 2? (04:09:33 PM) eyedeekay: 3. Статус разработки (1.8.0 / 0.9.54) (04:10:03 PM) zzz: (нет, всё хорошо, жалоб на 1.7.0 не слышал) (04:10:21 PM) eyedeekay: Я тоже, похоже, люди пока довольны (04:12:12 PM) eyedeekay: Что касается 3. Статус разработки (1.8.0 / 0.9.54): к сожалению, я оказался медленнее, чем ожидал; застрял на UDP tunnels, но почти готов к MR по аутентификации SAM (04:12:38 PM) eyedeekay: Кроме того, я перерабатываю сложные страницы мастера настройки пропускной способности, чтобы сделать процесс выбора более понятным, а уведомления — более заметными (04:12:52 PM) eyedeekay: Мы прошли около 6 недель, осталось 7, верно, zzz? (04:13:02 PM) zzz: верно (04:13:31 PM) eyedeekay: Хочешь рассказать обновления по SSU2 или о чём-то ещё, над чем ты работал? (04:13:46 PM) zzz: 13 недель означают релиз 23 мая (04:13:53 PM) zzz: да, спасибо (04:14:01 PM) zzz: огромный прогресс с i2pd по SSU 2 (04:14:03 PM) mode (+v anonymousmaybe) by ChanServ (04:14:17 PM) zzz: сейчас идут живые тесты в сети (04:14:40 PM) zzz: другие вещи в релизе: улучшения standalone-версии snark, исправления в router family (04:14:49 PM) zzz: исправление производительности SSU 1 (04:15:15 PM) zzz: вскоре работа по SSU 2 должна замедлиться, и я переключусь на исправление багов в других местах (04:15:23 PM) zzz: eot (04:16:04 PM) eyedeekay: Здорово, спасибо за обновления, zzz (04:16:37 PM) eyedeekay: zlatinb, хочешь что-то обсудить по этой теме, прежде чем перейдём к пункту 4? (04:16:55 PM) zlatinb: Думаю, уменьшение таймаута построения tunnel приведёт к более быстрому запуску (04:17:11 PM) zlatinb: или более быстрому 0-to-Router.isRunning() (04:17:20 PM) zlatinb: это всё, eot (04:17:38 PM) eyedeekay: Спасибо, zlatinb, это обрадует людей :) (04:17:56 PM) eyedeekay: 4. JNA в пакетах easy-install — какие возможности это открывает? (04:18:15 PM) eyedeekay: zlatinb, это была твоя тема, но у меня тоже много заметок по ней; хочешь начать? (04:18:24 PM) zlatinb: конечно. (04:18:34 PM) zlatinb: В целом MR 6 добавляет библиотеки JNA в windows easy-install bundle (04:18:49 PM) zlatinb: что, как я сегодня узнал, было не обязательно из-за JEP 419 (встроенной замены JNA) (04:19:12 PM) zlatinb: но общий посыл тот же: раз нам нужно делать некоторые нативные вещи, какие ещё нативные вещи мы хотим делать? (04:19:33 PM) eyedeekay: Иногда нам нужно взаимодействовать с управлением питанием/батареей (04:19:36 PM) eyedeekay: *battery (04:19:57 PM) zlatinb: В MuWire я реализовал «фоновый приоритет» в Windows, который, согласно документации MSDN, гарантирует, что процесс никогда не мешает процессам переднего плана (04:20:05 PM) zlatinb: да, управление питанием от батареи — ещё одна такая вещь (04:20:17 PM) eyedeekay: Мне нужно запрашивать права администратора условным образом, что само NSIS не поддерживает (04:20:21 PM) zlatinb: так что да, с моей стороны всё — просто приглашение мыслить нативно :) (04:20:21 PM) zlatinb: eot (04:21:22 PM) eyedeekay: Так что да, у нас определённо есть несколько случаев, где может быть полезно иметь что-то наподобие JNA (04:22:41 PM) zlatinb: ок... тогда вопрос: добавляем ли мы любую/всю такую функциональность в easy-install bundle и держим её вне основного пакета router (04:22:45 PM) zzz: не хочу портить веселье, но на прошлой встрече JNA была возможным решением одной-единственной проблемы (привилегии) и только на Windows (04:23:08 PM) zzz: а сегодня мы уже на стадии «это точно решение для многих проблем, что ещё интересного мы можем с этим сделать»? (04:23:18 PM) zlatinb: ага, такая вечеринка лол (04:23:34 PM) zzz: что и скачок, и типичный случай «решение в поисках проблемы» (04:24:31 PM) zlatinb: это один из взглядов; я думаю, это (JNA / JEP 419) может сделать I2P лучше во многих отношениях (04:25:14 PM) zlatinb: на многих платформах (04:25:14 PM) zlatinb: если честно, я пока лишь поцарапал поверхность на windows (04:25:28 PM) zzz: то есть про JNA ещё не принято решение? (04:25:28 PM) zlatinb: Преимущество JNA — обратная совместимость до java 1.4, JEP 419 есть только в JDK 18 (04:25:51 PM) zlatinb: Я бы сказал, оба варианта на столе, причём у JNA есть небольшой задел (04:26:37 PM) zzz: 419 имеет статус «incubator», то есть может исчезнуть; не стоит на это рассчитывать (04:27:07 PM) eyedeekay: Я за JNA, потому что возможность управлять привилегиями установщика решает для меня как минимум 2 проблемы и даёт возможность устанавливать/запускать полностью с флеш-накопителей (04:27:46 PM) eyedeekay: Я не хочу потерять это из‑за того, что проект окажется неготов или заброшен (04:29:03 PM) eyedeekay: Так что, полагаю, я за JNA, но сомневаюсь насчёт 419 (04:29:54 PM) zlatinb: ну, 419 с немного другим API уже есть в JDK 17, которая LTS, но у меня не будет твёрдого мнения, пока это не выйдет из инкубации (04:30:00 PM) zzz: нам стоит продолжать присматривать лучшие инструменты для решения текущих проблем... мечтать, что ещё мы могли бы с этим сделать, не так важно (04:31:10 PM) zzz: выход за пределы JVM всегда будет грязным и менее поддерживаемым, использовать это стоит только при реальной необходимости, независимо от механизма (04:33:14 PM) zlatinb: С этим никто не спорит, но, думаю, не стоит останавливать себя от больших мечтаний (04:33:38 PM) zlatinb: интеграция с оболочкой windows или управлением питанием на ноутбуках звучит очень заманчиво (04:34:18 PM) zlatinb: это должно быть возможно и на ноутбуках под linux, кстати (04:34:33 PM) eyedeekay: По правде говоря, мои мечты пока скромные: портативность с флешки — всего лишь побочный продукт поддержки установок без админских прав (04:36:24 PM) eyedeekay: Но если есть способ сделать что-то без JNA, то да, вероятно, стоит попробовать сначала его (04:38:54 PM) eyedeekay: Что-нибудь ещё по пункту 4? (04:39:07 PM) zlatinb: не с моей стороны, eot (04:40:26 PM) eyedeekay: Что-нибудь ещё для встречи? timeout 1m (04:41:43 PM) eyedeekay: Хорошо, спасибо всем за участие, похоже, следующая встреча в следующем месяце будет 3 мая </div>
