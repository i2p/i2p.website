---
title: "Встреча разработчиков I2P - 11 ноября 2003 года"
date: 2003-11-11
author: "jrand0m"
description: "Встреча по разработке I2P, посвященная статусу router, обновлениям дорожной карты, нативной реализации modPow, установщику с графическим интерфейсом (GUI) и обсуждениям лицензирования"
categories: ["meeting"]
---

(Любезно предоставлено Wayback Machine http://www.archive.org/)

## Краткое резюме

<p class="attendees-inline"><strong>Присутствовали:</strong> dish, dm, jrand0m, MrEcho, nop</p>

(лог встречи отредактирован, чтобы скрыть тот факт, что iip упал в середине встречи и было много тайм-аутов ping, так что не пытайтесь читать это как последовательное повествование)

## Журнал встречи

<div class="irc-log"> [22:02] &lt;jrand0m&gt; повестка [22:02] &lt;jrand0m&gt; 0) приветствие [22:02] &lt;jrand0m&gt; 1) i2p router [22:02] &lt;jrand0m&gt; 1.1) статус [22:02] &lt;jrand0m&gt; 1.2) изменения в дорожной карте [22:02] &lt;jrand0m&gt; 1.3) открытые подпроекты [22:02] &lt;jrand0m&gt; 2) нативная modPow [22:03] &lt;jrand0m&gt; 2) GUI‑установщик [22:03] &lt;jrand0m&gt; 3) IM [22:03] &lt;jrand0m&gt; 4) служба имён [22:03] &lt;MrEcho&gt; я видел тот .c код [22:03] &lt;jrand0m&gt; 5) лицензирование [22:03] &lt;jrand0m&gt; 6) другое? [22:03] &lt;jrand0m&gt; 0) приветствие [22:03] &lt;jrand0m&gt; привет. [22:03] &lt;nop&gt; hi [22:03] &lt;jrand0m&gt; встреча 2^6 [22:04] &lt;jrand0m&gt; есть что добавить в повестку, nop? [22:04] &lt;jrand0m&gt; ок, 1.1) статус router [22:04] &lt;jrand0m&gt; у нас 0.2.0.3, и, насколько я слышал, всё работает [22:04] &lt;MrEcho&gt; &gt; 0.2.0.3 [22:04] &lt;MrEcho&gt; верно? [22:05] &lt;MrEcho&gt; я его запустил.. вроде норм [22:05] &lt;nop&gt; нет [22:05] &lt;jrand0m&gt; после релиза 0.2.0.3 были мелкие коммиты, ничего на новый релиз [22:05] &lt;nop&gt; я просто пытаюсь нагнать [22:05] &lt;jrand0m&gt; круто [22:06] &lt;jrand0m&gt; с учётом опыта и отзывов по 0.2.0.x дорожную карту обновили, чтобы сделать запуск менее ресурсоёмким [22:06] &lt;jrand0m&gt; (то есть чтобы люди могли запускать веб‑серверы / и т. п., и это не жрало их CPU) [22:06] &lt;jrand0m&gt; конкретнее (переходя к пункту 1.2 повестки): http://wiki.invisiblenet.net/iip-wiki?I2PRoadmap [22:06] &lt;MrEcho&gt; что я заметил — большинство routers используют: TransportStyle: PHTTP [22:07] &lt;MrEcho&gt; оно автоматически уходит в phttp или хотя бы сначала пытается tcp? [22:07] &lt;jrand0m&gt; хм, большинство routers должны поддерживать PHTTP, а если они могут принимать входящие соединения, то и TCP [22:07] &lt;jrand0m&gt; если есть хоть какая возможность, используется TCP [22:07] &lt;jrand0m&gt; PHTTP взвешивается как примерно в 1000 раз более «дорогой», чем TCP [22:08] &lt;jrand0m&gt; (см. GetBidsJob, который спрашивает у каждого транспорта, во сколько, по его мнению, обойдётся отправка сообщения пиру) [22:08] &lt;jrand0m&gt; (и см. TCPTransport.getBid и PHTTPTransport.getBid для используемых значений) [22:08] &lt;MrEcho&gt; ок [22:08] &lt;jrand0m&gt; ты часто используешь PHTTP для отправки и приёма сообщений? [22:09] &lt;jrand0m&gt; (это может быть признаком того, что твой TCP‑слушатель недоступен) [22:09] &lt;MrEcho&gt; я у себя не прописал URL'ы [22:09] &lt;jrand0m&gt; ага, ок. [22:09] &lt;MrEcho&gt; о, есть [22:10] &lt;jrand0m&gt; ок, да, мои routers имеют к тебе открытые TCP‑соединения [22:10] &lt;dm&gt; как гостеприимно с их стороны. [22:10] * jrand0m рад, что вы заставили меня сделать routerConsole.html, чтобы нам не приходилось ковыряться в логах из‑за этого дерьма [22:11] &lt;MrEcho&gt; есть ли таймаут: если к tcp не подключается, идёт в phttp? и какие там тайминги? [22:11] &lt;jrand0m&gt; но в любом случае главное изменение в дорожной карте — в 0.2.1 будет реализована штука AES+SessionTag [22:11] &lt;MrEcho&gt; или можно вынести это в настройку? [22:11] &lt;jrand0m&gt; если получает TCP connection refused / host not found /etc, эта попытка сразу проваливается, и пробуется следующая доступная ставка [22:12] &lt;MrEcho&gt; то есть без повторов [22:12] &lt;jrand0m&gt; у phttp таймаут 30 сек, iirc [22:12] &lt;jrand0m&gt; повторять не нужно.  либо у тебя есть открытое TCP‑соединение и ты можешь отправить данные, либо нет :) [22:12] &lt;MrEcho&gt; лол, ок [22:13] &lt;MrEcho&gt; после этого оно будет каждый раз пытаться tcp или пропустит и сразу пойдёт по phttp для следующего подключения? [22:13] &lt;jrand0m&gt; пока что оно пробует tcp каждый раз. [22:13] &lt;jrand0m&gt; транспорты ещё не ведут историю [22:13] &lt;MrEcho&gt; ок круто [22:14] &lt;jrand0m&gt; (но если пир фейлится 4 раза, он попадает в шит‑лист на 8 минут) [22:14] &lt;MrEcho&gt; ну, как только другая сторона получает phttp‑сообщение, она должна подключиться к router'у, который отправил сообщение, по tcp, верно? [22:14] &lt;jrand0m&gt; верно.  как только какое‑то tcp‑соединение установлено, его можно использовать. [22:14] &lt;jrand0m&gt; (но если у обоих пиров только phttp, они, очевидно, будут использовать только phttp) [22:15] &lt;MrEcho&gt; это бы означало, что оно не может установить tcp‑соединение ни с чем [22:15] &lt;MrEcho&gt; .. ну да [22:16] &lt;MrEcho&gt; жаль, что нельзя это обойти [22:16] &lt;jrand0m&gt; нет, один из моих routers не имеет TCP‑адреса — только PHTTP.  но я устанавливаю TCP‑соединения с пирами, у которых есть TCP‑адреса. [22:16] &lt;jrand0m&gt; (и тогда они могут слать ответы по этому TCP‑соединению вместо того, чтобы слать мне более медленные PHTTP‑сообщения) [22:17] &lt;jrand0m&gt; или ты это не имел в виду? [22:17] &lt;MrEcho&gt; да я запутался [22:17] &lt;jrand0m&gt; ага, без проблем [22:18] &lt;jrand0m&gt; так что смотрите обновлённую дорожную карту для актуальной информации по графику ((Link: http://wiki.invisiblenet.net/iip-wiki?I2PRoadmap)http://wiki.invisiblenet.net/iip-wiki?I2PRoadmap) [22:18] &lt;jrand0m&gt; ок, 1.3) открытые подпроекты [22:19] &lt;jrand0m&gt; наконец я закинул кучу пунктов из моего palmpilot'а (список дел) в wiki: (Link: http://wiki.invisiblenet.net/iip-wiki?OpenSubprojects)http://wiki.invisiblenet.net/iip-wiki?OpenSubprojects [22:19] &lt;jrand0m&gt; так что если скучно и ищешь кодовые проекты... :) [22:19] &lt;MrEcho&gt; блин [22:20] &lt;MrEcho&gt; у меня уже 2 [22:20] &lt;dish&gt; У тебя palmpilot — это элитно [22:20] &lt;MrEcho&gt; мой сдох [22:20] &lt;jrand0m&gt; mihi&gt; там есть пункт по поводу I2PTunnel, описывающий мысль, что у меня была недавно [22:20] &lt;MrEcho&gt; не знаю, что с ним [22:21] &lt;jrand0m&gt; да, раньше у меня были Palms, но недавно этот подарили «на дело» ;) [22:21] &lt;dish&gt; Можно ли внести в повестку на встрече пункт «когда в последний раз userX что‑нибудь писал» [22:21] &lt;MrEcho&gt; чёртова штука уже даже не включается [22:21] &lt;MrEcho&gt; лол [22:22] &lt;jrand0m&gt; Не думаю, что UserX что‑то говорил последние 4 или 5 месяцев ;) [22:22] &lt;MrEcho&gt; это бот или что? [22:22] &lt;dish&gt; А что он говорил 5 месяцев назад? [22:22] &lt;MrEcho&gt; держу пари, это BitchX, запущенный на каком‑то боксе, к которому у него раньше был доступ .. и он про него забыл [22:22] &lt;jrand0m&gt; что они вернутся с комментариями по anonCommFramework (старое название i2p) на следующей неделе ;) [22:23] &lt;dish&gt; ха‑ха [22:23] &lt;jrand0m&gt; но, полагаю, он занят.  такое бывает [22:23] &lt;jrand0m&gt; ок, 2) нативная modPow [22:23] &lt;MrEcho&gt; я видел тот c‑код [22:24] &lt;jrand0m&gt; я собрал заглушку на .c и класс Java, чтобы показать, как можно интегрировать что‑нибудь вроде GMP или другую библиотеку MPI, но оно, очевидно, не работает [22:25] &lt;jrand0m&gt; было бы здорово иметь небольшой пакет классов на C и тот тривиальный связанный обёрточный класс на Java, который мы могли бы собирать под windows, osx, *bsd, linux и распространять под GPL

(сюда вставить серьёзный сбой iip)

[22:38] &lt;MrEcho&gt; последнее, что я видел: [13:25] &lt;jrand0m&gt; ок, 2) native modPow [22:38] &lt;jrand0m&gt; привет, MrEcho [22:38] &lt;jrand0m&gt; ага, похоже, основной прокси упал [22:39] &lt;jrand0m&gt; дам ему ещё 2 минуты перед перезапуском [22:39] &lt;MrEcho&gt; ок [22:39] &lt;MrEcho&gt; за $25 один раз я могу получить полную поддержку Java на thenidus.net ... один из моих сайтов [22:40] &lt;jrand0m&gt; $25? они берут деньги за установку софта? [22:40] &lt;MrEcho&gt; пока не знаю .. это пакет [22:40] &lt;MrEcho&gt; сейчас разговариваю с другом [22:40] &lt;jrand0m&gt; не уверен, что код достаточно стабилен, чтобы идти и арендовать кучу площадок в colo, чтобы поднимать routers. Пока ещё :) [22:41] &lt;dm&gt; пакет чего? [22:41] &lt;MrEcho&gt; java - jsp [22:41] &lt;jrand0m&gt; ок, переотправляю то, что писал раньше: [22:41] &lt;jrand0m&gt; я собрал заглушку .c и класс на Java, чтобы показать, как можно интегрировать что-то вроде GMP или другой библиотеки MPI, но, очевидно, это не работает [22:41] &lt;jrand0m&gt; было бы хорошо, если бы у нас был небольшой пакет классов на C и тот тривиальный связанный класс-обёртка на Java, который мы могли бы собирать для windows, osx, *bsd, linux, и упаковать под GPL (или менее строгую лицензию) [22:41] &lt;jrand0m&gt; однако с новой дорожной картой, где AES+SessionTag стоит у меня текущей задачей, это уже не столь критично, как было. [22:42] &lt;jrand0m&gt; если кто-то всё же хочет заняться этим — было бы здорово (и я уверен, что другой проект, с которым мы все знакомы, тоже заинтересовался бы таким пакетом) [22:43] &lt;dm&gt; frazaa? [22:43] &lt;jrand0m&gt; хех, в каком-то смысле ;) [22:44] &lt;jrand0m&gt; ок, 3) установщик с GUI [22:44] &lt;jrand0m&gt; MrEcho&gt; привет [22:44] &lt;MrEcho&gt; :) [22:44] &lt;MrEcho&gt; хехе [22:44] &lt;MrEcho&gt; двигается [22:44] &lt;jrand0m&gt; круто [22:44] &lt;MrEcho&gt; ничего особенного [22:45] &lt;MrEcho&gt; есть пара реально классных идей, чтобы сделать это действительно навороченным .. но до этого ещё далеко [22:45] &lt;jrand0m&gt; Я думал, не стоит ли добавить в установщик 1) опцию автополучения seeds с http://.../i2pdb/ 2) автозагрузку http://.../i2p/squid.dest и создание runSquid.bat/runSquid.sh тоже? [22:45] &lt;jrand0m&gt; ага [22:46] &lt;jrand0m&gt; да, мы хотим, чтобы установщик был максимально простым — о каких наворотах ты думал? [22:46] &lt;MrEcho&gt; вопрос такой .. когда делаешь java -jar installer, он по умолчанию идёт в режим без GUI из‑за того, как у тебя всё устроено [22:46] &lt;MrEcho&gt; как сделать так, чтобы при двойном клике по jar-файлу загружался GUI [22:47] &lt;jrand0m&gt; install.jar &lt;-- без GUI,  installgui.jar &lt;-- GUI [22:47] &lt;jrand0m&gt; отдельный код, отдельные пакеты [22:47] &lt;MrEcho&gt; навороты — в смысле вещи, которые можно и не заметить .. но будет красиво и чисто [22:47] &lt;jrand0m&gt; круто [22:47] &lt;MrEcho&gt; о, ок [22:48] &lt;jrand0m&gt; (или install &lt;-- gui installcli &lt;-- cli. посмотрим, как пойдёт) [22:49] &lt;jrand0m&gt; ещё что-то по GUI, или прыгаем к пункту 4)? [22:49] &lt;jrand0m&gt; (какие-то сроки на примете? без давления, просто интересно) [22:51] &lt;MrEcho&gt; пока не знаю [22:51] &lt;jrand0m&gt; ок [22:51] &lt;jrand0m&gt; ок, 4) IM [22:51] &lt;jrand0m&gt; thecrypto нет, так что..... [22:51] &lt;jrand0m&gt; 5) служба имен [22:51] &lt;jrand0m&gt; wiht тоже нет... [22:51] &lt;jrand0m&gt; пинг [22:52] &lt;dish&gt; ты сбился с нумерацией повестки [22:52] &lt;dish&gt; 3) IM [22:52] &lt;jrand0m&gt; да, у меня раньше было два пункта под номером 2 в повестке [22:52] &lt;dish&gt; 4) Служба имен [22:52] &lt;dish&gt; ;) [22:52] &lt;jrand0m&gt; (native modPow и установщик с GUI) [22:52] &lt;jrand0m&gt; видишь, мы гибкие и всё такое [22:59] &lt;jrand0m&gt; ок, для логов, пожалуй, продолжу [22:59] &lt;jrand0m&gt; 6) лицензирование [23:00] &lt;jrand0m&gt; Думаю перейти на что-то менее строгое, чем GPL. Мы используем часть кода под MIT, плюс ещё один файл под GPL (но это всего лишь кодирование base64, и его можно тривиально заменить). В остальном весь код по авторскому праву принадлежит либо мне, либо thecrypto. [23:00] * dish смотрит на часть кода mihi для i2p tunnel [23:01] &lt;jrand0m&gt; да, точно, mihi выпустил это под gpl, но он может захотеть выпустить и под чем-то ещё, если захочет [23:01] &lt;jrand0m&gt; (но i2ptunnel по сути стороннее приложение и может лицензироваться как угодно) [23:02] &lt;jrand0m&gt; (хотя, поскольку i2p sdk — gpl, он вынужден быть gpl) [23:02] &lt;MrEcho&gt; чёрт, давно пора [23:02] &lt;jrand0m&gt; Не знаю. лицензирование — не моя сильная сторона, но я склоняюсь хотя бы к переходу на lgpl [23:02] * dish выпускает те 10–20 строк изменений в коде I2P HTTP Client от mihi под той лицензией, которая у mihi [23:03] &lt;jrand0m&gt; хехе :) [23:06] &lt;jrand0m&gt; в любом случае, 7) прочее? [23:07] &lt;jrand0m&gt; у кого-нибудь есть вопросы / опасения / идеи по i2p? [23:07] &lt;dish&gt; Позволь спросить [23:07] &lt;dish&gt; Есть ли у I2P какая-нибудь возможность задавать имя группы? [23:07] &lt;jrand0m&gt; функция имени группы? [23:07] &lt;dm&gt; команда Discovery Channel! [23:07] &lt;MrEcho&gt; лол [23:08] &lt;dish&gt; Чтобы, если вы хотите иметь приватную или отдельную сеть, но какие-то router каким-то образом перемешаются, без group name эти две сети бы слились [23:08] &lt;MrEcho&gt; он думает про WASTE [23:08] &lt;jrand0m&gt; а [23:08] &lt;dish&gt; не знаю, зачем это могло бы понадобиться, но просто спрашиваю на всякий случай [23:08] &lt;jrand0m&gt; да, на ранних этапах проектирования сети я этим игрался [23:09] &lt;jrand0m&gt; это сложнее, чем нам нужно сейчас (или в относительно ближайшем будущем [6–12 месяцев]), но может быть интегрировано позже [23:09] &lt;dish&gt; Или это плохая идея, потому что лучше держать одну большую сеть [23:09] &lt;dm&gt; i2pisdead [23:09] &lt;jrand0m&gt; хех, dm [23:10] &lt;nop&gt; заткнись [23:10] &lt;jrand0m&gt; нет, dish, это хорошая идея [23:10] &lt;dm&gt; nop: крутой парень? [23:10] &lt;jrand0m&gt; это по сути то, что есть в release 0.2.3 — ограниченные маршруты [23:10] &lt;jrand0m&gt; (то есть у тебя есть небольшой приватный (доверенный) набор пиров, и ты не хочешь, чтобы все знали, кто они, но всё равно хочешь иметь возможность с ними общаться) [23:15] &lt;jrand0m&gt; ок, что-нибудь ещё? [23:15] &lt;nop&gt; неа, я просто шучу [23:18] &lt;dm&gt; шутник? [23:20] &lt;jrand0m&gt; ок, ну, /занятная/ встреча, с парой падений iip посередине ;) [23:21] * jrand0m *baf* закрывает встречу </div>
