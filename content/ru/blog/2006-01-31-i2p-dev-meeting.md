---
title: "Встреча разработчиков I2P — 31 января 2006 года"
date: 2006-01-31
author: "jrandom"
description: "Протокол встречи разработчиков I2P от 31 января 2006 года."
categories: ["meeting"]
---

## Краткий обзор

<p class="attendees-inline"><strong>Присутствовали:</strong> bar, cervantes, Complication, frosk, gloin, jrandom, Pseudonym, stealth, Sugadude, tethra</p>

## Журнал встречи

<div class="irc-log"> 15:19 &lt;jrandom&gt;  0) привет 15:19 &lt;jrandom&gt; 1) Состояние сети 15:19 &lt;jrandom&gt; 2) Статус 0.6.1.10 15:19 &lt;jrandom&gt; 3) ??? 15:19  * jrandom машет 15:19 &lt;jrandom&gt; заметки о статусе опубликованы на http://dev.i2p.net/pipermail/i2p/2006-January/001257.html 15:20 &lt;jrandom&gt; ок, переходим к 1) Состояние сети 15:21 &lt;jrandom&gt; как упоминалось в письме, у тех, кто на 0.6.1.9-0 (полный релиз), всё должно быть по-старому 15:21 &lt;jrandom&gt; хотя у пользователей на более новых сборках (начиная с 0.6.1.9-5 и новее) могут быть проблемы 15:21 &lt;jrandom&gt; («проблемы» — возможно, это ещё мягко сказано...) 15:21 &lt;+Complication&gt; CVS -8 был немного нестабильным, так что запускаю -2 вместо (работает вполне неплохо) 15:22 &lt;gloin&gt; :-) 15:22 &lt;+Complication&gt; =вместо 15:22 &lt;Pseudonym&gt; в последнее время всё кажется нестабильным (я на 0.6.1.9-0) 15:22 &lt;jrandom&gt; круто, я подумывал откатить изменения в процессах, но включить обновление ircclient от dust и патч i2ptunnel httpserver в head, но 0.6.1.10, вероятно, уже не за горами 15:23 &lt;jrandom&gt; хмм, Pseudonym, доступ к eepsites, IRC или другим сервисам, или их хостинг? 15:23 &lt;+Complication&gt; Нестабильно на -0? Как проявляется проблема? 15:23 &lt;Pseudonym&gt; В основном замечаю это в IRC (играю в idlerpg) 15:24 &lt;jrandom&gt; («играю» ;) 15:24 &lt;Pseudonym&gt; ещё иногда router ведёт себя странно, и его приходится перезапускать (нет активных пиров) 15:24 &lt;Pseudonym&gt; хех 15:24 &lt;jrandom&gt; хмм, проблемы с подключением к интернету? 15:24 &lt;@frosk&gt; -0 здесь стабилен, если не считать, конечно, дважды в день перезапуски "router hung!" 15:24 &lt;jrandom&gt; хрм, frosk, настоящий «router hung», или «router hung» из‑за истечения срока действия leaseSet? 15:25 &lt;Pseudonym&gt; с подключением к интернету всё в порядке.  когда я перезапускаю i2p router, всё сразу возвращается 15:25 &lt;+Complication&gt; Мой Cel300 тоже зависает через некоторое время, но периоды увеличиваются, и я не в курсе причины 15:25 &lt;@frosk&gt; jrandom: истечение lease, я почти уверен 15:25 &lt;jrandom&gt; хмм, ок 15:26 &lt;jrandom&gt; почти всё это переписано для нового кода создания и управления, так что посмотрим, как пойдёт в 0.6.1.10 15:27 &lt;@frosk&gt; круто 15:27 &lt;@frosk&gt; буду рад помочь с тестированием 15:28 &lt;Pseudonym&gt; Мне не нужно, чтобы вы сейчас разбирались с проблемой.  Я просто хотел добавить наблюдение по стабильности 15:28 &lt;jrandom&gt; круто, как только локально всё станет стабильным, мне определённо понадобится привлечь помощь :) 15:28 &lt;jrandom&gt; круто, спасибо, Pseudonym  15:28 &lt;jrandom&gt; ок, есть ли ещё что‑нибудь по 1) Состояние сети? 15:30 &lt;jrandom&gt; если нет, давайте перейдём к 2) Статус 0.6.1.10 15:30 &lt;jrandom&gt; как упоминалось в письме, вместо того чтобы накручивать твик на твик в живой сети, мы пойдём прямо к первоисточнику 15:31 &lt;jrandom&gt; это не будет обратно совместимо, так что будет... рывок, и хотя мы объединим с этим ещё несколько обратно несовместимых изменений, есть вероятность, что после этого будет ещё одно 15:32 &lt;jrandom&gt; конкретнее, одна идея, которую я обдумываю, — перейти на 1024‑битный ElGamal для кода создания tunnel, вместо 2048‑битного 15:32 &lt;jrandom&gt; но это может и не понадобиться.  зависит от того, насколько сильно это ударит по нам в живой сети 15:34 &lt;jrandom&gt; если всё же понадобится, это будет означать просто обновление сети, но все назначения/и т. п. останутся прежними. 15:34 &lt;jrandom&gt; но в любом случае это то, что стоит исследовать после выхода 0.6.1.10 15:34 &lt;+Complication&gt; Вопрос по близкой теме: длина ключа как‑то связана с длиной структуры данных для создания tunnel? 15:34 &lt;jrandom&gt; да 15:35 &lt;jrandom&gt; напрямую связана: длина ключа * 2 * макс. число переходов (hops) == размер структуры данных 15:36 &lt;jrandom&gt; (то есть 256*2*8 = 4KB, что как раз соответствует размеру полноценных сообщений streaming lib) 15:37 &lt;jrandom&gt; ((У ElGamal коэффициент расширения 2x)) 15:38 &lt;+Complication&gt; Ага, спасибо. :) 15:38 &lt;jrandom&gt; ах да, ещё один момент по новой спецификации.  в ходе реализации я обнаружил ещё один необходимый параметр (4‑байтовый «reply message ID»), который я добавил в спецификацию локально, используя некоторые из зарезервированных битов 15:40 &lt;jrandom&gt; надеюсь всё запустить в ближайшие несколько дней, так что, возможно, к выходным будут ранние (неанонимные) тесты 15:40 &lt;jrandom&gt; но, разумеется, подробности — по мере готовности 15:41 &lt;jrandom&gt; ок, есть вопросы/комментарии/опасения по вещам в 0.6.1.10? 15:41 &lt;bar&gt; ещё один близкий вопрос: во время развёртывания .10 как насчёт держать i2p.net на .9 пару дней для всех, у кого включено автообновление? 15:41 &lt;bar&gt; rollout* 15:41 &lt;jrandom&gt; ага, определённо 15:42 &lt;jrandom&gt; скорее всего, у меня будет два или три router на той машине во время миграции 15:42 &lt;jrandom&gt; и будут громкие предупреждения как минимум за 5 дней до релиза 15:42 &lt;bar&gt; отлично 15:42 &lt;+Complication&gt; Так действительно будет плавнее. 15:43 &lt;+Complication&gt; Форум кажется хорошим каналом. Блок новостей на Router Console тоже... 15:43  * jrandom вспоминает времена, когда каждый релиз был обратно несовместим... тогда мы хорошо натренировались ;) 15:43 &lt;jrandom&gt; ага, форум, блок новостей, список рассылки, сайт 15:43 &lt;+Complication&gt; Чтобы те, кто присматривает за своими машинами, знали. 15:43 &lt;tethra&gt; хехех 15:44 &lt;jrandom&gt; а те, кто всё ещё на 0.6.0.1, ну, им всё равно fscked ;) 15:44 &lt;@frosk&gt; головы с плеч 15:44 &lt;+Sugadude&gt; Совсем не по теме: можем ли мы почаще делать обратно несовместимые изменения, чтобы вынудить эти старые router'ы уйти? 15:44 &lt;+Complication&gt; Думаю, они просто забыли, что I2P запущен :) 15:44 &lt;jrandom&gt; хех, Sugadude 15:45 &lt;jrandom&gt; ну, если они совместимы, мы можем использовать их ресурсы, но если по какой‑то причине не можем, нам следует пометить их как несовместимые 15:47 &lt;jrandom&gt; ок, если больше ничего нет по этой теме, перейдём к нашему сборнику прочего: 3) ??? 15:47 &lt;jrandom&gt; у кого‑нибудь есть ещё что‑нибудь, что хочет поднять на собрании? 15:48 &lt;tethra&gt; где‑то на router console сказано, что пользователи за симметричными NAT сейчас не поддерживаются, это изменится в ближайшее время?  15:48 &lt;tethra&gt; или я проявляю чудовищное невежество в чём‑то 15:49 &lt;+Complication&gt; Относительно кода webcache... похоже, я почти готов. 15:49 &lt;jrandom&gt; есть несколько техник, чтобы помочь пользователям за симметричными NAT, которые bar изложил в списке рассылки и на форуме, хотя мне неизвестен какой‑либо немедленный прогресс по этому 15:49 &lt;jrandom&gt; о, отлично, Complication, дай знать, когда выкатывать релиз :) 15:50 &lt;+Complication&gt; Настроил watchdog, чтобы приемлемо прерывал загрузки, провожу немного тестов и уборки (сейчас он логирует гораздо больше, чем следовало бы).. 15:50 &lt;+Complication&gt; У меня поднят один webcache‑сервер, у awup есть ещё один... для реалистичного тестирования, возможно, стоит включить лимитирование... 15:51 &lt;+Complication&gt; ...если удастся встретить legion, спрошу, не захочет ли он тоже поднять один. 15:52 &lt;jrandom&gt; круто, даже один webcache был бы отличным началом 15:52 &lt;+Complication&gt; И если кто‑то ещё захочет запустить скрипт (доступен на awup.i2p, Python‑скрипт, использующий SAM)... их ссылки можно добавить, хотя сейчас добавление ссылок к большему числу «seed webcaches» требует перекомпиляции исходников. 15:53 &lt;+Complication&gt; (не в файле, а в заголовке GWebCacheContainer.java) 15:53  * gloin не знает, что это за штука — webcache. 15:53 &lt;jrandom&gt; gloin: это позволяет подключиться к i2phex, не скачивая файл i2phex.hosts в первый раз 15:54 &lt;+Complication&gt; gloin: для упрощения интеграции I2PHex 15:55  * cervantes опаздывает 15:55 &lt;+Complication&gt; И для тех, кто переподключается позже (напр., у кого закончились живые ссылки на пиров), он может предложить свежие ссылки 15:55 &lt;gloin&gt; ок. 15:57 &lt;+Complication&gt; Ох, снова офлайн 15:58 &lt;stealth&gt; как насчёт автоматического запуска i2phex после старта i2p ? 15:58 &lt;+Complication&gt; Похоже на перебор 15:58 &lt;+Complication&gt; По крайней мере на текущем этапе 15:58 &lt;jrandom&gt; stealth: ты можешь заставить i2p router запускать любое Java‑приложение, добавив записи в свой файл client.config 15:59 &lt;+Complication&gt; Кроме того, думаю, I2Phex можно запускать до того, как запустится I2P 15:59 &lt;@frosk&gt; на любом этапе 15:59 &lt;+Complication&gt; Теоретически он должен продолжать пытаться подключиться, пока I2P не поднимется 15:59 &lt;+Complication&gt; (хотя не проверял) 15:59 &lt;jrandom&gt; только помни: если ты укажешь ему запускать i2phex, когда i2phex закроется, велика вероятность, что клиент i2phex убьёт JVM (перезапустив твой router) 16:00 &lt;+Complication&gt; Кроме того, это можно довольно легко заскриптовать... 16:00 &lt;+Complication&gt; e.g. "cd /home/i2p; sh i2prouter start; cd /home/i2phex; sleep 100; sh run.sh;" 16:00 &lt;+Complication&gt; (или как там было) 16:01 &lt;+Complication&gt; Извиняюсь, вероятнее /home/user/i2p :) 16:01 &lt;cervantes&gt; не забудь запустить /usr/games/tetris перед sleep 100 16:02 &lt;jrandom&gt; точняк 16:02 &lt;jrandom&gt; ок, есть ли ещё что‑нибудь для встречи? 16:03 &lt;stealth&gt; ну, я думал  об этом — просто запускать exe. решение i2psnark с «always on» лучше, потому что люди забывают шарить свои файлы, если они ничего не скачивают... 16:04 &lt;jrandom&gt; ага, хотя мне ещё не попадался gnutella‑клиент, достаточно тонкий (чтобы его можно было интегрировать) 16:05 &lt;cervantes&gt; разве в текущем Phex не ведётся работа по абстрагированию UI? возможно, клиент в итоге станет лёгким 16:05 &lt;+Complication&gt; Я не читал ту часть Phex CVS 16:06 &lt;jrandom&gt; если phex можно было бы запускать как .war, это было бы действительно круто 16:06 &lt;cervantes&gt; isn't the=isn't there 16:06 &lt;cervantes&gt; возможно, я ошибаюсь 16:06 &lt;+Complication&gt; Sirup, конечно, работал над XML‑RPC интерфейсом, но я не уверен, что Gregor и ко тоже 16:07 &lt;+Complication&gt; Так что я не уверен, портировал ли sirup это внутрь или начал писать с нуля 16:09 &lt;jrandom&gt; если правильно помню, он просто импортировал apache'овскую xmlrpc‑библиотеку и экспонировал часть внутренностей i2phex, но над этим, вероятно, уже 6–8 месяцев не велось работы, и оно так и не было функциональным, насколько мне известно 16:10 &lt;fox_&gt; &lt;tethra&gt; mutella — это web‑based gnutella‑клиент, довольно лёгкий, если правильно помню. не уверен, что это поможет, но хех, возможно, стоит кому‑нибудь (поталантливее) посмотреть на него. 16:10 &lt;fox_&gt; &lt;tethra&gt; хотя возможно, это не то, что требуется. 16:12 &lt;jrandom&gt; портировать новый — это приличный объём работы, особенно, к сожалению, если он на C/C++ 16:12 &lt;+Complication&gt; Лично я вряд ли буду возиться с XML‑RPC. Однако попытки поймать различные баги... в моих ближайших планах. 16:13  * Complication хочет навсегда избавиться от эффекта rehash, ведь это такая пустая трата времени 16:13 &lt;jrandom&gt; о, возможно, это запускается из‑за смены часового пояса? 16:14 &lt;jrandom&gt; когда I2P SDK подключается к router, он получает от него текущее время I2P (NTP) и переводит JVM SDK в UTC 16:14 &lt;+Complication&gt; Звучит маловероятно... но на этом этапе я мало что могу исключить 16:15 &lt;jrandom&gt; (и если rehash зависел от порядка и меток времени файлов, возможно, сдвиг на несколько часов это менял бы) 16:15 &lt;jrandom&gt; да, ты уже многое раскопал, просто упоминаю возможность 16:15  * jrandom не знает об этом ничего, кроме твоих отчётов о багах :) 16:16 &lt;+Complication&gt; Это случается время от времени и *кажется* связано с чем‑то, происходящим, когда конфигурационный файл «sharedlibrary» загружается/перезаписывается 16:16 &lt;+Complication&gt; Хмм, интересная возможность... 16:16 &lt;+Complication&gt; Я недостаточно копнул, чтобы это исключить 16:18 &lt;jrandom&gt; ок, у кого‑нибудь ещё есть что‑нибудь для встречи? 16:19 &lt;jrandom&gt; если нет... 16:19  * jrandom подводит итог 16:19  * bar желает jrandom удачи с .10 и вручает ему блестящий baf 16:19 &lt;jrandom&gt; gracias :) 16:19  * jrandom закрывает встречу *baf*'ом  </div>
