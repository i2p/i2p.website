---
title: "Встреча разработчиков I2P - 4 мая 2021"
date: 2021-05-04
author: "i2p"
description: "Протокол встречи разработчиков I2P от 4 мая 2021 года."
categories: ["meeting"]
---

## Краткий обзор

<p class="attendees-inline"><strong>Присутствуют:</strong> eyedeekay, zzz, zlatinb</p>

## Журнал встречи

<div class="irc-log"> (04:01:04 PM) eyedeekay: Привет всем, пора начинать встречу 4 мая (04:01:13 PM) zlatinb: привет (04:01:21 PM) zzz: здравствуйте (04:01:39 PM) eyedeekay: 1) Привет  (04:01:39 PM) eyedeekay: 2) Отчёт по Mac Launcher, последующие шаги  (04:01:39 PM) eyedeekay: 3) Отчёт о миграции Trac, итоги  (04:01:39 PM) eyedeekay: 4) релиз 0.9.50 (04:01:39 PM) eyedeekay: 5) Отчёт по каналам обновления (04:01:39 PM) eyedeekay: 6) Улучшения Docker (04:01:39 PM) eyedeekay: 7) Ключи плагина Bote (04:02:17 PM) eyedeekay: zab, пункты 2) и 5) вероятно пересекутся, объединить их? (04:02:26 PM) zlatinb: конечно (04:02:56 PM) eyedeekay: ОК, тогда давайте в этом списке поменяем местами 3 и 5, и сделаем каналы обновления сразу после Mac Launcher (04:03:11 PM) eyedeekay: 2) Отчёт по Mac Launcher (04:03:59 PM) zlatinb: пока что я получил один положительный отчёт от неизвестного пользователя и знаю, что как минимум несколько человек пробовали .dmg (04:04:28 PM) zlatinb: так что в части установщика, думаю, мы в очень хорошей форме. Не могу придумать каких-либо изменений, не связанных с функциональностью обновления (04:04:49 PM) zlatinb: s/installer/app bundle/ (04:05:24 PM) zlatinb: это всё строго по пункту 2) с моей стороны (04:06:10 PM) eyedeekay: Отлично. Мне добавить нечего, так что можем перейти к 3) Каналы обновления (04:06:24 PM) eyedeekay: Если только у zzz что-то есть? (04:06:36 PM) zzz: нет (04:07:00 PM) eyedeekay: Тогда, zlatinb, каналы обновления тоже твоя тема (04:07:22 PM) zlatinb: мы с zzz провели первоначальный анализ/оценку объёма работ, необходимых для включения каналов обновления (04:08:05 PM) zlatinb: консенсус (кажется) такой, что потребуется внести изменения в код i2p.i2p, а также в код, находящийся в репозитории mac-jpackage (04:08:36 PM) zlatinb: мы всё ещё перечисляем все крайние случаи, но пока не наткнулись на критическую проблему (04:09:24 PM) zzz: согласен, звучит довольно просто и не слишком трудоёмко. тестирования, вероятно, будет больше, чем кодирования (04:09:36 PM) zlatinb: Я очень занят до релиза, но после сосредоточусь на этом. Могу углубиться в технические детали, но это будет слишком низкоуровнево для этой встречи (04:09:39 PM) zlatinb: eot (04:10:05 PM) eyedeekay: Спасибо за отчёт (04:10:12 PM) eyedeekay: Переходим к 4) релиз 0.9.50 (04:11:08 PM) dr|z3d: ты пропустил миграцию Trac. (04:11:26 PM) eyedeekay: Я собирался сделать это как пункт 5, а не 4 (04:11:40 PM) dr|z3d: ок, как шли! (04:11:45 PM) eyedeekay: До релиза осталось 11 дней (04:12:09 PM) eyedeekay: Теги планируется заморозить завтра (04:12:22 PM) eyedeekay: У меня больше нет изменений строк для i2p.i2p (04:13:43 PM) eyedeekay: zzz, zlatinb, что хотите добавить? (04:14:08 PM) zzz: немного... завтра в 16:00 UTC отправлю строки в transifex (04:14:26 PM) zlatinb: orignal полчаса назад поднял интересный вопрос о вместимости очереди NTCP, возможно, стоит посмотреть до релиза (04:14:27 PM) zzz: Я закончил с 50. Уже работаю над следующим релизом (04:15:18 PM) zzz: Я этого не видел, но мне бы не хотелось что-то менять сейчас. Я тестирую некоторые изменения в очереди NTCP для следующего релиза (04:15:29 PM) zzz: eot (04:15:38 PM) zlatinb: eot и от меня (04:15:53 PM) eyedeekay: 5) Отчёт о миграции Trac, итоги (04:16:35 PM) eyedeekay: Миграция Trac оказалась непростой в основном по тем причинам, из‑за которых, как мне казалось, её и нужно было сделать; в частности, trac xmlrpc сломался на нашем инстансе примерно в то же время, что и встреча в прошлом месяце (04:17:34 PM) eyedeekay: После пары недель безуспешных попыток починить я решил, что будет проще (и аккуратнее) выгрузить наши задачи из trac и перенести их в gitlab с помощью gitlab API (04:18:20 PM) eyedeekay: В остальном всё прошло успешно и попутно создался читабельный статический архив всех наших тикетов trac на текущий момент (04:18:32 PM) eyedeekay: eot (04:18:44 PM) zzz: каков статус? готово? (04:19:16 PM) eyedeekay: Для целей отслеживания тикетов миграция trac завершена. В trac ещё есть интересные статьи wiki, которые нужно забэкапить, но тикеты готовы. (04:19:43 PM) zzz: ок. Я поменял urls в нашем коде, чтобы указывали на gitlab (04:20:14 PM) eyedeekay: Я поменял большинство на сайте, но всё ещё делаю grep по .rst‑файлам, ищу оставшиеся (04:20:28 PM) zzz: можешь, пожалуйста, добавить примечания и ссылки на главной странице trac, на странице тикетов, на странице логина и где ещё нужно, с новыми ссылками i2p и clearnet? (04:20:42 PM) eyedeekay: Конечно, сделаю (04:21:49 PM) zzz: теперь мы зависим от gitlab (когда был только код, мы всегда могли использовать github) ... есть ли у нас какой-то резервный админ? (04:21:49 PM) eyedeekay: Я также пройду по всем README и удостоверюсь, что они тоже ссылаются на правильные места (04:22:50 PM) eyedeekay: У echelon есть админский аккаунт на gitlab, но сейчас больше ни у кого нет доступа по SSH к самому серверу под ним (04:22:50 PM) mode (+v anonymousmaybe) by ChanServ (04:23:30 PM) eyedeekay: Я могу посмотреть синхронизацию issues с github с помощью бота, это не слишком отличается от второй части процесса миграции (04:23:39 PM) zzz: хорошо, вам двоим стоит пересмотреть, кто что может делать, чтобы убедиться, что у нас всё покрыто (04:23:45 PM) zzz: отличная работа (04:24:09 PM) eyedeekay: Спасибо (04:24:22 PM) eyedeekay: Переходим к 6) Улучшения Docker (04:24:42 PM) eyedeekay: zlatinb, хочешь ввести в курс тех, кто ещё не пробовал? :) (04:25:10 PM) zlatinb: лол, да, новый docker‑образ меньше и поддерживает постоянные тома для конфигурации и загрузок snark (04:25:35 PM) zlatinb: документация в исходниках, файл Docker.md. Я бы хотел добавить страницу на сайт с тем же содержимым (04:26:03 PM) zlatinb: это, собственно, всё (04:26:30 PM) eyedeekay: Хорошая мысль насчёт сайта, сейчас мы его рекламируем, но совсем не документируем, как им пользоваться (04:26:40 PM) zzz: кто управляет аккаунтом geti2p в docker и у кого ещё есть доступ? (04:26:48 PM) zzz: или это не так работает? (04:27:35 PM) zzz: оно просто авто‑собирает на каждый чек‑ин и всё? (04:27:37 PM) eyedeekay: Я управляю аккаунтом geti2p в docker, могу выдавать доступ людям из gitlab, его начинал Ace Barry или hkparker, если правильно помню, но сейчас админ я (04:28:04 PM) eyedeekay: Оно собирает `latest` на каждый чек‑ин и собирает образ на каждый тег, начинающийся с `i2p-*` (04:28:50 PM) zzz: ок, значит всё, что сделал zlatinb, уже там (04:28:52 PM) zzz: понял (04:29:00 PM) zlatinb: да (04:29:30 PM) zlatinb: eyedeekay: я видел, ты только что задокеризировал процесс сборки android? (04:30:50 PM) eyedeekay: Да, это способ упаковать все требования к релизу в многократно используемую форму (04:31:35 PM) zzz: eyedeekay, раз уж об android, я видел, что google добавляет больше правил и повышает требования, которые вступят в силу позже в этом году. Возможно, стоит выделить немного времени до этого релиза, чтобы опередить события (04:33:10 PM) eyedeekay: Я на этой неделе перепроверяю всё по релизу Android, чтобы всё прошло гладко (04:34:18 PM) zzz: как я сказал, новые правила вступают в силу через несколько месяцев, но не помешает заняться этим уже сейчас (04:34:41 PM) zzz: или может и помешает, но лучше раньше, чем позже (04:34:42 PM) zzz: eot (04:35:14 PM) eyedeekay: Ну, зависит от F-Droid, иногда они отстают от GPlay по требованиям таким образом, что это отчасти взаимоисключающе, но лучше заранее знать, если так и будет (04:36:02 PM) eyedeekay: Думаю, мы готовы к пункту 7) Ключи плагина Bote (04:36:20 PM) eyedeekay: Это всплыло у меня в разговоре с некоторыми реддиторами на прошлой неделе (04:37:06 PM) eyedeekay: Люди пытаются использовать форк Bote от mhatta, но у них не получается, потому что они не могут легко установить ключи плагина (04:37:30 PM) eyedeekay: Они также в большинстве своём не знают, как интерпретировать ошибку сертификата в боковой панели, чтобы понять, в чём проблема (04:38:17 PM) eyedeekay: s/keys/certificates/ (04:38:41 PM) eyedeekay: Я бы хотел, чтобы мы рассмотрели добавление сертификатов mhatta по умолчанию, чтобы люди больше не сталкивались с этой ошибкой (04:39:17 PM) zzz: 1) ему следует предоставить своим пользователям более понятные инструкции; 2) ему нужно обратиться к нам с просьбой (04:40:22 PM) eyedeekay: Справедливо. (04:40:46 PM) eyedeekay: На этом перечисленные темы закончились, есть что-то ещё? (04:41:06 PM) zlatinb: да, я бы хотел, чтобы мы подумали, как упростить сборку тестовых сетей (04:41:08 PM) zzz: и я бы попросил его занести .49 в debian, чего так и не случилось (04:41:55 PM) zlatinb: у нас два человека собирали тестовые сети LXC и один человек — Docker, причём все трое используют довольно разные подходы (04:42:14 PM) zlatinb: есть ли интерес разобраться, где болевые точки, и всё упростить? (04:42:51 PM) zzz: Я заинтересован узнать, есть ли интерес :) (04:43:10 PM) eyedeekay: С моей стороны — да, я хотел бы запустить тестовую сеть, предпочтительно в docker (04:44:13 PM) zlatinb: круто... стоит посмотреть... навскидку, initial seeding — худшая часть (04:45:14 PM) eyedeekay: Есть ли где-то написанные инструкции по docker‑тестсети или все основаны на LXC? (04:45:18 PM) zzz: моё решение для seeding хорошо сработало для меня, это примерно решено для lxc (04:45:47 PM) zlatinb: У LoveIsGrief может быть что-то в его репозиториях на gitlab  (04:47:55 PM) zlatinb: eot от меня (04:49:07 PM) eyedeekay: Похоже, если я хочу docker‑тестсеть, мне стоит посмотреть их работу и заполнить пробелы на основе процесса для LXC (04:49:43 PM) zzz: Я закоммитил все мои ужасные lxc shell‑скрипты в i2p.scripts (04:50:29 PM) eyedeekay: Спасибо, zzz, ужасные они или нет, уверен, что в них есть всё, что мне нужно (04:51:32 PM) eyedeekay: Что-нибудь ещё для встречи? (04:51:50 PM) eyedeekay: timeout 1m (04:51:50 PM) zzz: нет (04:51:58 PM) zlatinb: у меня нет (04:52:19 PM) eyedeekay: Тогда спасибо всем, что пришли (04:52:44 PM) eyedeekay: Я скоро выложу логи на сайт, увидимся в IRC </div>
