---
title: "Встреча разработчиков I2P - 09 ноября 2004"
date: 2004-11-09
author: "jrandom"
description: "Протокол собрания разработчиков I2P от 9 ноября 2004 г."
categories: ["meeting"]
---

## Краткое резюме

<p class="attendees-inline"><strong>Присутствовали:</strong> ant, cervantes, Ch0Hag, duck, jrandom, keysersoze, MrEcho, mule, Nightblade, peer, polecat, postman, protokol, Ragnarok</p>

## Протокол встречи

<div class="irc-log"> 13:26 &lt;jrandom&gt; 0) привет 13:26 &lt;cervantes&gt; давайте посмотрим меню, прежде чем заказывать :P 13:26 &lt;jrandom&gt; 1) 0.4.1.4 13:26 &lt;jrandom&gt; 2) стриминговая библиотека 13:26 &lt;jrandom&gt; 3) прогресс по BT 13:26 &lt;jrandom&gt; 4) addressbook.py 13:26 &lt;jrandom&gt; 5) ??? 13:26 &lt;jrandom&gt; 0) привет 13:27  * jrandom машет 13:27 &lt;Ragnarok&gt; привет 13:27  * cervantes машет 13:27 &lt;jrandom&gt; заметки по статусу выложены @ http://dev.i2p.net/pipermail/i2p/2004-November/000485.html 13:27 &lt;keysersoze&gt; привет 13:27 &lt;+polecat&gt; 5) могут быть DHT, как та штука bamboo? 13:27 &lt;jrandom&gt; (ага, я опоздал) 13:27 &lt;jrandom&gt; круто, polecat  13:27  * polecat снова щёлкает по пальцам! 13:27 &lt;jrandom&gt; ок, прыгаем к 1) 0.4.1.4 13:28 &lt;+Ch0Hag&gt; 0.4.1.4, похоже, падает чаще, чем должен 13:28 &lt;+Ch0Hag&gt; то есть вообще 13:28 &lt;jrandom&gt; падает? 13:28 &lt;+Ch0Hag&gt; Хотя есть шанс, что это вина kaffe. 13:28 &lt;jrandom&gt; отваливается твое irc‑подключение, или перезапускается router? 13:28 &lt;jrandom&gt; ага, ты на kaffe? 13:29 &lt;+Ch0Hag&gt; router 13:29 &lt;+Ch0Hag&gt; Да. 13:29 &lt;+Ch0Hag&gt; Кто-то же должен быть :) 13:29 &lt;jrandom&gt; на kaffe мне пришлось удвоить дефолтное использование памяти (дать ей -mx128m при запуске) 13:29 &lt;+polecat&gt; УХ!  Не удивительно!  У меня hawk был в игноре. 13:29 &lt;jrandom&gt; ну, у нас как минимум 3 человека на kaffe в последнее время 13:30 &lt;jrandom&gt; кроме этого, как у вас идёт 0.4.1.4? 13:30  * polecat на kaffe... не знает лучшей JVM на данный момент. 13:30 &lt;jrandom&gt; ранние отзывы были хорошие, но я давно ничего не слышал 13:30 &lt;+Ch0Hag&gt; у меня было 64, попробую 128 13:30 &lt;Ragnarok&gt; вроде хорошо 13:30 &lt;keysersoze&gt; jrandom: Серьёзных проблем нет 13:30 &lt;@duck&gt; последний крупный сбой irc был у меня 13:30 &lt;+Ch0Hag&gt; И да, многое было из-за OOM (заканчивалась память) 13:31 &lt;@duck&gt; иначе, думаю, он немного нестабилен (с тех пор как я включил bw), но у меня нет доказательств 13:31 &lt;jrandom&gt; троттлинг на твоей машине — узкое место, поскольку, например, каждое получаемое тобой сообщение — это около 20+ сообщений, которые надо разослать 13:32 &lt;@duck&gt; ах 13:32 &lt;jrandom&gt; но согласен, irc был неровным  13:32 &lt;cervantes&gt; 0.4.1.3 всегда был как скала на моей IBM JVM, поэтому я пока избегаю обновления 13:32 &lt;cervantes&gt; (аптайм 22 дня) 13:32 &lt;jrandom&gt; круто, cervantes  13:32 &lt;jrandom&gt; duck: [вставить комментарий, описывающий надежды на новую стриминговую библиотеку] 13:33 &lt;cervantes&gt; irc‑сервер baffled был чуть менее бугристым 13:33 &lt;jrandom&gt; верно, это хорошая метрика 13:33 &lt;keysersoze&gt; cervantes:  Какую версию он гоняет? (Знаешь?) 13:33 &lt;ant&gt; &lt;dm&gt; повлияет ли стриминговая библиотека на IRC, или сообщения и так слишком малы? 13:33 &lt;@duck&gt; Я был хорошей уткой на этой неделе, так что немного подниму лимит 13:33 &lt;jrandom&gt; ща гляну, keysersoze  13:33 &lt;jrandom&gt; :) 13:33 &lt;+polecat&gt; У меня 11 часов аптайма.  ;.; 13:34 &lt;jrandom&gt; keysersoze: 0.4.1.4 13:34 &lt;keysersoze&gt; jrandom: ;) Но можно спросить его и тут, когда появится 13:34 &lt;keysersoze&gt; ок 13:34 &lt;jrandom&gt; dm: новая стриминговая библиотека улучшит устойчивость и обработку сбоев, но, разумеется, не повысит пропускную способность irc 13:34 &lt;jrandom&gt; (версии router публикуются в netDb, и я знаю, какие router’ы его) 13:34 &lt;ant&gt; &lt;dm&gt; это хорошо 13:35 &lt;jrandom&gt; ок, есть ли что-то ещё по 0.4.1.4? 13:35 &lt;jrandom&gt; если нет, кратко перейдём к 2) прогресс стриминговой библиотеки 13:36 &lt;keysersoze&gt; нет 13:36 &lt;jrandom&gt; как упомянуто в заметках, будут новости, когда будут :) 13:36 &lt;+polecat&gt; Что мы сможем делать со стриминговой библиотекой, чего не могли до неё? 13:36 &lt;Ragnarok&gt; быстро скачивать большие файлы 13:36 &lt;Ragnarok&gt; и DOS’ить сеть :) 13:36 &lt;jrandom&gt; polecat: передавать произвольно большие файлы, передавать со скоростью &gt; 4KB/s 13:37 &lt;+Ch0Hag&gt; и/или надёжно? 13:37 &lt;jrandom&gt; Ragnarok: как раз над тем, чтобы не DOS’ить сеть, я сейчас и работаю ;) 13:37 &lt;+protokol&gt; я заметил со временем, что если я теряю соединение на eepIRC, реконекты всегда проваливаются, но если остановить на пару минут, коннектится нормально 13:37 &lt;+polecat&gt; Она увеличит скорость передачи?  o.O 13:37 &lt;jrandom&gt; polecat: да. текущая стриминговая библиотека использует фиксированное окно в 1 пакет — ждёт ACK перед отправкой следующего сообщения 13:37  * polecat кивает protokol, похоже на то. 13:38 &lt;ant&gt; &lt;dm&gt; Стриминговая библиотека позволит новому классу TCP‑приложений быть пригодными для использования на I2P.  13:38 &lt;Ragnarok&gt; jrandom: ах, хорошо. Я немного переживал по этому поводу :) 13:38 &lt;ant&gt; &lt;dm&gt; Это маркетинговая версия. 13:38 &lt;jrandom&gt; скажу лишь, что пропускная способность с новой библиотекой выглядит многообещающе. 13:39 &lt;jrandom&gt; хе, dm 13:39 &lt;keysersoze&gt; jrandom: Типа расширения обычного TCP, где отправитель продолжает слать, даже если ещё не получил ACK, до определённого количества? 13:39 &lt;+polecat&gt; jrandom: Ага, понимаю, как это может быть компрометирующим... 13:39 &lt;jrandom&gt; верно, keysersoze, до (скользящего) размера окна 13:39 &lt;jrandom&gt; (всё это управление/избежание перегрузок) [/размахивание руками] 13:40 &lt;+polecat&gt; Я также вижу проблему с перегрузкой. Если много пакетов уйдут после обрыва соединения. 13:40 &lt;cervantes&gt; будет интересно увидеть сравнения бенчмарков для i2p BT на новой стриминговой библиотеке и старой не особо стриминговой 13:40 &lt;jrandom&gt; ага, cervantes  13:41 &lt;jrandom&gt; polecat: это самая большая опасность — предотвратить затопление сети, поэтому и выкатываем осторожно 13:41 &lt;ant&gt; &lt;dm&gt; У меня баг‑репорт. Напомните, когда дойдём до 5. 13:41 &lt;cervantes&gt; jrandom: с точки зрения приложения, насколько прозрачен будет переход? 13:42 &lt;keysersoze&gt; polecat: В текущих планах есть “slow‑start”, где окно сначала 1, затем осторожно 2, и ТОЛЬКО если это хорошо работает, 3 и т.д., до максимума? 13:42 &lt;+polecat&gt; 0.4.1.4 использует стриминговую библиотеку, или её ещё не задействовали? 13:42 &lt;jrandom&gt; cervantes, когда выйдет 0.4.2, менять код не нужно. ты можешь даже использовать стриминговую библиотеку уже сейчас, если задашь магический флаг в окружении :) 13:42 &lt;cervantes&gt; polecat: это будет в 0.4.2 13:42 &lt;ant&gt; * dm все бегут к jrandom. 13:42 &lt;jrandom&gt; она уже с вами — см. streaming.jar 13:42 &lt;jrandom&gt; но по умолчанию отключена 13:42 &lt;ant&gt; &lt;dm&gt; "флаг! флаг! флаг!" 13:43 &lt;keysersoze&gt; jrandom: Ну скажи, чем насладиться, какая переменная окружения ;) 13:43 &lt;jrandom&gt; однако, стриминговая библиотека НАЗАД НЕСОВМЕСТИМА 13:43 &lt;jrandom&gt; то есть ты не сможешь с ней пользоваться IRC 13:43 &lt;cervantes&gt; У меня ранняя .1.3, напомню ;-) 13:43 &lt;jrandom&gt; если только duck не запустит отдельный destination для newStreamingLib 13:43 &lt;+polecat&gt; Да... наверное лучше переключаться синхронно, а не по одному. 13:43 &lt;jrandom&gt; ага 13:43 &lt;+Ch0Hag&gt; Думаю, это один из тех флагов: "если не можешь найти, значит, не нужен". 13:43 &lt;ant&gt; &lt;dm&gt; duck: ради всего святого, сделай, как сказано!!! 13:43 &lt;+Ch0Hag&gt; Как большинство у GCC... 13:43 &lt;jrandom&gt; верно, Ch0Hag :) 13:44 &lt;jrandom&gt; dm: ещё есть вещи для тестирования 13:44 &lt;jrandom&gt; например, сегодня утром mule помогал тестировать с FUQID 13:44 &lt;keysersoze&gt; jrandom: Это влияет на какие‑либо ключи в hosts.txt для существующих I2P‑назначений? 13:44 &lt;mule&gt; опоздал на встречу. конец летнего времени :(. 13:44 &lt;jrandom&gt; (а FUQID делает злющие вещи :) 13:45 &lt;jrandom&gt; привет, mule, я тоже :)  ты как раз вовремя 13:45 &lt;ant&gt; &lt;dm&gt; mule: ты не пропустил раздел 5) ????? 13:45 &lt;+Ch0Hag&gt; Кстати о fuqid, есть новости по stasher? 13:45 &lt;ant&gt; &lt;dm&gt; откуда тебе знать, может ???? это: GOTO 1 13:45 &lt;jrandom&gt; keysersoze: нет, стриминговая библиотека не участвует в той части 13:45 &lt;+Ch0Hag&gt; Или это тема достаточно большая, чтобы подождать до 5? 13:45 &lt;jrandom&gt; Ch0Hag: от aum с сентября никто ничего не слышал, и никто другой над stasher не работает. 13:46 &lt;jrandom&gt; (но по другим вещам DHT поговорим в 5)??? как я слышал) 13:46 &lt;+Ch0Hag&gt; Ох. 13:46 &lt;+Ch0Hag&gt; Обидно. 13:46 &lt;+Ch0Hag&gt; Разработчикам freenet конкуренцию ... не убрали? 13:46 &lt;+Ch0Hag&gt; :) 13:46 &lt;jrandom&gt; хе 13:47 &lt;+polecat&gt; Первое применение политики убийств.   x3 13:47 &lt;+Ch0Hag&gt; В любом случае, у меня больше ничего нет, так что не буду вмешиваться до 5 13:47 &lt;jrandom&gt; ок, в стриминговой библиотеке много всего, но обсуждение позже 13:47 &lt;jrandom&gt; если больше ничего нет, перейдём к 3) прогресс BT 13:47 &lt;cervantes&gt; &lt;/evasion&gt; 13:48 &lt;ant&gt; &lt;dm&gt; Разве никто не хочет, чтобы jrandom принял процесс выкатывания toad? 13:48 &lt;ant&gt; &lt;dm&gt; Build 3435: попытка стриминговой библиотеки 13:48 &lt;jrandom&gt; duck: пинг? 13:48 &lt;ant&gt; &lt;dm&gt; Build 3436: попытка стриминговой библиотеки 2 13:48 &lt;@duck&gt; понг 13:48 &lt;ant&gt; &lt;dm&gt; Build 3436: попытка стриминговой библиотеки 3 13:48 &lt;jrandom&gt; веди себя хорошо 13:48  * duck берёт микрофон 13:48 &lt;Ragnarok&gt; нет, не хотим 13:48 &lt;@duck&gt; dinoman, Ragnarok и я работали над BT‑клиентом. 13:48 &lt;@duck&gt; - BT‑протокол проанализирован и изменения описаны на http://duck.i2p/i2p-bt/txt/i2p-bt_protocol.txt 13:48 &lt;@duck&gt; - dino модифицировал phpbt, инфо на http://duck.i2p/i2p-bt/txt/tracker.txt 13:48 &lt;@duck&gt; dino заставил клиент говорить с трекером, мы с R немного улучшили. 13:48 &lt;@duck&gt; вся связка трекер &lt;-&gt; клиент работала 13:48 &lt;@duck&gt; но мы застряли на библиотеке SAM для Python... 13:49 &lt;@duck&gt; Connelly помогал, но тоже занят 13:49 &lt;@duck&gt; и aum пропал 13:49 &lt;+polecat&gt; Я всё ещё в шоке, что BT вообще может работать на i2p... 13:49 &lt;@duck&gt; так что я выкинул pysam, переимплементировал BTшный RawServer.py, и теперь оно как бы работает. 13:49 &lt;jrandom&gt; (w00t!) 13:49 &lt;@duck&gt; горячие новости: канал #i2p-bt (особенно тема с инфой о последнем релизе) 13:49 &lt;@duck&gt; теперь я добавляю много логирования, чтобы поймать мелкие огрехи 13:50 &lt;Ragnarok&gt; он гораздо приятнее, чем оригинальный RawServer.py 13:50 &lt;peer&gt; duck: это уже готово к бета‑тесту? 13:50 &lt;@duck&gt; (например, во время EndGame он должен таймаутиться и ретраить добор последних кусочков) 13:50 &lt;@duck&gt; peer: ага 13:50 &lt;@duck&gt; маленький вопрос к обсуждению: 13:51 &lt;@duck&gt; пока совместим с python 2.2 (и выше) 13:51 &lt;@duck&gt; (похоже, так же и у самого bittorrent) 13:51 &lt;@duck&gt; но логирование требует 2.3... 13:51 &lt;cervantes&gt; да, так и есть 13:51 &lt;@duck&gt; насколько это плохо? 13:51 &lt;jrandom&gt; мои freebsd и linux коробки с 2.3 13:51 &lt;ant&gt; &lt;dm&gt; плохо? 13:52 &lt;jrandom&gt; (хотя ставились в течение последнего года) 13:52 &lt;Ragnarok&gt; есть ещё мейджорные дистры, где всё ещё 2.2? 13:52 &lt;@duck&gt; debian‑stable, похоже, всё ещё возит 2.2, в последний раз когда смотрел 13:52 &lt;jrandom&gt; ах, у меня debian unstable 13:52 &lt;@duck&gt; но это вряд ли удивляет 13:52 &lt;+Ch0Hag&gt; Debian везёт 2.3, 2.2, 2.1 и, возможно, 2.0 13:52 &lt;+Ch0Hag&gt; Вместе. 13:52 &lt;Ragnarok&gt; кроме Debian stable, думаю... 13:53 &lt;+Ch0Hag&gt; Вот в этом я не уверен. 13:53 &lt;jrandom&gt; было бы неплохо поддерживать 2.2 — разве для него нет нормальных библиотек логирования? 13:53 &lt;Ragnarok&gt; глупый debian 13:53 &lt;@duck&gt; jrandom: можно бандлить либу из 2.3 13:54 &lt;Ragnarok&gt; можно ли сделать логирование просто опциональным? 13:54 &lt;@duck&gt; думаю, да 13:55 &lt;jrandom&gt; ну, это скорее инструмент продуктивности кодеров, так что как удобнее тем, кто пишет 13:55 &lt;ant&gt; &lt;dm&gt; мы можем переживать об этом, когда I2P + BT станет популярным. 13:55 &lt;keysersoze&gt; Кому нужно это логирование? Не конечному пользователю, думаю, так что при деплое не важно, что где-то логирование невозможно, верно? 13:55 &lt;ant&gt; &lt;dm&gt; к тому времени, может, 2.3 станет стандартом 13:55 &lt;jrandom&gt; поддержка 2.2 была бы неплоха, но не думаю, что будет страшно, если потребуется 2.3 13:55 &lt;cervantes&gt; duck: так список анонса пиров трекера можно заставить выплёвывать I2P destination’ы вместо IP машин? 13:56 &lt;@duck&gt; ок, попробуем абстрагировать библиотеку логирования, с 2.2 использовать stdout 13:56 &lt;@duck&gt; cervantes: http://duck.i2p/i2p-bt/diffs/phpbt-i2p.diff 13:56 &lt;jrandom&gt; keysersoze: логирование нужно на машинах клиентов, чтобы если/когда всплывут баги, дев мог получить детальные логи 13:56 &lt;jrandom&gt; верно, duck 13:56 &lt;cervantes&gt; спс 13:56 &lt;+Ch0Hag&gt; хе, если кому интересно, Woody имеет python 1.5, 2.0 и 2.1 13:56 &lt;+Ch0Hag&gt; :) 13:57 &lt;@duck&gt; хе 13:57 &lt;@duck&gt; ок, в таком случае я бы требовал 2.3 13:57 &lt;@duck&gt; и к чёрту woody 13:57 &lt;cervantes&gt; у меня, кажется, застряло на 1.5 и 2.2 13:57 &lt;jrandom&gt; да, нет нужды иметь дело с 2.1 13:57 &lt;cervantes&gt; (пора обновляться) 13:57 &lt;jrandom&gt; хе 13:57 &lt;+Ch0Hag&gt; Это мнение большинства пользователей Debian тоже 13:58 &lt;Ragnarok&gt; addressbook.py требует 2.3 13:58 &lt;@duck&gt; есть некоторые интересные подпроекты: 13:58 &lt;jrandom&gt; ах ок, круто, Ragnarok  13:58 &lt;@duck&gt; исследование оптимальных настроек для i2p 13:58 &lt;+polecat&gt; Эта мелочь требует 2.3? 13:58 &lt;keysersoze&gt; jrandom: Согласен, но на небольшой сети как сейчас (~100 пиров) не проблема заставить некоторых бета‑тестеров обновиться до 2.2 или 2.3. А когда самые явные баги выжгут, новым "настоящим" конечным пользователям логирование и не нужно. Так что я к тому: на этом этапе с логированием нет проблемы, согласны ;) 13:58 &lt;cervantes&gt; когда я ковырял BT год назад, эта машина проталкивала 6 МБ/с через трекер временами... 13:58 &lt;+polecat&gt; Странно... 2.2, похоже, практически искалечен тогда. 13:58 &lt;Ragnarok&gt; в 2.3 лучше поддержка urllib proxy 13:58 &lt;@duck&gt; портировать стандартный bt‑трекер тоже 13:58 &lt;cervantes&gt; Я имею в виду сид 13:59 &lt;Ragnarok&gt; это могло бы работать на 2.2, но усилий слишком много :) 13:59 &lt;+polecat&gt; Ах, это важно, верно. 13:59 &lt;jrandom&gt; duck: исследовать оптимальные настройки будет тяжко, пока не выйдет 0.4.2 13:59 &lt;@duck&gt; верно 14:00 &lt;jrandom&gt; порт трекера был бы отличен. у тебя есть инструменты для создания .torrent, или делал вручную? 14:00 &lt;@duck&gt; чё? 14:00 &lt;cervantes&gt; у клиента куча приятных твиков для набора пиров, таймаутов, мин/макс пиров и т.д. 14:01 &lt;cervantes&gt; jrandom: это, думаю, модификаций не требует 14:01 &lt;jrandom&gt; duck: .torrent ссылается на I2P destination трекера, верно? 14:01 &lt;@duck&gt; сейчас мы шипим: btdownloadheadless.py + btmakemetafile.py + btshowmetainfo.py 14:01 &lt;jrandom&gt; или он ссылается на имя? 14:01 &lt;cervantes&gt; это просто url и куча sha1‑хэшей 14:01 &lt;@duck&gt; хотя btmakemetafile.py и btshowmetainfo.py не модифицированы 14:01 &lt;jrandom&gt; "url" — тут сложная часть :) 14:02 &lt;@duck&gt; так что можно пользоваться другими тулзами 14:02 &lt;@duck&gt; сейчас это http://duck.i2p/phpbt/announce.php 14:02 &lt;jrandom&gt; ок, круто 14:02 &lt;@duck&gt; думаю, можно использовать http://i2p/bigbase64/announce.php 14:02 &lt;+protokol&gt; планируется поддержка eepTorrent в других клиентах? мне нравится azureus 14:02 &lt;@duck&gt; полно 14:02 &lt;cervantes&gt; jrandom: ранняя версия, что я смотрел, не делала валидации url в строке announce 14:03 &lt;ant&gt; &lt;dm&gt; за что eep расшифровывается? 14:03 &lt;cervantes&gt; можно было вставить что угодно 14:03 &lt;jrandom&gt; хмм, стоит проверить, работает ли это, duck (вдруг phpbt делает глупый url‑переписывание и т.п.) 14:03 &lt;cervantes&gt; dm: смотри словарь на форуме 14:03 &lt;@duck&gt; может, пора для i2p‑bt отдельного форума? 14:03 &lt;keysersoze&gt; duck: Особенно когда новые пользователи, у кого нет "регистрации" в hosts.txt, захотят хостить трекеры, баз64 там быть обязан 14:03 &lt;+Ch0Hag&gt; Ай Ай Пи? 14:03 &lt;jrandom&gt; было бы круто, duck 14:03 &lt;@duck&gt; (секция форума на forum.i2p) 14:04 &lt;ant&gt; &lt;dm&gt; cervantes: очень полезно! 14:04 &lt;cervantes&gt; duck: да, без проблем 14:04 &lt;@duck&gt; keysersoze: будет изучено 14:04 &lt;jrandom&gt; всё равно, как есть — это чертовски круто 14:05 &lt;jrandom&gt; и 4KB/s на пир — не такая уж проблема 14:05 &lt;ant&gt; &lt;dm&gt; который час? "В двух кварталах есть часы" 14:05 &lt;cervantes&gt; дальше, пожалуй, стоит сделать отдельное место на форуме, чтобы люди могли публиковать файлы а‑ля suprnova 14:05 &lt;@duck&gt; eeprnova 14:05 &lt;jrandom&gt; cervantes: с отзывами и т.п. :) 14:05 &lt;keysersoze&gt; jrandom: Потребует ли переход на streaminglib больших изменений в текущем Python‑коде I2P‑BT? 14:05 &lt;+polecat&gt; Я и на IPv4 торрентах больше 4KB/s не вижу... 14:05 &lt;peer&gt; было бы хорошо, если бы был аргумент командной строки для указания адреса i2p‑сервера, чтобы можно было запускать с других машин в сети 14:05 &lt;jrandom&gt; (но думаю, это лучше оставить вне forum.i2p, возможно) 14:06 &lt;jrandom&gt; keysersoze: 0 изменений 14:06 &lt;@duck&gt; учтите, i2p‑bt трекеры будут масштабироваться сильно хуже 14:06 &lt;@duck&gt; так как им надо слать жирные большие ключи 14:06 &lt;Ragnarok&gt; polecat: ты, должно быть, за NAT 14:06 &lt;keysersoze&gt; polecat: ((OT) попробуй сегодняшний торрент firefox ;)) 14:06 &lt;cervantes&gt; jrandom: ага. 14:06 &lt;@duck&gt; а обычные трекеры недавно модифицировали, чтобы слать по 6 байт на пир 14:06 &lt;jrandom&gt; peer: адрес i2p‑сервера? 14:07 &lt;jrandom&gt; peer: я использую i2p‑bt с моим локальным SAM‑мостом, подключаясь к удалённому router 13:07 &lt;jrandom&gt; о, но было бы неплохо иметь флаги для указания местоположения SAM‑моста и eep‑прокси в CLI, да 14:07 &lt;peer&gt; jrandom: да 14:07 &lt;keysersoze&gt; duck: Можем сжимать host‑key? (Просто спрашиваю...) 14:08 &lt;peer&gt; одним аргументом cli 14:08 &lt;jrandom&gt; (а не перевыпиливать код после каждого релиза :) 14:08 &lt;@duck&gt; keysersoze: используя бинарь вместо base64, немного ужмём 14:08 &lt;@duck&gt; около 15%  14:08 &lt;@duck&gt; не стоит 14:08 &lt;keysersoze&gt; duck: согласен. 14:09 &lt;ant&gt; &lt;dm&gt; cervantes: где этот словарь форума? Я не вижу ничего на http://forum.i2p.net/ 14:09 &lt;Ragnarok&gt; можно ли использовать hostnames? 14:09 &lt;jrandom&gt; Ragnarok: hostnames не глобально уникальны 14:09 &lt;@duck&gt; Ragnarok: не хотим туда лезть 14:09 &lt;cervantes&gt; dm: видно только зарегистрированным пользователям 14:10 &lt;ant&gt; &lt;dm&gt; cervantes: отлично! Поищу eep в гугле тогда! 14:10 &lt;Ragnarok&gt; справедливо 14:11 &lt;cervantes&gt; dm: это фонема для IIP 14:11 &lt;cervantes&gt; так говорят на улицах 14:11 &lt;jrandom&gt; ок, вы проделали огромную работу на стороне bt, и с интересом жду услышать (и использовать) больше :) 14:11 &lt;ant&gt; &lt;dm&gt; cervantes: не акроним? 14:12  * cervantes имеет полтерабайта фильмов и сериалов, чтобы поделиться 14:12 &lt;jrandom&gt; есть ли ещё что обсудить по i2p‑bt? 14:12 &lt;cervantes&gt; dm: не слышал такого 14:12 &lt;@duck&gt; (не забудьте #i2p-bt) 14:12 &lt;jrandom&gt; да, #i2p-bt, наконец‑то стимул людям уйти с freenode :) 14:12 &lt;ant&gt; &lt;dm&gt; хорошо. Спасибо, сэр. 14:13 &lt;+Ch0Hag&gt; Будто эта Великая сеть сама по себе не достаточный стимул... 14:13 &lt;jrandom&gt; ок, если нет, перейдём к 4) addressbook.py 14:13 &lt;jrandom&gt; Ragnarok: дашь нам краткий обзор? 14:13 &lt;Ragnarok&gt; уии 14:14 &lt;Ragnarok&gt; хм, ок.  addressbook.py — первая попытка подписного адресбука. 14:14 &lt;Ragnarok&gt; Сейчас он довольно уродливый, но работает 14:14 &lt;Ragnarok&gt; можно взять на ragnarok.i2p 14:14 &lt;peer&gt; можно предложить по поводу имен? Думаю, лучший метод — чтобы ссылки между eepsites были в base64, а люди создавали свои собственные имена закладок для сайтов, вместо какой‑либо централизованной системы имен 14:14 &lt;Ragnarok&gt; эм... 14:14 &lt;Ragnarok&gt; вопросы? 14:15 &lt;+postman&gt; Ragnarok: определись, что значит уродливый :) 14:15 &lt;jrandom&gt; Ragnarok: круто 14:15 &lt;ant&gt; &lt;dm&gt; jrandom: не вопрос 14:15 &lt;+polecat&gt; О чём мы говорили?  @.@ 14:15 &lt;peer&gt; типа как закладки на фронт‑странице веб‑интерфейса freenet, но вместо этого с url 14:15 &lt;cervantes&gt; Ragnarok: всё через командную строку, или есть GUI? 14:15 &lt;Ragnarok&gt; почитай, он уродливый :) 14:15 &lt;jrandom&gt; peer: согласен, хотя нужны инструменты для авторов 14:15 &lt;cervantes&gt; скриншотов не было, так что я потерял интерес и ушёл ;-) 14:15 &lt;jrandom&gt; peer: хотя ?i2paddresshelper помогает 14:15 &lt;+postman&gt; Ragnarok: ок, спасибо — посмотрю 14:16 &lt;+polecat&gt; Ба, GUI — для домохозяек! 14:16 &lt;Ragnarok&gt; всё через командную строку. Задуман как демон. На Windows пока как демон не работает, но это мой следующий проект. 14:16 &lt;Ragnarok&gt; кроме cli‑утилиты, все взаимодействия — через конфиги. 14:17 &lt;jrandom&gt; возможно, следующий шаг в области имен — веб‑интерфейс для управления записями и подписками? 14:17 &lt;cervantes&gt; ты по сути синдицируешь свой hosts‑файл? 14:17 &lt;Ragnarok&gt; да 14:17 &lt;cervantes&gt; ясно... круто 14:17 &lt;Ragnarok&gt; веб‑интерфейс был бы отличен. Но писать его не буду :) 14:17 &lt;jrandom&gt; с слияниями и управлением конфликтов 14:18 &lt;+polecat&gt; Что насчёт управления конфликтами, кроме как визга в логе? 14:18 &lt;jrandom&gt; да, сам движок — это Хорошая Вещь, может, кто‑то другой возьмёт веб‑часть :) 14:19 &lt;Ragnarok&gt; никак. Если хочешь разрешить конфликт, делаешь это руками :). Хотя теперь немного легче. 14:19 &lt;jrandom&gt; polecat: визжать и никогда не перезаписывать существующую запись, насколько мне известно 14:19 &lt;jrandom&gt; (э, как он и сказал) 14:19 &lt;cervantes&gt; было бы неплохо как плагин боковой панели для firefox... 14:19 &lt;+polecat&gt; Да, так я и думал. 14:19 &lt;cervantes&gt; это то, что я мог бы вписать в свою i2p‑панель инструментов 14:20 &lt;Ragnarok&gt; пользовательские изменения никогда не перезаписываются, так что он достаточно защищён от атак 14:20 &lt;jrandom&gt; и подписываться стоит только на относительно надёжных пиров 14:20 &lt;Ragnarok&gt; именно 14:20 &lt;cervantes&gt; может, функция блокировки записей? 14:20 &lt;cervantes&gt; (т.е. переносить их в userhosts) 14:21 &lt;Ragnarok&gt; записи никогда не модифицируются 14:21 &lt;+polecat&gt; Мне нравится концепция myhosts.txt для записей, которые ты хочешь одобрить сам. 14:21 &lt;cervantes&gt; Ragnarok: ах, сорри, ты это сказал 14:22 &lt;Ragnarok&gt; myhosts.txt — грязный хак, чтобы обойти гонку, но почему‑то всем нравится как интерфейс :) 14:22 &lt;jrandom&gt; если интересно, есть способы заставить i2ptunnel / sam / etc читать не только из hosts.txt и userhosts.txt 14:22 &lt;jrandom&gt; (но только если будет веская причина) 14:22 &lt;cervantes&gt; Ragnarok: надо было притвориться, что так и задумано ;-) 14:23  * duck предлагает абстрагироваться от hosts.txt / userhosts.txt 14:23 &lt;+polecat&gt; Моя perl‑версия addressbook.pl поддерживает myhosts.txt. 14:23 &lt;Ragnarok&gt; да, это будет частью большого переписывания :) 14:23  * polecat замечает duck, для этого придётся модифицировать i2ptunnel и sam. 14:23 &lt;Ragnarok&gt; сперва хочу добиться паритета фич на Windows. 14:24 &lt;jrandom&gt; верно, duck, было бы неплохо для 0.4.2, если бы мы могли помечать разные destination как "oldLib" и "newLib" (и т.д.) 14:24 &lt;@duck&gt; polecat: можно писать итог в нечто под названием 'hosts.txt' 14:24 &lt;cervantes&gt; в идеале нужна иерархическая мини‑БД локальных адресов с категоризацией  14:24 &lt;@duck&gt; но использовать другую структуру к пользователю 14:24 &lt;+polecat&gt; Итог идёт в userhosts.txt 14:24 &lt;+polecat&gt; А также в файл "hosts.txt" на eepsite, который не системный hosts.txt. 14:24 &lt;@duck&gt; что сбивает с толку :) 14:25 &lt;Ragnarok&gt; Я люблю быть максимально сбивающим с толку :) 14:25 &lt;MrEcho&gt; надеюсь закончить dns к концу месяца 14:25 &lt;@duck&gt; ок, тогда пусть имя зависит от чека суммы содержимого 14:25 &lt;cervantes&gt; addressbook.txt? :) 14:25 &lt;Ragnarok&gt; опубликованный адресбук просто называется hosts.txt, потому что так он называется на dev.i2p 14:25 &lt;+polecat&gt; Можно назвать файл hosts.txt у Ragnarok как‑то иначе. Людям просто надо подписаться на это другое имя файла. 14:26 &lt;Ragnarok&gt; верно, это опция конфигурации 14:26 &lt;+polecat&gt; т.е. типа как http://polecat.i2p/addressbook вместо http://polecat.i2p/hosts.txt 14:26 &lt;MrEcho&gt; к сведению, мой dns не трогает hosts файл .. как настоящий dns 14:27 &lt;+polecat&gt; О да, и это тоже.&gt;.&lt; 14:27 &lt;@duck&gt; мой dns приносит мир во всём мире 14:27 &lt;jrandom&gt; MrEcho: стоит изучить интероперабельность 14:27 &lt;+polecat&gt; Есть /etc/hosts, hosts.txt от jrandom, который используют i2ptunnel и sam, и теперь hosts.txt, публикуемый Ragnarok. 14:28 &lt;Ragnarok&gt; Думаю, ничего, что не резолвит имена локально, никогда не будет работать приемлемо поверх i2p, но буду рад, если меня опровергнут :)  14:28 &lt;mule&gt; враждебная среда :) 14:28 &lt;MrEcho&gt; я мог бы заставить его обновлять hosts текст, но надеялся добавить что‑то в другом коде 14:28 &lt;jrandom&gt; есть код в cvs (в apps/myi2p) для загрузки/сохранения записей адресбука с данными, постанными в февральском письме, если кому интересно ;) 14:29 &lt;+polecat&gt; ? 14:29 &lt;MrEcho&gt; уже смотрел, jr 14:30 &lt;jrandom&gt; polecat: http://forum.i2p.net/viewtopic.php?t=141#419 14:30 &lt;+polecat&gt; Ты имеешь в виду в apps/myi2p/java/src/net/i2p/myi2p 14:30 &lt;jrandom&gt; ну да, если конкретизировать ;) 14:30 &lt;+polecat&gt; Скорее чудовищно избыточно.  ;3 14:31 &lt;jrandom&gt; круто, MrEcho, хотя я предлагаю такой формат файла и для других систем имен, если люди собираются заменять hosts.txt 14:31 &lt;jrandom&gt; polecat: не без причин (и, имхо, в этом пути нет избыточности ;) 14:31 &lt;Ragnarok&gt; круто. Гляну 14:32 &lt;ant&gt; &lt;dm&gt; по крайней мере, там больше не написано интернет три раза подряд 14:33 &lt;jrandom&gt; надо реализовать как net.i2p.client.naming.NamingService тоже — что‑то, что грузит из локальной БД, но это несложно 14:33 &lt;+polecat&gt; Эй! Нет, нет, никаких MX‑записей... никаких CNAME...  14:33 &lt;jrandom&gt; иметь несколько destination на имя — хорошая идея 14:33 &lt;ant&gt; &lt;janonymous2&gt; Я за гибрид адресбука/dns 14:34 &lt;jrandom&gt; адресбук — это система доменных имён :) 14:34 &lt;+polecat&gt; jrandom: Сколько раз нужно было назвать это myi2p? И зачем называть i2p, если уже называется myi2p? И есть ли вопрос, что это — java? 14:34 &lt;jrandom&gt; polecat: не весь код myi2p будет на java. 14:34 &lt;@duck&gt; возвращайся в свою пещеру, ты, perl‑тролль :) 14:34 &lt;+polecat&gt; Согласен, что это всё необходимо, не виню тебя, jrandom, виню java и ant. 14:35 &lt;jrandom&gt; polecat: и кодовая база i2p уникальна в пространстве имён net.i2p, так как мы не контролируем пространство имён net.myi2p :) 14:35  * polecat рычит и прячется под мостом. 14:35 &lt;ant&gt; &lt;dm&gt; polecat: это называется ОКР 14:35 &lt;jrandom&gt; хе 14:35 &lt;jrandom&gt; это называется инженерия ПО ;) 14:36 &lt;+polecat&gt; Да, но зачем помещать всё в структуру директорий, дублирующую пространство имён? 14:36 &lt;+polecat&gt; Просто указать, типа... в файле "Этот файл в пространстве имён net.i2p" 14:36 &lt;jrandom&gt; но ладно, есть ещё что по шикарной системе имен Ragnarok?  :) 14:36 &lt;@duck&gt; она тащит 14:36 &lt;Ragnarok&gt; спасибо :) 14:36 &lt;+polecat&gt; Asseth Kickius. 14:36 &lt;jrandom&gt; polecat: в i2p 1340 java‑файлов 14:37 &lt;@duck&gt; Я был шокирован, когда хотел зайти на eepsite, а хост уже был распространён 14:37 &lt;Ragnarok&gt; хех 14:37 &lt;jrandom&gt; :) 14:37 &lt;+polecat&gt; Ну, не говорю, что надо всё ужимать в одном месте.  1340 файлов — это ужасно много, нет ли там лишнего кода?  o.O 14:38 &lt;Ragnarok&gt; кто знает команду, чтобы убить процесс Windows по pid? 14:38 &lt;@duck&gt; типа как переимплементации TCP‑стека? :) 14:38 &lt;+polecat&gt; Не говоря уже о полнофункциональных веб‑серверах.  c.c 14:38 &lt;jrandom&gt; хе 14:38 &lt;jrandom&gt; ой, давайте не считать код jetty.. 14:39 &lt;keysersoze&gt; (91 пир в сети сейчас!) 14:39 &lt;ant&gt; &lt;dm&gt; ragnarok: kill 14:39 &lt;jrandom&gt; ок, 389 в router/ и core/  14:39 &lt;Ragnarok&gt; в каких версиях это есть? 14:39 &lt;+polecat&gt; Всё ещё много для жалкого router... но учитывая всё, не так уж плохо. 14:39 &lt;ant&gt; &lt;dm&gt; не уверен... Тут XP. 14:39 &lt;cervantes&gt; Ragnarook: только если установлены файлы со Support CD 14:40 &lt;Ragnarok&gt; ага 14:40  * duck возвращается к теме 14:40 &lt;cervantes&gt; Ragnarok: иначе скачай sysinternals pskill 14:40 &lt;jrandom&gt; ок, есть ли ещё что по 4) addressbook.py, или перейдём к 5) ??? 14:41 &lt;cervantes&gt; Ragnarok: http://www.sysinternals.com/ntw2k/freeware/pstools.shtml 14:41 &lt;jrandom&gt; ок, 5) так 14:41 &lt;Ragnarok&gt; круто, спасибо :) 14:41 &lt;jrandom&gt; polecat: насколько помню, ты хотел поднять bamboo‑dht? 14:41 &lt;MrEcho&gt; ? встреча прямо сейчас 14:41 &lt;+polecat&gt; :скандирует: DHT DHT USA USA~/o 14:42 &lt;+polecat&gt; Да-да. Я тут кое‑что смотрю... 14:42 &lt;jrandom&gt; да, MrEcho  14:43 &lt;+Ch0Hag&gt; 5? 14:43 &lt;jrandom&gt; 5) ??? 14:43 &lt;MrEcho&gt; хе 14:43 &lt;+Ch0Hag&gt; о, да, я нашёл незначительный семантический баг 14:43 &lt;jrandom&gt; что там, Ch0Hag? 14:43 &lt;+polecat&gt; В исходниках bamboo 79 java‑файлов. Всего 253 файла. 14:44 &lt;+polecat&gt; Весь проект занимает 4.6 мегабайт исходников и вспомогательных файлов до сборки. 14:44 &lt;jrandom&gt; жесть 14:44 &lt;+Ch0Hag&gt; в /netdb.jsp наша информация даётся сначала порт, а у других пиров — сначала хост 14:44 &lt;+Ch0Hag&gt; В строке Addresses 14:44 &lt;jrandom&gt; игрался с ним, polecat? 14:44 &lt;jrandom&gt; Ch0Hag: порядок произвольный 14:45 &lt;+Ch0Hag&gt; И, похоже, у всех host/port 14:45 &lt;+polecat&gt; Мало было времени. Игрался с circle, получил классное графическое представление PGP ключа, но до bamboo не добрался. 14:45 &lt;ant&gt; &lt;dm&gt; ах да, незначительный баг‑репорт ch0hag напомнил! 14:45 &lt;ant&gt; &lt;dm&gt; на странице конфигурации сказано "вам следует либо использовать сервис типа dyndns, либо оставить поле hostname пустым. Если оставить пустым, ваш router сам определит 'правильный' IP, спросив пира" 14:45 &lt;+Ch0Hag&gt; Но ладно 14:45 &lt;+Ch0Hag&gt; Не то чтобы это имело значение. 14:46 &lt;ant&gt; &lt;dm&gt; что отлично для меня, так как у меня динамический IP и я ждал эту фичу какое‑то время, но когда я очищаю и жму сохранить, поле автоматически снова заполняется (неверным) IP 14:46 &lt;cervantes&gt; polecat: есть url? 14:46 &lt;ant&gt; &lt;dm&gt; Cheers! 14:47 &lt;jrandom&gt; хмм, dm, он не уважает пустое значение?   14:47 &lt;jrandom&gt; это точно существенный баг 14:47 &lt;+polecat&gt; Да, секунду. 14:47 &lt;Ragnarok&gt; было бы неплохо, если бы он рекомендовал заполнять поле только если у тебя реальный статический hostname. Или если бы поля вообще не было... 14:47 &lt;jrandom&gt; Ch0Hag: kaffe обычно держит стабильный размер 14:47 &lt;+polecat&gt; http://bamboo-dht.org/ 14:48 &lt;jrandom&gt; Ragnarok: подумываю убрать это поле совсем, оставив хакерам на /configadvanced.jsp 14:48 &lt;ant&gt; &lt;dm&gt; Мне это важно лишь потому, что абзац с инструкциями заставляет меня чувствовать себя идиотом, когда я не могу сделать его пустым ;) 14:48 &lt;cervantes&gt; polecat: спс 14:48 &lt;+Ch0Hag&gt; dm: Это явно тест на интеллект. 14:48 &lt;+Ch0Hag&gt; Если смог оставить пустым, ты прошёл. 14:48 &lt;+polecat&gt; Я также заметил, что bamboo компилится jikes и kaffe jar примерно за 30 секунд. 14:48 &lt;+polecat&gt; Использует странные переменные, JAVAC и JAVAHOME вместо JAVA_HOME 14:49 &lt;Ragnarok&gt; jr: отличная идея. Сейчас это немного ловушка для новичков. 14:50 &lt;cervantes&gt; dm: ты жмёшь кнопку сохранить, или Enter? 14:50 &lt;ant&gt; &lt;dm&gt; жму сохранить 14:50 &lt;ant&gt; &lt;dm&gt;     * Обновлены лимиты пропускной способности 14:50 &lt;ant&gt; &lt;dm&gt;     * Конфигурация успешно сохранена 14:50 &lt;@duck&gt; polecat: планируешь посмотреть глубже? 14:51 &lt;+polecat&gt; Определённо. bamboo выглядит лучшим кандидатом для портирования на i2p и самым "собранным" проектом DHT, что я вижу. 14:52 &lt;+polecat&gt; Важно то, работает оно "или нет", конечно. 14:52 &lt;jrandom&gt; тьфу, кому нужна функциональность, главное — совместимость по модным словам! 14:53 &lt;jrandom&gt; держи нас в курсе 14:53 &lt;jrandom&gt; (согласен, проект выглядит многообещающе) 14:53 &lt;@duck&gt; наверное, важнее всего — что он предлагает для модификаций на транспортном уровне 14:54 &lt;ant&gt; &lt;janonymous2&gt; В чём фишка bamboo? 14:54 &lt;jrandom&gt; ага, требует ли он NIO‑каналы или использует обычные сокеты 14:54 &lt;cervantes&gt; хе... новости bamboo: "5 Aug Bamboo теперь на 100% чистая Java... использует Berkeley DB Java Edition"   "4 Nov Bamboo больше не на 100% чистая Java... BDB Java отстой.. обратно на C" 14:54 &lt;jrandom&gt; (хотя мы и могли бы написать NIO‑каналы для i2psocket, это потребует работы) 14:54 &lt;+polecat&gt; jrandom: Возвращайся в свой собор, java‑гаргулья!  X3 14:54 &lt;+polecat&gt; Точно. Если он требует TCP или UDP, или, что хуже... DNS, нам может быть крышка. 14:54 &lt;+polecat&gt; NIO/ 14:54 &lt;+polecat&gt; NIO? 14:55 &lt;+polecat&gt; Всё, что я знаю — ni'o в ложбане означает смену темы. 14:55 &lt;jrandom&gt; NIO — это новая библиотека ввода‑вывода в java, добавлена в 1.4 14:55 &lt;+polecat&gt; Понятно. Но даже обычные сокеты — разве SAM не имеет аналогичных объектов сокетов, и аналогичных функций read() и write()? 14:55 &lt;jrandom&gt; да 14:56 &lt;jrandom&gt; если они используют обычные сокеты, это проще простого 14:56 &lt;jrandom&gt; (...что бы это ни значило) 14:56 &lt;ant&gt; &lt;janonymous2&gt; Что такое bamboo? 14:56 &lt;jrandom&gt; bamboo-dht.org 14:57 &lt;cervantes&gt; какие были проблемы с pysam кстати? 14:57  * polecat кивает. 14:58 &lt;@duck&gt; cervantes: отправка/получение данных 14:58 &lt;cervantes&gt; duck: о, и всё? :) 14:58 &lt;ant&gt; * janonymous2 /me coweres на своём хилом телефоне 14:58 &lt;@duck&gt; и создание/обнаружение соединений 14:58 &lt;+Nightblade&gt; он не отправлял? 14:59 &lt;Ragnarok&gt; ой 14:59 &lt;@duck&gt; Nightblade: наверное, он что‑то делал 14:59 &lt;+Nightblade&gt; вообще работает? 15:00 &lt;cervantes&gt; duck: мысли по названию секции форума i2p‑bt? 15:00 &lt;cervantes&gt; хочешь свой верхний уровень, с подпунктами? 15:01 &lt;Ragnarok&gt; хм, мне пора в путь. Хорошего остатка встречи :) 15:01 &lt;jrandom&gt; Nightblade: aum его использовал, так что уверен, работал 15:01 &lt;jrandom&gt; пок, Ragnarok  15:01 &lt;cervantes&gt; you're = your 15:01 &lt;cervantes&gt; бывай, ragnarok 15:02 &lt;ant&gt; &lt;janonymous2&gt; Статус по bt? 15:02 &lt;jrandom&gt; janonymous: см. логи встречи (как выйдут) 15:03 &lt;jrandom&gt; кстати, хочет ли кто‑то ещё что‑нибудь поднять на встрече? 15:03 &lt;ant&gt; &lt;janonymous2&gt; О, моя вина 15:04  * cervantes hands jr the egold plated baffer 15:04  * jrandom winds up 15:04 &lt;jrandom&gt; ... 15:04 &lt;jrandom&gt; ... 15:04  * jrandom *baf* закрывает встречу </div>
