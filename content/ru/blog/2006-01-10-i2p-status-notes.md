---
title: "Заметки о статусе I2P за 2006-01-10"
date: 2006-01-10
author: "jr"
description: "Еженедельное обновление, посвящённое алгоритмам профилирования пропускной способности, улучшениям отображения блога в Syndie, прогрессу в реализации постоянных HTTP‑соединений и разработке gwebcache для I2Phex"
categories: ["status"]
---

Привет всем, похоже, снова наступил вторник

* Index

1) Состояние сети 2) Профилирование пропускной способности 3) Блоги Syndie 4) Постоянные соединения HTTP 5) I2Phex gwebcache 6) ???

* 1) Net status

За прошедшую неделю в CVS было внесено множество исправлений ошибок и улучшений, текущая сборка — 0.6.1.8-11. Сеть была достаточно стабильной, хотя некоторые отключения у разных провайдеров I2P‑сервисов приводили к отдельным сбоям. Наконец мы избавились от излишне высокой частоты смены идентичности router в CVS, и появился новый фикс ядра, который вчера предложил zzz; выглядит весьма многообещающе, но нужно подождать и посмотреть, как это повлияет. Еще два крупных направления прошлой недели — новый профилинг скорости, основанный на пропускной способности, и значительная работа над представлением блога в Syndie. Что касается того, когда выйдет 0.6.1.9, релиз ожидается позже на этой неделе, в крайнем случае — к выходным. Следите за новостями в привычных местах.

* 2) Throughput profiling

Мы протестировали несколько новых алгоритмов профилирования пиров для мониторинга пропускной способности, но за последнюю неделю или около того, похоже, мы остановились на одном, который выглядит довольно неплохо. По сути, он отслеживает подтверждённую пропускную способность отдельных tunnel за 1‑минутные периоды, соответствующим образом корректируя оценки пропускной способности для пиров. Он не пытается вычислять среднюю скорость для пира, поскольку это очень сложно из‑за того, что tunnel включают несколько пиров, а также из‑за того, что измерения подтверждённой пропускной способности часто требуют нескольких tunnel. Вместо этого он рассчитывает среднюю пиковую скорость: конкретно, измеряет три самые высокие скорости, на которых tunnels этого пира могли передавать данные, и усредняет их.

Суть в том, что эти скорости, измеряемые за полную минуту, являются устойчивыми скоростями, которые пир способен обеспечивать, и поскольку каждый пир как минимум столь же быстр, как измеренная сквозная скорость, можно безопасно пометить каждого из них как обладающего такой скоростью. Мы пробовали и другой вариант — измерять общую пропускную способность пира через tunnels в разные периоды; это давало ещё более чёткую информацию о пиковых скоростях, но сильно смещало результаты против тех пиров, которые ещё не были помечены как «fast», поскольку «fast» используются гораздо чаще (client tunnels используют только fast peers). Результатом такого измерения общей пропускной способности было то, что оно собирало отличные данные для тех, кто был достаточно нагружен, но достаточно нагруженными оказывались только fast peers, и эффективного исследования было мало.

Однако использование 1-минутных периодов и пропускной способности отдельного tunnel, по-видимому, дает более разумные значения. Этот алгоритм будет внедрен в следующем релизе.

* 3) Syndie blogs

С учетом полученных отзывов в представлении блога в Syndie были внесены дальнейшие улучшения, что придало ему отчетливо иной характер по сравнению с древовидным представлением в стиле ньюсгрупп/форумов. Кроме того, в нем появилась совершенно новая возможность задавать общую информацию о блоге через существующую архитектуру Syndie. Для примера посмотрите стандартную запись блога «о Syndie»:  http://syndiemedia.i2p.net/blog.jsp?blog=ovpBy2mpO1CQ7deYhQ1cDGAwI6pQzLbWOm1Sdd0W06c=&entry=ovpBy2mpO1CQ7deYhQ1cDGAwI6pQzLbWOm1Sdd0W06c=/1132012800001

Это лишь самое начало того, что мы можем сделать. В следующем релизе вы сможете задать логотип собственного блога, собственные ссылки (на блоги, записи, вложения, произвольные внешние URL) и, надеемся, ещё больше возможностей для настройки. Одна из таких настроек — значки для каждого тега: я бы хотел поставить набор значков по умолчанию для стандартных тегов, но пользователи смогут определять значки для своих собственных тегов для использования в пределах их блога и даже переопределять значки по умолчанию для стандартных тегов (опять же, разумеется, только когда люди просматривают их блог). Возможно, появятся и некоторые настройки стиля, чтобы отображать записи с разными тегами по-разному (разумеется, будут разрешены только очень конкретные настройки стиля — никаких произвольных CSS-эксплойтов в Syndie, большое спасибо :)

Есть ещё многое, что мне хотелось бы сделать с режимом просмотра блога, но этого не будет в следующем релизе; однако это должно стать хорошим толчком, чтобы люди начали пробовать некоторые его возможности, что, надеюсь, позволит *вам* показать мне, что вам нужно, а не то, что, как я думаю, вы хотите. Возможно, я неплохой разработчик, но плохой экстрасенс.

* 4) HTTP persistent connections

zzz — маньяк, говорю вам. Есть прогресс по давно запрашиваемой функции — поддержке постоянных HTTP-соединений, которая позволяет отправлять несколько HTTP-запросов по одному потоку и получать несколько ответов. Думаю, кто-то впервые попросил об этом примерно два года назад, и это могло бы помочь для некоторых типов eepsite(I2P Site) или в значительной степени облегчить работу через outproxy (выходной прокси). Я знаю, что работа ещё не завершена, но всё продвигается. Надеюсь, zzz сможет дать нам обновление статуса во время встречи.

* 5) I2Phex gwebcache

До меня доходили сообщения о прогрессе с возвращением поддержки gwebcache в I2Phex, но я не знаю, как обстоят дела сейчас. Возможно, Complication сможет сегодня вечером сообщить нам актуальную информацию?

* 6) ???

Как видите, много всего происходит, но если есть другие темы, которые вы хотели бы поднять и обсудить, забегайте на встречу через несколько минут и дайте знать. Кстати, один классный сайт, за которым я в последнее время слежу, — http://freedomarchive.i2p/ (для ленивых без установленного I2P можно воспользоваться inproxy Тино (входной прокси) по адресу http://freedomarchive.i2p.tin0.de/). В любом случае, увидимся через несколько минут.

=jr
