---
title: "Встреча разработчиков I2P - 01 августа 2006"
date: 2006-08-01
author: "jrandom"
description: "Протокол встречи разработчиков I2P за 1 августа 2006 года."
categories: ["meeting"]
---

## Краткое резюме

<p class="attendees-inline"><strong>Присутствовали:</strong> bar, cervantes, Complication, frosk, jrandom, polecat, tethra, void</p>

## Журнал встречи

<div class="irc-log"> 16:02 &lt;jrandom&gt; ладно, давайте начнём 16:03 &lt;jrandom&gt; привет, заметки перед встречей выложены по адресу http://dev.i2p.net/pipermail/i2p/2006-August/001304.html 16:03 &lt;jrandom&gt; вместо того чтобы я по сути пересказывал то письмо здесь, давайте просто перейдём к нашему стандартному разделу ??? - 16:04 &lt;jrandom&gt; у кого‑нибудь есть что поднять и обсудить? 16:04 &lt;@cervantes&gt; э-эм 16:04  * cervantes спешно идёт читать пост 16:05 &lt;+Complication&gt; Что касается состояния сети, у меня всё в порядке... 16:05 &lt;+Complication&gt; Но один вопрос (на самом деле передаю из форума) про транспорт NTCP, 16:06 &lt;+Complication&gt; а именно: похоже ли на то, что его активация может у кого‑то вызвать проблемы с нагрузкой на CPU (они были на XP)? 16:06 &lt;@cervantes&gt; Должен сказать, у меня после переключения нагрузка на CPU даже ниже :) 16:07 &lt;jrandom&gt; ну, вы не можете его *деактивировать* (если только не читали исходники и не знаете волшебное заклинание ;) 16:07 &lt;+Complication&gt; Человек, упомянувший эту проблему (её трудно воспроизвести, и у меня высокой загрузки нет), сказал, что пики нагрузки на CPU, похоже, коррелировали с NTCP 16:07 &lt;jrandom&gt; так что полагаю, они имели в виду не принимать входящие NTCP‑соединения 16:07 &lt;+polecat&gt; NTCP заставляет мой router мгновенно загрузить CPU до упора; я повторил это дважды, прежде чем пришлось вручную править конфиг, чтобы вернуть router в рабочее состояние. 16:07 &lt;jrandom&gt; (при этом продолжая использовать исходящие NTCP‑соединения) 16:07 &lt;+Complication&gt; (у меня это лишь немного выше обычного уровня, вероятно, потому что качаю куда больше данных) 16:08 &lt;+Complication&gt; ( http://forum.i2p/viewtopic.php?t=1815 ) 16:08 &lt;jrandom&gt; когда устанавливается NTCP‑соединение, выполняется тяжёлая крипто‑вычислительная операция (или даже несколько) 16:08 &lt;jrandom&gt; если вы принимаете входящие NTCP‑соединения, можно получить сразу множество входящих попыток, поскольку в сети сотни I2P router'ов 16:09 &lt;jrandom&gt; polecat: это была не вина NTCP, а проблема с плохим NTP‑сервером в пуле NTP 16:09 &lt;+polecat&gt; Да. Значит, сам я с этим, видимо, не справлюсь. 16:09 &lt;jrandom&gt; (спасибо cervantes за то, что отследил тот NTP‑сервер и заставил ребят из пула его !thwap'нуть :) 16:10 &lt;jrandom&gt; ((и Complication за то, что сделал так, чтобы в будущем избегать этих чокнутых :)) 16:10 &lt;@cervantes&gt; хех, думаю, их серверные watchdog'и работают только по будням ;-) 16:10 &lt;+Complication&gt; Ну, текущее избегание довольно ограничено 16:10 &lt;@cervantes&gt; http://www.pool.ntp.org/scores/216.52.237.153 16:11 &lt;+Complication&gt; Надеюсь со временем прикрутить что‑нибудь более параноидальное 16:11 &lt;+polecat&gt; О, то есть включение NTCP больше не будет выбивать CPU на максимум? 16:11 &lt;jrandom&gt; (оно никогда этого не делало, polecat, просто совпадение ;) 16:12 &lt;+Complication&gt; «clock» в каком именно смысле? 16:12 &lt;jrandom&gt; (смотри ссылку от cervantes) 16:12  * polecat прикладывает Complication по голове. 16:12 &lt;@cervantes&gt; что ты там куришь, polecat 16:12 &lt;+Complication&gt; :P 16:12 &lt;+polecat&gt; Э, я имею в виду, съедал все такты процессора.  :) 16:13 &lt;+Complication&gt; Если время прыгнуло на 30 секунд вперёд или назад, он мог потерять множество сессий и прибегнуть ко всяким тяжёлым‑претяжёлым крипто‑операциям 16:13 &lt;+Complication&gt; Это, думаю, могло «съесть» кучу циклов CPU 16:13 &lt;+Complication&gt; Вполне возможно, что человек на форуме видел то же самое и неверно это связал? Надо спросить… 16:13 &lt;jrandom&gt; ах… ну, всплески валидных входящих NTCP‑соединений дадут всплески нагрузки CPU, тогда как при только исходящем NTCP он будет пробовать общаться лишь с ограниченным числом новых NTCP‑пиров одновременно 16:14 &lt;jrandom&gt; нет ничего плохого в том, чтобы не включать входящий NTCP.   16:15 &lt;@cervantes&gt; Complication: сервер починили в середине понедельника, так что стоит посмотреть, были ли у них проблемы с тех пор 16:15 &lt;jrandom&gt; ок, у кого‑нибудь ещё есть темы для обсуждения? 16:16 &lt;+Complication&gt; cervantes: да, стоит попробовать 16:16 &lt;@cervantes&gt; Мне сообщали, что у некоторых периодически пропадают leases (записи в leaseSet)… это известная проблема? 16:16 &lt;+void&gt; насколько реализация NTCP отличается от SSU? 16:17 &lt;+polecat&gt; Как понять, что мы теряем leases? 16:18 &lt;jrandom&gt; void: в NTCP немного выше накладные расходы по полосе на одно сообщение (хотя, возможно, это компенсируется более эффективной реализацией надёжной передачи в ОС) 16:18 &lt;+Complication&gt; polecat: на tunnels.jsp не будет показано ни одного tunnel для конкретного tunnel pool (например, "shared clients") 16:18 &lt;jrandom&gt; cervantes: ага, наши показатели успешной сборки tunnel всё ещё не там, где нужно 16:18 &lt;+void&gt; polecat: левая панель консоли router так и сообщает 16:18 &lt;+Complication&gt; И как говорит void, левая боковая панель консоли это подскажет 16:19 &lt;+polecat&gt; У меня часто всплывают сообщения «No leases»… это вы и имели в виду, да? 16:19 &lt;@cervantes&gt; ага 16:20 &lt;+polecat&gt; Обычно это и убивает моё IRC‑соединение.  Думал, так и должно быть! 16:21  * jrandom вздрагивает 16:24 &lt;+tethra&gt; лол ;) 16:25 &lt;jrandom&gt; ок, у кого‑нибудь есть что‑нибудь ещё для встречи? 16:25 &lt;@cervantes&gt; jrandom: есть ли прогресс по syndie в последнее время, или ты был занят NTCP/исправлением багов/поиском ISP/ездой на велосипеде ? 16:27 &lt;+tethra&gt; есть новости по feedspace или мне лучше просто пойти на их eepsite? 16:28 &lt;jrandom&gt; когда живая сеть накрылась, я отложил syndie в сторону.  но теперь, когда сеть возвращается в строй, syndie снова отнимает моё время, и я надеюсь вскоре выпустить небольшой CLI (интерфейс командной строки)‑систему (а затем, опираясь на отзывы пользователей, появятся «точечные» GUI) 16:28 &lt;jrandom&gt; (реализованный SWT GUI в неплохой форме, но, вероятно, лучше начать с CLI, чтобы скорректировать ожидания) 16:29  * jrandom ничего не слышал новостей о feedspace 16:29 &lt;@cervantes&gt; круто 16:29 &lt;jrandom&gt; frosk: есть новости?  :) 16:29 &lt;+polecat&gt; Рад, что ты снова работаешь над syndie.  Новая версия звучит многообещающе. Есть мысли насчёт ACL (списки контроля доступа) для задач вроде удаления блогов с узла, или выполнения административных действий, не зависящих от аккаунта? 16:30 &lt;@cervantes&gt; &lt;jrandom&gt; DELETE FROM messages WHERE postedOn &lt;NOW()-14*24*60*60; 16:31 &lt;jrandom&gt; локальные архивы, вероятно, останутся по сути доверенными (поскольку если у вас есть доступ к локальной БД архива, вы можете менять файл как угодно) 16:32 &lt;jrandom&gt; однако для общих блогов да, там предусмотрен целый набор криптографических структур для аутентификации и/или авторизации постов и изменений 16:33 &lt;jrandom&gt; (но будет и способ просматривать «неавторизованные» посты, хотя они будут сильно на обочине) 16:33 &lt;+polecat&gt; Уверен, как только кто‑нибудь зальёт синдикаты тысячами гигантских постов, техника физического удаления постов будет доведена до совершенства. 16:34 &lt;+tethra&gt; хе-хе 16:35 &lt;jrandom&gt; физическое удаление тривиально; вопрос в том, какие посты принимать изначально ;) 16:36 &lt;jrandom&gt; (мне неинтересно превращать syndie в платформу для распространения фильмов и т. п.) 16:36 &lt;+polecat&gt; Нельзя быть уверенным, что принимаешь, пока не примешь образец.  Я вижу это как разрешение только белого списка блогов и допуск новых ID на испытательный срок перед добавлением, с мгновенным удалением при обнаружении спама. 16:36 &lt;jrandom&gt; ага 16:37 &lt;+polecat&gt; Меня больше интересует применение для сведения потоков бесед вместе: можно сделать BBS без центрального сервера — только общий тег! 16:37 &lt;jrandom&gt; (вручную допускать новые ID, вручную кикбанить ID, которые флудят, и т. д.) 16:37 &lt;jrandom&gt; для этого даже есть встроенная поддержка в крипто, polecat :) 16:37 &lt;+polecat&gt; Возможно, модератор подписывает одобренные сообщения для BBS, а люди забирают списки одобрений из блога модератора. 16:38 &lt;+polecat&gt; О, отлично. 16:38 &lt;@frosk&gt; jrandom: последнее время работаю над GUI, но это трудно совмещать с началом новой работы :( 16:39  * cervantes связывается с отделом кадров, чтобы уволить frosk 16:40 &lt;jrandom&gt; о, круто, надеюсь, когда syndie начнёт толкать склеенную HTTP‑синдикацию, мы снова тебя соблазним ;) 16:40 &lt;@frosk&gt; по крайней мере, мой начальник теперь следит за разработкой I2P :) 16:40  * jrandom машет начальнику frosk 16:40 &lt;@frosk&gt; о да, я всё ещё намерен (чёрт побери!) :) 16:40 &lt;jrandom&gt; (дайте frosk больше отгулов, он нам нужен!) 16:41 &lt;@cervantes&gt; надеюсь, он не прочитает, как ты выкладываешь секретную информацию компании в свой блог syndie 16:41 &lt;bar&gt; GUI — это хорошо, нам нравится GUI. ты прощён. 16:41 &lt;+Complication&gt; Хехе :) 16:41 &lt;@frosk&gt; странно зайти к нему в кабинет и застать за чтением syndie :) 16:41 &lt;jrandom&gt; ха, круто 16:42 &lt;+polecat&gt; Поздравляю, frosk: даже если тебя уволят в позоре и бесславии, ты хотя бы показал ещё одному человеку, насколько классным может быть syndie. 16:43 &lt;@frosk&gt; хе-хе, ага 16:43 &lt;+tethra&gt; ха-ха 16:44 &lt;@frosk&gt; GUI (на SWT) есть/будет тестовой площадкой для всего, что связано с feedspace, чтобы запустить проект 16:44 &lt;jrandom&gt; r0x0r 16:45 &lt;+void&gt; jrandom: возможно, стоит кросспостить в syndie всё, что уходит в рассылки? 16:45 &lt;jrandom&gt; нам бы полностью слить это с SWT GUI syndie (базовая парадигма — браузер, хотя во вкладках не отображаются HTML‑страницы) 16:46 &lt;+polecat&gt; Было бы неплохо.  Похоже, я больше не получаю рассылку. 16:46 &lt;jrandom&gt; void: кому‑нибудь довольно просто написать небольшой шелл‑скрипт, чтобы направлять procmail в Syndie CLI 16:46 &lt;@cervantes&gt; эти навороченные SWT GUI привязаны к приложениям? или это оболочки для CLI‑исполняемых файлов, или они используют TCP и т. п.? 16:46 &lt;@frosk&gt; звучит логично 16:46 &lt;jrandom&gt; (если правильно помню, у меня давно был пост в блоге с объяснением, как использовать Syndie CLI для вставки постов) 16:47 &lt;+polecat&gt; Сейчас можно делать RSS‑ленты и подавать их в syndie, хотя это пока довольно костыльно. 16:47 &lt;jrandom&gt; cervantes: JDBC в обработчиках событий, встроено вместе с вызовами JNI и msvc, разумеется ;) 16:47  * jrandom ныряет 16:48 &lt;+polecat&gt; Microsoft Visual Classes? 16:49 &lt;@cervantes&gt; jrandom: значит, всё, что умеет говорить на SQL, может администрировать syndie? 16:49 &lt;jrandom&gt; (с точки зрения syndie, весь функционал по сути реализован множеством мелких CLI‑утилит, которые просто обновляют базу JDBC, а ещё есть SWT UI для просмотра БД) 16:51 &lt;+polecat&gt; И поскольку у базы два интерфейса — JDBC и SQL, клиент, говорящий по любому из них, может вмешиваться в работу syndie. 16:51 &lt;jrandom&gt; cervantes: и да и нет — значительная часть базы зашифрована, так что читаемы не все поля 16:51 &lt;+void&gt; текущий веб‑интерфейс останется? 16:51 &lt;jrandom&gt; (jdbc == sql) 16:51 &lt;jrandom&gt; void: нет 16:51 &lt;+polecat&gt; Я думал, ты говорил, что JDBC — это не глупый человекочитаемый протокол? 16:51 &lt;+Complication&gt; jdbc == интерфейс доступа к базам данных в Java, отдалённо похож на odbc 16:51 &lt;jrandom&gt; ((jdbc ~= sql)) 16:51 &lt;+Complication&gt; То, поверх чего говорят на SQL 16:52 &lt;+void&gt; jrandom: что будет с syndie.i2p/syndiemedia.i2p.net? 16:52 &lt;+polecat&gt; О.  Ну и ладно, я всё равно никогда не любил SQL, для протокола. 16:52 &lt;@cervantes&gt; jrandom: значит, лучше сделать оболочку для syndieTools (tm), чем пытаться высасывать данные самому 16:53 &lt;jrandom&gt; void: время покажет.  скорее всего, они будут 1) служить сайтом/eepsite syndie, 2) служить публичным архивом постов для синдикации и, в конце концов, когда появится веб‑интерфейс, 3) отдавать веб‑интерфейс 16:53 &lt;+polecat&gt; Почему бы не отправлять байткод как запросы к базе, вместо архаичных операторов COBOL? 16:53 &lt;jrandom&gt; ага, cervantes 16:53 &lt;jrandom&gt; !lart polecat 16:54 &lt;+void&gt; хехехе 16:54 &lt;+polecat&gt; Ах, моё тайное слабое место. 16:54 &lt;@cervantes&gt; * у вас осталось 6 lart'ов в инвентаре, на севере дверь и на полу без сознания polecat 16:54 &lt;jrandom&gt; cervantes: это на самом деле CLI‑приложение №3 (извлечение отдельных постов, которое идёт после приложения №2 — перечисление отдельных постов (после №1 — создание отдельных постов и после №0 — управление нимами))) 16:54 &lt;jrandom&gt; лол 16:54 &lt;+tethra&gt; ха-ха 16:55 &lt;+Complication&gt; предложение фичи: вместо байткода почему бы не отправлять живых агентов $agency в качестве запросов к базе? ;P 16:56 &lt;+Complication&gt; Проверять на безопасность было бы куда проще :P 16:56 &lt;@cervantes&gt; jrandom: понял 16:56 &lt;+tethra&gt; они при подходящем климате ведут себя как почтовые голуби, Complication?  16:56 &lt;+Complication&gt; tethra: только если удастся протолкнуть их через стек TCP без повреждений :P 16:56 &lt;+polecat&gt; Да, запросы к базе поверх CPP! 16:57 &lt;+Complication&gt; Полагаю, что помявшись в TCP, они могут испортиться 16:58 &lt;+Complication&gt; (сорри, шутки, конечно, надо держать в #i2p-chat, но иногда не удержаться) 16:58  * cervantes ощущает, что скоро надвигается baff 16:58 &lt;+Complication&gt; запросы к базе в виде shellcode? 16:59 &lt;jrandom&gt; ок, у кого‑нибудь есть что‑нибудь ещё для встречи? 16:59 &lt;+polecat&gt; http://www.blug.linux.no/rfc1149/ &lt;- мы могли бы проложить I2P поверх этого, серьёзно. 16:59  * Complication предпочёл бы остаться с SQL 17:00 &lt;+void&gt; jrandom: есть ли у других языков, кроме Java, библиотеки для баз hsqldb? 17:01 &lt;+Complication&gt; OO, похоже, должны иметь, раз они, кажется, его используют 17:01 &lt;+void&gt; похоже, это "нет" 17:01 &lt;+void&gt; о, хм 17:01 &lt;@cervantes&gt; OpenOffice его использует, так что я бы сказал — да 17:01 &lt;+Complication&gt; Но я не уверен, на чём написан OpenOffice 17:01 &lt;jrandom&gt; насколько мне известно, нет.  но можно запустить syndie поверх другой JDBC‑базы (MySQL, Oracle и т. п.) 17:01 &lt;jrandom&gt; OO использует Java 17:02 &lt;+void&gt; а для чего именно OpenOffice использует эту базу? 17:02 &lt;+Complication&gt; Но, похоже, использует его лишь частично 17:02 &lt;jrandom&gt; void: для генерации PDF и для их приложения баз данных в стиле Access 17:02 &lt;jrandom&gt; (среди прочего) 17:02 &lt;+Complication&gt; Учитывая, что он рекомендует внешний JRE 17:02 &lt;+void&gt; окей 17:03 &lt;+void&gt; но писать переносимый SQL — та ещё боль 17:03 &lt;+Complication&gt; если не использовать триггеры или хранимые процедуры, не должно быть большой болью, хотя 17:04 &lt;jrandom&gt; эх, не так уж плохо, и легко выносится наружу 17:04 &lt;+void&gt; особенно когда целишься в Oracle ;) 17:05 &lt;jrandom&gt; вообще‑то, hsqldb поддерживает pl/sql ;) 17:06 &lt;bar&gt; есть ли другие планы на эту базу, например для статистики, профилей пиров, netdb..? 17:06 &lt;jrandom&gt; нет, это только для syndie 17:06 &lt;bar&gt; ок 17:07 &lt;jrandom&gt; (хотя когда мы положим в поставку код hsqldb, мы сможем использовать его в I2P «бесплатно») 17:07 &lt;@cervantes&gt; поскольку syndie — это не приложение I2P, а просто приложение, которое может работать поверх I2P, верно? 17:07 &lt;jrandom&gt; ага, cervantes, зависимости от I2P нет 17:07 &lt;+Complication&gt; Хорошо держать Syndie переносимым, поскольку у него могут быть и другие транспорты помимо I2P 17:07 &lt;bar&gt; верно 17:08 &lt;+Complication&gt; Однако, полагаю, запустить много инстансов hsqldb на одной машине несложно 17:08 &lt;+Complication&gt; Так что если другим приложениям это понадобится, похоже, они смогут просто использовать его 17:08 &lt;jrandom&gt; тривиально и с нулевой ценой, если использовать базу внутри JVM 17:08 &lt;+Complication&gt; (желательно — свой собственный инстанс) 17:10 &lt;+void&gt; для SQLite нет JDBC‑драйвера? 17:11 &lt;jrandom&gt; не знаю, никогда не пользовался 17:11 &lt;+void&gt; ага, похоже, есть *что‑то* 17:13 &lt;jrandom&gt; ок, есть ещё что‑нибудь для встречи? 17:13 &lt;jrandom&gt; если нет... 17:13  * jrandom dinws up 17:13  * jrandom отступает 17:13  * jrandom размахивается 17:13  * jrandom *baf* закрывает встречу </div>
