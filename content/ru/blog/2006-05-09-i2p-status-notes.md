---
title: "Заметки о состоянии I2P на 2006-05-09"
date: 2006-05-09
author: "jr"
description: "Релиз 0.6.1.18 с улучшениями стабильности сети, новым сервером разработки 'baz' и сложностями совместимости GCJ с Windows"
categories: ["status"]
---

Привет всем, снова наступил вторник

* Index

1) Состояние сети и 0.6.1.18 2) baz 3) ???

* 1) Net status and 0.6.1.18

После ещё одной недели тестирования и доработок мы сегодня днём выпустили новый релиз, который должен обеспечить более стабильную среду, на основе которой мы сможем вносить дальнейшие улучшения. Скорее всего, заметного эффекта не будет, пока он не будет широко развёрнут, так что, возможно, придётся подождать несколько дней, чтобы увидеть, как пойдут дела, но измерения, разумеется, будут продолжаться.

Один из аспектов последних сборок и релизов, на который недавно обратил внимание zzz, состоит в том, что увеличение числа резервных tunnel сейчас может существенно повлиять на ситуацию, если делать это одновременно со снижением числа параллельных tunnel. Мы не создаём новые lease, пока у нас нет достаточного количества живых tunnel, поэтому резервные tunnel могут быть быстро задействованы в случае отказа живого tunnel, снижая частоту ситуаций, когда клиент остаётся без активного lease. Однако это лишь небольшая подстройка симптома, и последний релиз должен помочь устранить первопричину.

* 2) baz

"baz", новая машина, пожертвованная bar, наконец-то приехала — это ноутбук amd64 turion (с winxp на загрузочном диске и ещё несколькими другими ОС на подходе через внешние диски). Последние несколько дней я тоже работаю с ним, пытаясь протестировать на нём несколько идей по развёртыванию. Одна проблема, с которой я столкнулся, — заставить gcj работать под windows. Точнее, gcj с современным gnu/classpath. Судя по отзывам, всё довольно печально — его можно собрать либо нативно в mingw, либо кросс-компилировать из linux, но есть проблемы вроде segfault (сегфолт — аварийное завершение из‑за нарушения доступа) всякий раз, когда исключение пересекает границу dll. Так, например, если java.io.File (находящийся в libgcj.dll) выбрасывает исключение, и его перехватывает что‑то в net.i2p.* (находящееся в libi2p.dll или i2p.exe), *poof*, приложение падает.

Ну, выглядит всё не слишком радужно. Разработчики gcj были бы очень заинтересованы, если бы кто-то подключился и помог с разработкой под win32, но похоже, что жизнеспособная поддержка вряд ли появится в ближайшее время. Похоже, нам придётся планировать дальнейшее использование Sun JVM (виртуальная машина Java) на Windows, одновременно поддерживая gcj/kaffe/sun/ibm/etc на *nix. Впрочем, полагаю, это не так уж и плохо, поскольку именно пользователи *nix испытывают проблемы с упаковкой и распространением JVM.

* 3) ???

Ладно, я уже опаздываю на встречу, так что, пожалуй, мне стоит закругляться и переключиться на окно IRC... увидимся через пару минут ;)

=jr
