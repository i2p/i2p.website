---
title: "Базовое руководство по I2P Tunnels с иллюстрациями"
date: 2019-06-02
author: "idk"
description: "Базовая настройка i2ptunnel"
categories: ["tutorial"]
---

Хотя Java I2P router поставляется предварительно настроенным со статическим веб‑сервером jetty для предоставления первого eepSite пользователя, многим требуется более сложная функциональность от их веб‑сервера, и они предпочли бы создать eepSite с другим сервером. Это, разумеется, возможно и на самом деле оказывается очень простым после того, как вы сделаете это один раз.

Хотя это сделать несложно, перед этим следует учесть несколько моментов. Вам следует убрать идентифицирующие признаки с вашего веб-сервера, например потенциально раскрывающие заголовки и типовые страницы ошибок, сообщающие тип сервера/дистрибутива. Подробнее об угрозах анонимности, возникающих из-за неправильно настроенных приложений, см.: [Riseup здесь](https://riseup.net/en/security/network-security/tor/onionservices-best-practices), [Whonix здесь](https://www.whonix.org/wiki/Onion_Services), [эта статья в блоге о некоторых провалах OPSEC (операционной безопасности)](https://blog.0day.rocks/securing-a-web-hidden-service-89d935ba1c1d), [и страница приложений I2P здесь](https://geti2p.net/docs/applications/supported). Хотя большая часть этой информации относится к Tor Onion Services (скрытым сервисам Tor), те же процедуры и принципы применимы к размещению приложений поверх I2P.

### Шаг первый: Откройте мастер Tunnel

Перейдите в веб-интерфейс I2P по адресу 127.0.0.1:7657 и откройте [Менеджер скрытых сервисов](http://127.0.0.1:7657/i2ptunnelmgr) (ссылка ведет на localhost). Нажмите кнопку «Tunnel Wizard», чтобы начать.

### Шаг второй: выберите серверный Tunnel

Мастер tunnel очень прост. Поскольку мы настраиваем http *сервер*, нам нужно только выбрать *сервер* tunnel.

### Шаг 3: Выберите HTTP Tunnel

HTTP tunnel — это тип tunnel, оптимизированный для хостинга HTTP‑сервисов. В нём включены функции фильтрации и ограничения скорости, специально адаптированные для этой цели. Стандартный tunnel тоже может подойти, но если вы выберете стандартный tunnel, вам придётся самостоятельно позаботиться об этих функциях безопасности. Более подробный разбор конфигурации HTTP Tunnel доступен в следующем руководстве.

### Шаг четвертый: Укажите имя и описание

Для собственного удобства и чтобы легче было запоминать и различать, для чего вы используете tunnel, дайте ему хороший псевдоним и описание. Если позже вам потребуется вернуться и продолжить управление, именно так вы сможете идентифицировать tunnel в менеджере скрытых сервисов.

### Шаг пятый: настройте хост и порт

На этом шаге вы указываете веб‑серверу TCP‑порт, на котором он принимает подключения. Поскольку большинство веб‑серверов слушают порт 80 или 8080, в примере это и показано. Если вы используете другие порты или виртуальные машины или контейнеры для изоляции ваших веб‑служб, возможно, потребуется изменить host, port или оба параметра.

### Шаг шестой: решите, запускать ли его автоматически

Я не могу придумать способ подробнее изложить этот шаг.

### Шаг семь: Просмотрите свои настройки

Наконец, просмотрите выбранные вами настройки. Если вас все устраивает, сохраните их. Если вы не выбрали автоматический запуск tunnel, перейдите в менеджер скрытых сервисов и запустите tunnel вручную, когда захотите сделать ваш сервис доступным.

### Приложение: параметры настройки HTTP-сервера

I2P предоставляет подробную панель для настройки http server tunnel нестандартными способами. Я завершу это руководство, пройдясь по всем из них. Когда-нибудь.
