---
title: "Встреча разработчиков I2P - 16 марта 2004"
slug: "i2p-dev-meeting-march-16-2004"
date: 2004-03-16
author: " jrandom"
description: "Протокол встречи по разработке I2P от 16 марта 2004 года."
categories: ["meeting"]
---

## Краткое резюме

<p class="attendees-inline"><strong>Присутствовали:</strong> aum, deer, jrandom, mihi</p>

## Журнал встречи

<div class="irc-log"> 13:12 &lt; jrandom&gt; повестка дня: 13:12 &lt; jrandom&gt; 0) привет 13:12 &lt; jrandom&gt; 1) административные вопросы 13:13 &lt; jrandom&gt; 2) статус 0.3 13:13 &lt; jrandom&gt; 3) профилирование/выбор пиров 13:13 &lt; jrandom&gt; 4) веб-архитектура 13:13 &lt; jrandom&gt; 5) ??? 13:13 &lt; jrandom&gt; 0) привет 13:13  * jrandom машет всем 13:14 &lt; deer&gt; * jrandom_ машет из i2p 13:14 &lt; deer&gt; * wilde даёт пять 13:15 &lt; deer&gt; &lt;ughabugha&gt; Привет! 13:15 &lt; deer&gt; * duck читает 13:15 &lt; deer&gt; &lt;human&gt; йо! 13:16 &lt; jrandom&gt; ок, сорри за задержку с выкладкой заметок о статусе на (http://i2p.net/pipermail/i2p/2004-March/000165.html) 13:18 &lt; jrandom&gt; 1) административные вопросы 13:19 &lt; jrandom&gt; для простоты и чтобы избежать проблем, которые у нас были на прошлой неделе из‑за «капризов» разных сетей, сделали немного магии, и эта встреча идёт сразу в трёх irc-сетях 13:19 &lt; deer&gt; &lt;duck&gt; (потрясающе!) 13:19 &lt; jrandom&gt; iip’s #i2p, i2p irc-сеть duck/baffled — #i2p, и freenode — #i2p 13:19 &lt; jrandom&gt; :) 13:19 &lt; deer&gt; &lt;baffled&gt; кто параноик? 13:20 &lt; deer&gt; &lt;ughabugha&gt; Ок, закончил читать заметки о статусе. 13:20 &lt; deer&gt; &lt;ughabugha&gt; jrandom: И что по ним? 13:20 &lt; deer&gt; &lt;ughabugha&gt; Или по ним всем? 13:21 &lt; jrandom&gt; просто упомянул, чтобы те, у кого проблемы с одной сетью, могли использовать другую 13:21 &lt; deer&gt; &lt;mihi&gt; ок. тоже закончил со статусом 13:21 &lt; jrandom&gt; ещё: сервер с Drupal должен вернуться онлайн на этих выходных (скрещиваю пальцы) 13:22 &lt; deer&gt; &lt;ughabugha&gt; Понял. Есть что обсудить по пункту 1)? 13:22 &lt; deer&gt; &lt;ughabugha&gt; Или ждём, пока все дочитают? 13:22 &lt; deer&gt; &lt;ughabugha&gt; jrandom: Хорошо. :) 13:22 &lt; jrandom&gt; нет, если только у кого-то нет своих административных вопросов 13:23 &lt; deer&gt; * mihi хочет поставить флажок на пункте 3 13:23 &lt; jrandom&gt; флажок поставлен ;) 13:23 &lt; deer&gt; * duck на пункте 2 13:23 &lt; deer&gt; &lt;duck&gt; эмм, какой индекс используем? 13:24  * jrandom полагает, что можно перейти к пункту повестки 2) статус 0.3 13:25 &lt; jrandom&gt; я в итоге набрал куда больше текста, чем обычно, для заметок по статусу 0.3, так что, вместо повторения, есть у кого вопросы/опасения, которые стоит поднять? 13:25 &lt; deer&gt; &lt;ughabugha&gt; Давай. 13:26 &lt; deer&gt; &lt;duck&gt; почему расшифровка ElGamal/AES+SessionTag слишком часто проваливается? 13:26 &lt; jrandom&gt; duck&gt; из‑за перегрузки и лагов. если garlic-маршрутизированное сообщение задерживается дольше времени жизни этого sessionTag, расшифровка провалится 13:27 &lt; deer&gt; &lt;duck&gt; к 13:27 &lt; jrandom&gt; кроме того, если garlic-маршрутизированное сообщение расшифровалось нормально, но содержимое задержалось так, что cloves истекли, это тоже впустую потраченная расшифровка 13:28 &lt; deer&gt; &lt;duck&gt; почему-то это предложение заставило меня подумать, что есть причина помимо перегрузки/лагов 13:28 &lt; deer&gt; &lt;tro|l&gt; ce zi e azi? 13:28 &lt; jrandom&gt; ну, были проблемы с тем, что source routed reply blocks не расшифровываются, но поскольку их не будет в 0.3.1, не особо стоит их отлаживать 13:29 &lt; deer&gt; &lt;kaji&gt; вау, это работает! 13:29 &lt; jrandom&gt; (и фейл ElG — это, наверное, самая CPU‑затратная штука в i2p) 13:30 &lt; deer&gt; &lt;jrandom_&gt; хех, добро пожаловать в i2p #i2p :) 13:30 &lt; deer&gt; * kaji хвалит 0.2.5.1 13:30 &lt; deer&gt; &lt;jrandom_&gt; 0.2.5.1?  ёмаё, ставь 0.2.5.4 :) 13:30 &lt; jrandom&gt; ок, что-нибудь ещё по статусу 0.3? 13:31 &lt; deer&gt; &lt;kaji&gt; .. 13:31 &lt; deer&gt; &lt;duck&gt; . 13:31 &lt; deer&gt; &lt;kaji&gt; пинг? 13:31 &lt; jrandom&gt; p0ng 13:31 &lt; mihi&gt; pung 13:31 &lt; deer&gt; &lt;mihi_backup&gt; pung2 13:32 &lt; deer&gt; &lt;Pellinore&gt; prawn 13:32 &lt; jrandom&gt; ок, переходим к 3) профилирование/выбор пиров 13:32  * mihi переносит флажок на другой номер 3 ;) 13:32 &lt; jrandom&gt; (блин, забавно, что нет никаких вегетарианских заменителей морепродуктов...) 13:32 &lt; deer&gt; * kaji хвалит 0.2.5.4.1 13:32 &lt; deer&gt; &lt;duck&gt; вся эта тема с профилированием пиров выглядит как магия, как ты собираешься это отлаживать? 13:32 &lt; deer&gt; &lt;Pellinore&gt; Есть вегетарианское «крабовое мясо». 13:32 &lt; jrandom&gt; ах да, верно, pellinore. 13:32 &lt; deer&gt; &lt;wilde&gt; jrandom: и вег-суши 13:33 &lt; jrandom&gt; duck&gt; какая часть выглядит как магия? 13:33 &lt; deer&gt; &lt;duck&gt; вся классификация и т.д. 13:33 &lt; deer&gt; &lt;Pellinore&gt; И, кажется, я видел какой-то заменитель рыбного филе типа chik, но могу ошибаться. 13:33 &lt; deer&gt; &lt;duck&gt; То есть, как ты узнаешь, что делаешь оптимальные вещи? 13:33 &lt; jrandom&gt; «организатор пиров» (который переносит профили между группами) — очень простой и отделяемый компонент 13:33 &lt; jrandom&gt; о, хороший вопрос. 13:34 &lt; jrandom&gt; я на днях бенчмаркил организатор на 10,000 профилях — он всё раскладывал за ~50ms 13:34 &lt; jrandom&gt; (organizing == runningthe calculators и перемещение между группами) 13:34 &lt; jrandom&gt; профили занимают всего ~3-4KB для полного профиля, и ~200 байт для минимального 13:35 &lt; deer&gt; &lt;duck&gt; да, но откуда ты берёшь «0.597s reply» для группы 1 13:35 &lt; deer&gt; &lt;duck&gt; а не, скажем, 0.603s 13:35 &lt; jrandom&gt; (так что будем держать полный профиль для лучших 1000 пиров и минимальный для следующих 10,000) 13:35 &lt; jrandom&gt; ах, ок, хороший вопрос. 13:36 &lt; jrandom&gt; это компонент Rate 13:36 &lt; jrandom&gt; очевидно будет «дрожание», и мы не будем очень точны. цель — получить порядок величин и разложить их соответственно 13:37 &lt; deer&gt; &lt;duck&gt; я видел, что он использует средние 13:37 &lt; jrandom&gt; например, найти routers на T3 с quad procs и держать их отдельно от routers на 386 с модемами 2400 bps 13:37 &lt; deer&gt; &lt;duck&gt; то есть если ты добавишь 100 паршивых узлов, они сильно повлияют на среднее 13:37 &lt; jrandom&gt; согласен — есть два аспекта, которые можно подкрутить 13:38 &lt; jrandom&gt; во‑первых, можно сделать пороги на основе топ‑10% для разделения «fast» vs «not fast» 13:38 &lt; jrandom&gt; (или топ‑90%, как угодно) 13:38 &lt; jrandom&gt; во‑вторых, можно настроить компонент Rate хранить различные статистики — вместо простой средней игнорировать перекос, считать stddev и т.п. 13:39 &lt; jrandom&gt; текущий компонент rate довольно примитивный, и я был бы рад, если кто-то, хорошо знакомый со статистикой, посмотрит и улучшит его 13:39 &lt; jrandom&gt; (одна из ключевых целей — чтобы он оставался масштабонезависимым: если приходит 100,000 событий, ему не надо держать все точки данных в памяти и т.д.) 13:40 &lt; deer&gt; &lt;duck&gt; ок, а что предотвратит ещё одну катастрофу NGRouting? 13:40 &lt; jrandom&gt; но ты абсолютно прав — калькуляторы и алгоритмы выбора пиров будут важной частью будущих улучшений сети 13:40 &lt; jrandom&gt; ngrouting пытался делать две разные вещи — находить конкретные данные и находить доступных пиров. 13:40 &lt; jrandom&gt; нам нужно только находить доступных пиров 13:41 &lt; deer&gt; &lt;duck&gt; хорошо 13:41 &lt; jrandom&gt; (и размещать там наши tunnels) 13:41 &lt; deer&gt; * duck снимает breakpoint 13:41 &lt; jrandom&gt; :) 13:41 &lt; mihi&gt; но нам нужно находить и tunnels тоже. 13:41 &lt; jrandom&gt; верно, mihi — netDb тут важен 13:42 &lt; deer&gt; &lt;Pellinore&gt; Я неплохо разбираюсь в математике статистики, но плохо в техчасти перевода данных в пригодный для компьютера вид. 13:42 &lt; deer&gt; &lt;Pellinore&gt; Но я с радостью с кем-то объединюсь и помогу, если смогу. 13:42 &lt; jrandom&gt; отлично, pellinore! 13:43 &lt; jrandom&gt; основной класс rate тут: http://i2p.net/cgi-bin/cvsweb.cgi/i2p/code/core/java/src/net/invisiblenet/i2p/stat/Rate.java?rev=1.3&amp;content-type=text/x-cvsweb-markup — потом можем обсудить :) 13:43 &lt; deer&gt; &lt;Pellinore&gt; ок 13:43 &lt; jrandom&gt; (знаю, я не ожидаю, что ты прочтёшь код, просто отмечаю) 13:44 &lt; deer&gt; &lt;Pellinore&gt; Я прочту, но это будет как моя собака читает Кьеркегора. 13:44 &lt; jrandom&gt; хехе 13:45 &lt; deer&gt; &lt;Pellinore&gt; Но я учусь. 13:45 &lt; deer&gt; &lt;Pellinore&gt; В любом случае, продолжайте — не хочу тормозить. 13:45 &lt; jrandom&gt; (добровольная помощь — это не тормозит ;) 13:46 &lt; jrandom&gt; ещё момент о коде профилирования/выбора пиров: ранг «integration» используется в базе данных сети только для «исследования», не для search/store 13:46 &lt; jrandom&gt; мы всё ещё делаем (довольно) традиционный kademlia search/store со всеми непадающими пирами 13:46 &lt; jrandom&gt; также внутри каждой группы пиров мы всегда выбираем *случайно* 13:46 &lt; jrandom&gt; (то есть мы не всегда берём самый быстрый из группы fast и т.д.) 13:47 &lt; jrandom&gt; это и из соображений безопасности, и для балансировки нагрузки 13:48 &lt; jrandom&gt; (безопасность — чтобы атакующий не мог просто создать очень быстрый router и наблюдать, как все им пользуются — ему пришлось бы создать много очень быстрых routers, перекосив всю распределённость в свою пользу и т.д.) 13:49 &lt; jrandom&gt; ок, что-нибудь ещё по 3) профилирование/выбор пиров? 13:49 &lt; deer&gt; &lt;duck&gt; . 13:50 &lt; deer&gt; &lt;ughabugha&gt; Похоже, нет. 13:50 &lt; jrandom&gt; ок, переходим к 4) веб-архитектура 13:52 &lt; jrandom&gt; новая streaming lib от mihi даёт нам много гибкости, плюс он несколько раз упоминал желание «выделить» код httpclient в нечто более надёжное. кроме того, human начал обновлять вещи, чтобы позволить прозрачное проксирование через squid (или tor-www) и eepsite-проксирование в одном клиенте 13:52 &lt; jrandom&gt; с учётом этих факторов и вероятности, что веб‑подобная функциональность будет важна для пользователей i2p, стоит сделать шаг назад и представить, как всё это должно вместе связаться 13:53  * mihi у меня на диске летает какой-то код для того httptunnel. но он далеко не закончен 13:53 &lt; mihi&gt; для меня httptunnel == httpclient + какие-то фильтры 13:53 &lt; mihi&gt; разумеется, с использованием моего naming и streaming api. 13:54 &lt; mihi&gt; сейчас код позволяет только разные «профили анонимности». 13:54 &lt; jrandom&gt; какие мысли насчёт стиля human с переходом на outproxies вроде squid/etc при сбоях? 13:54 &lt; mihi&gt; т.е. слать все запросы через один destination, мультиплексировать до 10, мультиплексировать по одному dest на hostname и т.д. 13:54 &lt; jrandom&gt; ах, интересно 13:55 &lt; mihi&gt; но эти dests пока не используются ;) 13:55 &lt; jrandom&gt; w3rd. да, есть большой нюанс: большое количество destinations на одном router ощутимо увеличивает нагрузку на CPU 13:55 &lt; jrandom&gt; (поскольку любой garlic‑фейл должен будет упасть по одному разу на каждый dest, прежде чем упасть окончательно) 13:56 &lt; jrandom&gt; хотя кое‑какая магия осталась, чтобы это минимизировать, думаю 13:56 &lt; deer&gt; &lt;ughabugha&gt; Вы уверены, что прозрачное проксирование через squid — хорошая идея с точки зрения производительности? Люди могут расслабиться и не выключать eepproxy после посещения I2P‑сайтов или использования I2P‑squid, тем самым тратя I2P‑трафик на то, что не требует анонимности. 13:56 &lt; jrandom&gt; ughabugha&gt; всё требует анонимности :) 13:57 &lt; jrandom&gt; (а если они не видят разницы, ну, чёрт с ним...) 13:57 &lt; mihi&gt; моя задумка для httptunnel — чтобы http‑ссылки переписывались (как в fproxy), и тогда прокси не нужен, только servlet. 13:57 &lt; deer&gt; &lt;ughabugha&gt; jrandom: Хех. Так I2P родился мёртвым. Не будет достаточно доступной пропускной способности в сети, чтобы все конечные узлы не выжрали её сами. 13:58 &lt; mihi&gt; на той инфостранице можно добавить опцию просматривать сайт через, например, squid. 13:58 &lt; jrandom&gt; не совсем понял. проблемы с DNS ясны и понятны (хотя, думаю, есть способы их обойти) 13:58 &lt; jrandom&gt; ах, ок, mihi 13:58 &lt; deer&gt; &lt;aum&gt; всем доброе утро 13:58 &lt; jrandom&gt; mihi&gt; то есть что-то вроде гораздо более продвинутой страницы «Unable to reach peer»? 13:59 &lt; mihi&gt; скорее страница «предупреждение об анонимности», как во freenet ;) 13:59 &lt; jrandom&gt; ughabugha&gt; если мы не потянем веб‑серфинг, то как мы потянем BT/файлообмен? 13:59 &lt; jrandom&gt; хм, mihi, а хотим ли мы этого для тех, кто хочет анонимно серфить веб? или httpclient — не то приложение, которое они будут использовать? 14:00 &lt; jrandom&gt; доброе, aum, как раз вовремя к встрече разработчиков :) 14:00 &lt; mihi&gt; jrandom: если кто-то просто хочет анонимно серфить веб, он 14:00 &lt; deer&gt; &lt;ughabugha&gt; jrandom: Хмм... Хороший вопрос. А мы вообще собираемся? ;) 14:00 &lt; deer&gt; &lt;aum&gt; jrandom: ты не на iip, ты не на irc.duck.i2p ?!? 14:00 &lt; jrandom&gt; ughabugha&gt; мы обязаны. 14:01 &lt; mihi&gt; может настроить httptunnel для этого (httptunnel всё равно будет работать как прокси, так что это довольно тривиально добавить) 14:01 &lt; mihi&gt; и, скорее всего, кто-то, анонимно серфящий веб, захочет какие-то фильтры контента, думаю ;) 14:01 &lt; jrandom&gt; mihi&gt; думаю, human уже сделал :) 14:01 &lt; jrandom&gt; согласен, mihih 14:01 &lt; jrandom&gt; /hih/hi/ 14:02 &lt; mihi&gt; когда я говорю httptunnel, я не имею в виду httpclient ;) 14:02 &lt; jrandom&gt; ах ок 14:02 &lt; deer&gt; &lt;jrandom_&gt; я тут, aum ;) 14:02 &lt; mihi&gt; но нам *очень* нужно перевести i2ptunnel на использование streaming api как можно скорее, это уменьшит число поддерживаемых файлов 14:03 &lt; jrandom&gt; согласен 14:03 &lt; mihi&gt; human только пропатчил старую версию, новую я патчил сам 14:03 &lt; jrandom&gt; мы столкнулись с багами сегодня днём, не уверен, пересылал ли тебе human логи 14:03 &lt; deer&gt; &lt;wilde&gt; ещё в список: outproxy был занят, но больше как i2p2i 14:04 &lt; mihi&gt; я пока ни от кого не получал логов... 14:04 &lt; jrandom&gt; mihi&gt; возьмёмся за streaming‑код как можно скорее, можем обсудить после встречи, если есть минутка, или по email? 14:04 &lt; deer&gt; * aum часть вчерашнего дня смотрел p2p‑приложения на предмет запуска их поверх i2p 14:04 &lt; jrandom&gt; wilde&gt; мм? 14:04 &lt; jrandom&gt; круто, aum, есть что‑нибудь перспективное? 14:04 &lt; deer&gt; * aum сейчас склоняется к «push»‑типу файлообмена, напр. konspire2b 14:05 &lt; jrandom&gt; i2psnark можно относительно просто модифицировать для нового streaming api i2ptunnel 14:05 &lt; deer&gt; &lt;human&gt; mihi: шлём логи (mihi@i2p.net, верно?) 14:06 &lt; mihi&gt; не знаю, сделал ли mihi мне редирект 14:06 &lt; deer&gt; &lt;mihi&gt; s/mihi/jrandom 14:06 &lt; jrandom&gt; хм, aum, думаешь, что модель freenet/insert действительно будет самой эффективной? 14:06 &lt; deer&gt; &lt;wilde&gt; jrandom: я думал использовать i2p webserver -&gt; proxy -&gt; internet, чтобы люди могли просматривать i2p‑сайт, но, может, обычный tunnel справится с трафиком 14:06 &lt; jrandom&gt; mihi&gt; хочешь, чтобы я настроил это на форвард тебе? 14:06 &lt; mihi&gt; jrandom: ничего не имею против ;) 14:07 &lt; deer&gt; &lt;ughabugha&gt; aum: «Push»-тип? Что это? 14:07 &lt; deer&gt; &lt;aum&gt; что мне нравится в konspire2b — он снимает ожидание мгновенной/быстрой доставки и снижает требования к полосе пропускания, т.к. только рассылает объявления о контенте, а люди «подписываются» на «ленты контента» 14:07 &lt; jrandom&gt; mihi&gt; готово. 14:08 &lt; deer&gt; &lt;aum&gt; то есть вместо того, чтобы запрашивать файл, сидеть и крутить пальцами, беситься в ожидании — ты просто «подписываешься» на «канал» источника и занимаешься своими делами 14:08 &lt; deer&gt; &lt;aum&gt; konspire2b.sf.net 14:08 &lt; jrandom&gt; aum&gt; но разве это не ужасно неэффективно? надо поддерживать оверлейную сеть (broadcast) для списка доступного, а потом ещё ретранслировать сами данные? 14:09 &lt; jrandom&gt; разве прямой swarming не был бы полезнее/эффективнее? 14:09 &lt; deer&gt; &lt;ughabugha&gt; Хех. Это звучит перспективно для I2P. 14:09 &lt; deer&gt; &lt;aum&gt; jrandom: есть примеры прямого swarming? 14:09 &lt; jrandom&gt; wilde&gt; о, как cgiproxy у duck и у janonymous? 14:09 &lt; jrandom&gt; aum&gt; bittorrent 14:10 &lt; deer&gt; &lt;ughabugha&gt; aum: Ты имел в виду http://konspire.sourceforge.net/? 14:10 &lt; jrandom&gt; где ты берёшь torrent где‑то и получаешь блоки контента напрямую от пиров, у которых он есть 14:10 &lt; deer&gt; &lt;aum&gt; ughabugha: похоже, да :) 14:10 &lt; mihi&gt; арргл... $me-&gt;brother удалил port forward для i2p... 14:10 &lt; jrandom&gt; йокарный бабай 14:10 &lt; deer&gt; &lt;aum&gt; jrandom: кто‑то сейчас пробует bt/i2p? 14:11 &lt; deer&gt; &lt;baffled&gt; aum, ты внимательно смотрел mnet? 14:11 &lt; jrandom&gt; aum&gt; eco продвинулся с i2psnark 14:11 &lt; deer&gt; &lt;aum&gt; смотрел, но не глубоко 14:11 &lt; jrandom&gt; (хотя он сейчас пропал) 14:12 &lt; jrandom&gt; хм, mnet с eepsite‑метатрекерами и i2p/twisted‑транспортом от human может сработать 14:12 &lt; deer&gt; &lt;duck&gt; серьёзные тесты от janonymous и меня показывают, что текущие проблемы i2psnark наполовину из‑за i2p и наполовину из‑за самого snark 14:12 &lt; jrandom&gt; duck&gt; насколько недавно были эти тесты? 14:12 &lt; deer&gt; &lt;duck&gt; на прошлой неделе 14:12 &lt; jrandom&gt; хотя я не против исследовать и другие реализации bt 14:12 &lt; jrandom&gt; ага 14:13 &lt; deer&gt; &lt;duck&gt; насчёт mnet, я _думаю_, что сначала надо чинить сам mnet, прежде чем это заработает 14:13 &lt; deer&gt; &lt;duck&gt; так что можно уж тогда починить freenet и его использовать 14:13 &lt; jrandom&gt; хех 14:13 &lt; deer&gt; &lt;aum&gt; починить freenet, ок! сразу после того, как установим мир во всём мире ;p 14:13 &lt; deer&gt; &lt;duck&gt; но спроси в #mnet @ freenode 14:13 &lt; deer&gt; &lt;Pellinore&gt; mnet=? 14:13 &lt; deer&gt; &lt;Pellinore&gt; Mute? 14:14 &lt; jrandom&gt; в этом смысле, может, мод для azureus под i2p сработает? 14:14 &lt; deer&gt; &lt;wilde&gt; нет, рыночно‑ориентированный подход к p2p 14:14 &lt; jrandom&gt; pellinore — mnet.sf.net, распределённое хранилище данных без анонимности 14:14 &lt; deer&gt; &lt;baffled&gt; Вообще-то, я довольно надёжно использую mnet на примерно пяти машинах. 14:14 &lt; jrandom&gt; верно, наследник mojonation 14:14 &lt; deer&gt; &lt;baffled&gt; А freenet я не могу надёжно использовать ни на одной. 14:14 &lt; deer&gt; &lt;duck&gt; baffled: 0.6 или 0.7? 14:14 &lt; deer&gt; &lt;duck&gt; (0.7 с twisted, если не ошибаюсь) 14:16 &lt; deer&gt; &lt;Pellinore&gt; jrandom — спасибо. 14:16 &lt; deer&gt; &lt;Pellinore&gt; Freenet невозможно надёжно использовать ни на одной машине. 14:17 &lt; deer&gt; &lt;baffled&gt; 0.6.[23]. 14:17 &lt; deer&gt; &lt;Pellinore&gt; В том числе и поэтому мы здесь. :) 14:17 &lt; deer&gt; &lt;aum&gt; я нахожу, что entropy работает хорошо... в конце концов! 14:17 &lt; jrandom&gt; не знаю, я всё ещё думаю, что freenet может быть хорошей базой для i2p DHT (когда мы сможем вырезать большую часть кода и оставить data store / SSK/CHK) 14:18 &lt; jrandom&gt; для файлообмена нам стоит учиться у файлообменного комьюнити, что работает лучше 14:18 &lt; deer&gt; &lt;aum&gt; но после моей статьи в linuxworld про entropy узлов entropy стало тьма‑тьмущая, и сеть обрела некоторые характеристики производительности freenet 14:18 &lt; deer&gt; &lt;Pellinore&gt; Мне нравится базовая структура и фичи Freenet, просто эта зараза не работает, особенно на dialup. 14:18 &lt; jrandom&gt; напр., клоны DC, BT, [и что там ещё используют те безбашенные файлообменщики?] 14:19 &lt; jrandom&gt; хех, aum, чёрт бы тебя побрал ;) 14:19 &lt; deer&gt; &lt;duck&gt; плюс есть вещи, которые Newsbyte отметил про entropy... 14:19 &lt; deer&gt; &lt;aum&gt; анонимность слабее, например? 14:19 &lt; deer&gt; &lt;baffled&gt; Верно, но есть проблемы со стабильностью в 0.7. 14:19 &lt; deer&gt; &lt;baffled&gt; Похоже, соединение снова стало глючным. 14:19 &lt; jrandom&gt; и проблемы с безопасностью. думаю, к сожалению, entropy нам не подходит 14:21 &lt; jrandom&gt; но, эмм, у нас пункт 4, веб‑архитектура, так что давайте вернёмся к теме ;) 14:21 &lt; deer&gt; &lt;aum&gt; ещё одна безумная идея файлообмена — а что если использовать nntp, с n людьми, запускающими связанные nntpd, и просто использовать одну из библиотек, которая разбивает файлы на b64‑куски и постит их, и библиотеки для получения? 14:22 &lt; jrandom&gt; NNTP был бы очень интересен — он чертовски надёжен и проверен временем 14:22 &lt; deer&gt; &lt;duck&gt; линковать сервера? 14:22  * jrandom с радостью поднял бы innd внутри i2p ;) 14:23 &lt; deer&gt; &lt;aum&gt; и так как анонимность делает i2p, nntp её не нужен 14:23 &lt; jrandom&gt; верно, feed‑линия innd могла бы указывать на локальный i2ptunnel proxy 14:23 &lt; deer&gt; &lt;aum&gt; и люди с разными серверами могут настроить кэширование нужных им групп 14:23 &lt; mihi&gt; в зависимости от того, как часто они пирятся, можно было бы цензурить статьи, создавая коллизии message id 14:23 &lt; deer&gt; &lt;duck&gt; (пробовал когда-нибудь настраивать innd?) 14:24 &lt; jrandom&gt; много раз, duck, но очень давно 14:24 &lt; deer&gt; &lt;aum&gt; innd тяжело настраивать? 14:24 &lt; deer&gt; &lt;duck&gt; ну ладно, ты бог 14:24 &lt; jrandom&gt; mihi&gt; согласен — это не цензуроустойчивое средство распространения 14:24 &lt; jrandom&gt; aum&gt; это геморрой 14:25 &lt; jrandom&gt; как и squid — он хорош в своём, но нам, вероятно, нужно что-то до предела простое (желательно в один клик) для поставки в комплекте 14:25  * jrandom тащит нас обратно к теме 14:26 &lt; deer&gt; &lt;aum&gt; и ещё один подход к p2p/файлообмену — помню, видел p2p‑приложение по http, цепочкой http‑серверов 14:26  * mihi подозревает, что большинство пользователей не знают, как настроить прокси в своём браузере... 14:26 &lt; deer&gt; &lt;aum&gt; сорри, какая тема? 14:26 &lt; jrandom&gt; пункт 4 повестки) веб‑архитектура ;) 14:26 &lt; aum&gt; то есть веб‑сервера внутри i2p? 14:26 &lt; mihi&gt; aum: да 14:26 &lt; jrandom&gt; это хороший пойнт, mihi — веб‑системе понадобятся базовые скрипты (.bat, .sh) для запуска/остановки 14:27 &lt; jrandom&gt; хм, разве mozilla не включает javascript‑url, которым можно выставить прокси? 14:27 &lt; jrandom&gt; например, можем ли мы иметь страницу настроек в httptunnel с кнопкой «on»/«off»? 14:28 &lt; jrandom&gt; понимаю, что мы не примем сегодня решений о том, как должна работать веб‑функциональность, но стоит наметить направления 14:28 &lt; aum&gt; а что не так с нынешним eepproxy? 14:29 &lt; jrandom&gt; напр., фильтрация, inbound‑прокси (eeproxies), исходящие серверы (обычный i2ptunnel server), outbound‑прокси (outproxies а‑ля squid или tor-www) 14:29 &lt; mihi&gt; aum: он требует приличных навыков и для предоставления, и для запроса eepsites 14:29 &lt; jrandom&gt; и ещё, существующая система outproxy отстой. 14:29 &lt; jrandom&gt; она абсолютно не масштабируется 14:29 &lt; jrandom&gt; нужно что-то, что позволит/заставит распределять исходящие веб‑запросы по нескольким outproxies 14:30 &lt; mihi&gt; как пользователи будут получать эти outproxies? config‑файл (как в hosts.txt?) 14:30 &lt; jrandom&gt; и одна из причин, почему «обычным» людям захочется запускать outproxies, — правдоподобное отрицание: даже если ОНИ запрашивают «плохое», они скажут «это i2p сделал» 14:31 &lt; jrandom&gt; это один вариант, mihhi 14:31 &lt; mihi&gt; jrandom: хехе 14:31 &lt; jrandom&gt; s/hh/h/ 14:31 &lt; aum&gt; но разве eepproxy делает «прямое» http‑соединение к запрошенному серверу, то есть настолько «прямое», насколько это возможно в i2p? 14:31 &lt; deer&gt; &lt;wilde&gt; . /castvote DHT ala Freenet 14:31 &lt; mihi&gt; aum: проблема в «нормальных» веб‑url. 14:31 &lt; jrandom&gt; ./castvote 3 developers x 1 month x 12h / day 14:32 &lt; deer&gt; * human добавил поддержку httptunnel в TunnelManager, кстати 14:32 &lt; deer&gt; &lt;human&gt; s/httptunnel/httpclient/ 14:32 &lt; deer&gt; &lt;aum&gt; что это? 14:32 &lt; deer&gt; &lt;aum&gt; о, поддержка http client? 14:32 &lt; deer&gt; &lt;human&gt; aum: да 14:32 &lt; jrandom&gt; верно, нам нужно найти способ дать людям возможность просматривать slashdot.org через i2p 14:32 &lt; deer&gt; &lt;aum&gt; то есть tunnelmgr теперь говорит по http? 14:32 &lt; jrandom&gt; nice1, human! 14:32 &lt; jrandom&gt; aum&gt; помнишь squid‑прокси? 14:33 &lt; deer&gt; &lt;aum&gt; ага 14:33 &lt; deer&gt; &lt;wilde&gt; jrandom: значит примерно 4 человеко‑месяца на DHT? 14:33 &lt; deer&gt; &lt;human&gt; aum: ага: openhttpclient &lt;port&gt; [&lt;outbound WWW proxy&gt;] 14:33 &lt; jrandom&gt; wilde&gt; думаю, это разумно, да. 14:34 &lt; deer&gt; &lt;aum&gt; human: ты где-то это описал? 14:35 &lt; jrandom&gt; aum&gt; он всего лишь делает «if !eepsite { send through $outboundWWWproxy } else {send to eepsite}» 14:35 &lt; deer&gt; &lt;human&gt; aum: собирался коммитить, но застрял на баге StreamingI2PTunnelServer... 14:36 &lt; jrandom&gt; хорошее краткосрочное решение — «outproxies.txt», как hosts.txt 14:36 &lt; deer&gt; &lt;aum&gt; human: и что именно делает «openhttpclient &lt;port&gt; [&lt;outbound WWW proxy&gt;]»? 14:36 &lt; jrandom&gt; но стоит думать и о средне‑ и долгосрочных решениях 14:37 &lt; deer&gt; &lt;human&gt; human: откроет прокси, слушающий подключения, который будет перенаправлять в WWW‑proxy всё, что идёт на URL, не оканчивающиеся на .i2p 14:38 &lt; deer&gt; &lt;Pellinore&gt; Вот это интересно. 14:38 &lt; deer&gt; &lt;aum&gt; human: ага, то есть ты выделил поток внутри tunnelmgr? 14:38 &lt; deer&gt; &lt;human&gt; human: т.е. можно использовать для просмотра и eepsite, и обычного веба 14:38 &lt; deer&gt; &lt;human&gt; human: да 14:38 &lt; deer&gt; &lt;human&gt; s/human/aum/ :-) 14:39 &lt; deer&gt; &lt;aum&gt; немного выходит за «бриф» tunnelmgr, но другого места в коде i2p нет — хорошая работа, чувак 14:39 &lt; deer&gt; &lt;aum&gt; human: так ты говоришь на python и java? это не разрушает тебе мозг? 14:39 &lt; deer&gt; &lt;human&gt; aum: я сделал это, чтобы не запускать ещё одну JVM для EepProxy 14:40 &lt; jrandom&gt; (ну, код реализован в httpclient i2ptunnel, human просто недавно вытащил это наружу через tunnelmanager) 14:40 &lt; deer&gt; &lt;aum&gt; да, всегда хорошо держать число экземпляров jvm по минимуму 14:40 &lt; jrandom&gt; ((и, ИМХО, httpclient — это как раз то место, где этому и быть ;) 14:40 &lt; jrandom&gt; (((пока не выйдет NextGen httpclient [httptunnel] от mihi))) 14:41 &lt; deer&gt; &lt;aum&gt; httpclient в cvs, так что он соберётся у меня как часть i2p update/build? 14:41 &lt; jrandom&gt; да, eepProxy использует httpclient 14:42 &lt; deer&gt; &lt;aum&gt; *блин, это так шизофренично — у меня открыто 3 xchat (irc.duck.i2p,iip,freenode))  14:42 &lt; jrandom&gt; :) 14:42 &lt; deer&gt; &lt;aum&gt; жуткая задержка на irc.duck.i2p 14:42 &lt; jrandom&gt; ок, сегодня по веб‑архитектуре, понятно, без финала, но разговор был полезным 14:43 &lt; jrandom&gt; да, aum, у меня около 15с 14:43 &lt; jrandom&gt; есть что добавить по веб‑архитектуре или перейдём к 5) ??? — открытому обсуждению? 14:43 &lt; deer&gt; * human думает об I2PSocksTunnel 14:44 &lt; jrandom&gt; ух ты, вот это было бы круто 14:44 &lt; deer&gt; &lt;human&gt; (ну, может, это к 5) 14:44 &lt; deer&gt; &lt;aum&gt; socks? есть способ «подложить прокладку» под клиентов без поддержки socks, чтобы они ходили через socks‑интерфейс? 14:44 &lt; deer&gt; &lt;human&gt; aum: apt-get install tsocks :-) 14:45 &lt; aum&gt; обсуждение веба — напоследок — а как насчёт форкнуть/пропатчить существующий веб‑клиент 14:45 &lt; mihi&gt; aum: sockscap для windwos 14:45 &lt; jrandom&gt; aum&gt; страшно. очень мощно, но страшно. 14:45 &lt; jrandom&gt; [я бы не хотел это поддерживать] 14:45 &lt; aum&gt; хотя бы на сейчас, туповатый браузер вроде dillo 14:46 &lt; jrandom&gt; [[хотя его можно сделать «супер безопасным» и т.п. но всё равно очень, очень страшно]] 14:46 &lt; aum&gt; или лучше браузерный контрол в wxwindows, он мультиплатформенный 14:46  * jrandom вспоминает оригинальные flinks, когда в нём был встроенный браузер freesite 14:47 &lt; aum&gt; но нубы будут ныть, если не смогут серфить свои обычные m$‑specific‑javascript‑infested сайты 14:47 &lt; jrandom&gt; верно, aum, и хакеры тоже, если он не поддерживает последние стандарты 14:47 &lt; aum&gt; хей, надо попросить Microsoft исходники IE6 и запатчить ;p 14:47 &lt; jrandom&gt; писать браузер == отличный способ убить тысячи человеко‑часов 14:47 &lt; jrandom&gt; хех 14:47 &lt; deer&gt; * human вполне счастлив с privoxy 14:48 &lt; aum&gt; может, они «бросят» исходники ie6 в рамках европейского штрафа 14:48 &lt; deer&gt; &lt;human&gt; (http://www.privoxy.org/) 14:48 &lt; aum&gt; s/toos/toss/ 14:48 &lt; jrandom&gt; human&gt; как это будет работать по обе стороны прокси? 14:48 &lt; jrandom&gt; например, нам надо фильтровать контент локально, а не на исходящем конце 14:49 &lt; deer&gt; &lt;human&gt; jrandom: пользователей можно побудить поставить его 14:49 &lt; jrandom&gt; (но исходящий endpoint тоже захочет фильтровать часть контента, чтобы избежать абьюза и т.п.) 14:49 &lt; deer&gt; &lt;human&gt; jrandom: или он может быть частью дефолтной установки I2P 14:49 &lt; aum&gt; а если DWP (distributed web proxy) использует DHT для кэша? 14:49 &lt; jrandom&gt; «побудить» — значит только гики. надо бандлить :) 14:49 &lt; jrandom&gt; это было бы хорошо, aum 14:49 &lt; deer&gt; &lt;human&gt; jrandom: ехехе, согласен :-) 14:49 &lt; deer&gt; &lt;human&gt; jrandom: privoxy, кстати, и на windogs работает 14:50 &lt; jrandom&gt; word. да, нам нужен какой‑то фильтр контента — privoxy, muffin, что угодно. 14:50 &lt; deer&gt; &lt;wilde&gt; длинная встреча... 14:50  * jrandom понял намёк.. 14:51 &lt; deer&gt; &lt;Pellinore&gt; wilde: Сказать есть о многом. 14:51 &lt; jrandom&gt; у кого‑то ещё что‑то? всегда есть рассылка для продолжения 14:51 &lt; deer&gt; &lt;Pellinore&gt; И сделать, конечно, ещё больше. 14:51 &lt; deer&gt; &lt;Pellinore&gt; У меня пара маленьких вопросов. 14:51 &lt; aum&gt; можем ли форкнуть privoxy и 1) заставить его работать поверх i2p, 2) использовать DHT для кэширования? 14:51 &lt; deer&gt; &lt;Pellinore&gt; Но их так же легко обсудить приватно. 14:51 &lt; jrandom&gt; pellinore&gt; что там? 14:51 &lt; deer&gt; &lt;Pellinore&gt; Ничего, сорри, что сказал. 14:51 &lt; jrandom&gt; aum&gt; скорее всего, форк не понадобится 14:52 &lt; deer&gt; &lt;Pellinore&gt; Поговорю об этом с тобой или с duck приватно, в другой раз. 14:52 &lt; deer&gt; &lt;Pellinore&gt; Не совсем дев‑специфичные вещи. 14:52 &lt; deer&gt; &lt;duck&gt; 10+16+7=33 человеко‑часа, «потраченные» на этот час овертайма :) 14:52 &lt; jrandom&gt; но построение DHT — это много усилий. абсолютно невероятно стоящая вещь 14:52 -!- Irssi: #i2p: Всего 10 ников [0 ops, 0 halfops, 0 voices, 10 обычных] 14:52  * aum снова идёт на wiki infoanarchy.org по страницам DHT 14:52 &lt; jrandom&gt; в iip 16 человек? 14:53 &lt; deer&gt; &lt;human&gt; aum: форк не нужен, просто: web browser &lt;-&gt; privoxy &lt;-&gt; httpclient &lt;-&gt; i2p &lt;-&gt; outbound proxy &lt;-&gt; www.pr0n.com 14:53 &lt; deer&gt; &lt;wilde&gt; универсальный DHT, который работал бы и вне I2P, и позволял другие биндинги, чем http 14:53 &lt; jrandom&gt; aum&gt; посмотри ссылку, которую duck добавил в wiki i2p, со списком разных 14:54 &lt; deer&gt; &lt;human&gt; aum: можно настроить privoxy так, чтобы он коннектился к другому HTTP/socks‑прокси (так у меня работает I2P‑to‑tor privoxy) 14:54 &lt; deer&gt; &lt;duck&gt; (http://www.bamboo-dht.org/) 14:54 &lt; aum&gt; не уверен, что мне нравится идея DHT, работающего вне i2p — лучший DHT без анонимности (и оверхеда анонимности), который может максимально эффективно работать внутри i2p 14:54 &lt; jrandom&gt; хмм, duck, а что стало с тем списком? 14:54 &lt; deer&gt; &lt;duck&gt; aum: проще тестировать 14:55 &lt; deer&gt; &lt;duck&gt; jrandom: какой‑то коммунист его удалил, наверное 14:55 &lt; jrandom&gt; хех 14:56 &lt; jrandom&gt; google++ : http://www.etse.urv.es/~cpairot/dhts.html 14:56 &lt; jrandom&gt; (не та же страница, но интересная) 14:56 &lt; jrandom&gt; о, вот та страница — http://himalia.it.jyu.fi/ffdoc/storm/pegboard/available_overlays--hemppah/peg.gen.html 14:57 &lt; jrandom&gt; но да, DHT, который не пытается реализовывать анонимность, плюс DHT, поддерживающий и CHK‑стиль, и SSK‑стиль контента, — было бы лучше всего 14:58 &lt; jrandom&gt; (SSK‑стиль не строго необходим, но, чёрт возьми, это было бы очень полезно) 14:58 &lt; jrandom&gt; ну, в общем 14:58 &lt; jrandom&gt; ещё что‑нибудь кто‑нибудь хочет поднять? 14:59 &lt; deer&gt; &lt;duck&gt; завтра День Святого Патрика 14:59 &lt; deer&gt; &lt;wilde&gt; пункт 5) ? 14:59 &lt; deer&gt; &lt;duck&gt; так что все пейте ирландское пиво 14:59 &lt; jrandom&gt; верное замечание 14:59 &lt; deer&gt; &lt;Pellinore&gt; Завтра годовщина моих нынешних отношений и моей второй свадьбы. 14:59  * jrandom берёт на заметку избегать ирландских пабов завтра 15:00 &lt; jrandom&gt; о, поздравляю, pellinore :) 15:00 &lt; jrandom&gt; wilde&gt; у нас 5) ??? 15:01 &lt; jrandom&gt; (и скоро будет 6) [baf]) 15:01  * jrandom сейчас придёт в iip [если смогу] 15:01  * jrandom сворачивает 15:01  * jrandom *baf* закрывает встречу </div>
