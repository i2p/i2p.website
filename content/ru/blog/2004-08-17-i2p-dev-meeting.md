---
title: "Встреча разработчиков I2P - 17 августа 2004"
date: 2004-08-17
author: "jrandom"
description: "Протокол встречи разработчиков I2P от 17 августа 2004 года."
categories: ["meeting"]
---

## Краткое резюме

<p class="attendees-inline"><strong>Присутствовали:</strong> aum, deer, duck, hypercubus, jrandom, kaji, MikeW</p>

## Журнал встречи

<div class="irc-log"> 14:05 &lt;jrandom&gt; 0) привет 14:05 &lt;jrandom&gt; 1) Состояние сети и 0.3.4.3 14:05 &lt;jrandom&gt; 2) Stasher 14:06 &lt;jrandom&gt; 3) ??? 14:06 &lt;jrandom&gt; 0) привет 14:06  * jrandom машет всей банде i[2i]p и freenode 14:06  * hypercubus машет 14:06 &lt;jrandom&gt; еженедельные заметки о статусе опубликованы несколько секунд назад на http://dev.i2p.net/pipermail/i2p/2004-August/000409.html 14:06 &lt;deer&gt; &lt;oOo_itwop&gt; Время шоу! 14:07 &lt;deer&gt; &lt;mule&gt; кажется, i2p irc меня не любит. или хочет держать меня в тонусе регулярными перебоями 14:07 &lt;jrandom&gt; хех, да, это как раз подводит нас к 1) Состояние сети и 0.3.4.3 :) 14:07 &lt;jrandom&gt; сеть сейчас довольно паршиво работает 14:07 &lt;kaji&gt; ага 14:08 &lt;jrandom&gt; проблемы в основном вызваны несовместимостью разных релизов, которые запускают пользователи, что привнесло массу забавных способов всё ломать 14:09 &lt;jrandom&gt; если посмотрите ссылки в письме, увидите имевшие место флад и DoS на netDb, но в основном уже схлынуло 14:09 &lt;jrandom&gt; у нас всё ещё с полдюжины людей на старых релизах (и, вероятно, 20–25 человек на «чистой» 0.3.4.2 со своими проблемами) 14:10 &lt;jrandom&gt; спасибо за терпение, пока мы с этим разбираемся. не хочу торопить новый релиз, пока сначала не сможем эффективно обходить плохие узлы 14:10 &lt;jrandom&gt; раньше мы обходили узлы, которые просто плохо работают, но не приходилось иметь дело с узлами, которые делают Плохие вещи 14:11 &lt;deer&gt; &lt;oOo_itwop&gt; Подопытные кланяются jrandom! 14:11 &lt;duck&gt; следующий релиз будет обратно совместим? 14:11 &lt;jrandom&gt; возможно, duck. если сможем обойти те старые узлы, нет причин делать его несовместимым 14:12 &lt;duck&gt; круто 14:12 &lt;jrandom&gt; в любом случае, работы идёт много, хоть вы пока и не видите новых релизов 14:13 &lt;jrandom&gt; не знаю, когда выйдет 0.3.4.3. возможно, завтра, а возможно, позже на этой неделе. 14:14 &lt;jrandom&gt; есть вопросы/комментарии/опасения по поводу состояния сети? 14:14 &lt;kaji&gt; в *.3 будет новый GUI-инсталлятор от hyper? 14:14 &lt;jrandom&gt; скорее всего, нет 14:14 &lt;deer&gt; &lt;mule&gt; по профилям на моих машинах сеть выглядит нормально, только у меня часто обрывается 14:15 &lt;jrandom&gt; да, понимаю, mule. у меня тоже IRC-соединение было довольно плохим, но в последнее время стало лучше 14:15 &lt;deer&gt; &lt;mule&gt; но я пропустил большую часть обсуждения, так что пока помолчу 14:15 &lt;jrandom&gt; если хотите попробовать вытянуть из CVS, там уже должно быть улучшение, но обновления частые, так что, возможно, лучше подождать релиза 14:16 &lt;jrandom&gt; ок, что-нибудь ещё? если нет, бодро идём дальше к 2) Stasher 14:16 &lt;kaji&gt; вуут, Stasher 14:17 &lt;jrandom&gt; Stasher выглядит довольно круто. функциональность пока довольно ограниченная, но прогресс есть 14:17 &lt;jrandom&gt; если бы aum не спал, он мог бы рассказать обновления... 14:17 &lt;jrandom&gt; aum: пинг?  :) 14:17 &lt;kaji&gt;  /kick aum 14:18 &lt;jrandom&gt; (у него рано, так что он, вероятно, ещё спит) 14:18 &lt;duck&gt; какой эгоист 14:18 &lt;hypercubus&gt; пока что я впечатлён 14:18 &lt;jrandom&gt; В любом случае, ставить и запускать Stasher довольно просто, так что если сможете помочь ему с тестированием — будет здорово 14:18 &lt;jrandom&gt; ага, сто пудов 14:18 &lt;hypercubus&gt; он позволил мне провернуть массовый goatse 14:19 &lt;jrandom&gt; и что за приложение без goatse, а?   14:19 &lt;hypercubus&gt; ну как не любить приложение, позволяющее заливать goatse на чей‑нибудь диск ;-) 14:19 &lt;aum&gt; понг 14:19 &lt;jrandom&gt; w0ah  14:19 &lt;jrandom&gt; доброго утра, aum 14:19 &lt;deer&gt; &lt;ardvark&gt; быстрый вопрос: Stasher берётся через i2p CVS? 14:19 &lt;aum&gt; всем привет 14:19 &lt;jrandom&gt; ardvark: в i2p/apps/stasher/ 14:19 &lt;aum&gt; ardvark: привет!!!! :) давно не виделись! 14:20 &lt;deer&gt; &lt;ardvark&gt; да, привет, aum! рад тебя видеть, дружище! 14:20 &lt;aum&gt; ardvark: наверное, проще через tar-архив — http://stasher.i2p или http://www.freenet.org.nz/python/stasher 14:21 &lt;deer&gt; &lt;ardvark&gt; ок, aum, я взял tar-архив, но он говорит, что нужны ещё зависимости? Не буду задерживать встречу, могу связаться с тобой? 14:21 &lt;aum&gt; без проблем 14:22 &lt;hypercubus&gt; ну, есть новости по Stasher, aum? ;-) 14:23 &lt;aum&gt; небольшое обновление: я добавил опцию '-l', которая позволяет делать get/put только локально 14:23 &lt;aum&gt; также думаю реализовать опцию 'put', которая возвращает управление сразу  14:24 &lt;aum&gt; вчера вечером продумывал вопросы реализации типов ключей Freenet 14:24 &lt;hypercubus&gt; я бы попросил, чтобы успешные операции put возвращали статус... scp и многие другие сетевые CLI‑приложения так делают 14:24 &lt;jrandom&gt; SSK было бы очень круто 14:25 &lt;jrandom&gt; (а CHK, имхо, конечно, самое необходимое) 14:25 &lt;MikeW&gt; Одна вещь, которая мне всегда нравилась во Freenet: он объяснял, почему может быть высокая загрузка CPU. Иногда (обычно на старте на минуту‑две) и случайно загрузка CPU взлетает до 100%, может быть, оценка, почему, по его мнению, java ест мой CPU? 14:25 &lt;deer&gt; &lt;oOo&gt; Splitfiles (разделение файла на части) ^^ 14:26 &lt;jrandom&gt; MikeW: если I2P ест ваш CPU, значит точно что‑то сломано 14:26 &lt;aum&gt; я предварительно уже реализовал splitfiles, но ещё не включил — хочу сперва потестировать локально 14:26 &lt;jrandom&gt; MikeW: вы можете точно узнать, что происходит в вашем router, посмотрев на 'current job' в router console, — именно там (почти всегда) и жрётся CPU 14:26 &lt;jrandom&gt; о, круто, aum 14:27 &lt;aum&gt; благодаря рекурсивному алгоритму splitfiles должен позволить неограниченные размеры файлов, когда будет готов 14:27 &lt;deer&gt; &lt;oOo&gt; Отлично, splitfiles обязателен для серьёзного goatse и pr0n... 14:27 &lt;deer&gt; &lt;identiguy&gt; aum: это включает FEC? 14:27 &lt;aum&gt; fec не нужен 14:27 &lt;aum&gt; fec требуется только на ненадёжных сетях 14:27 &lt;deer&gt; &lt;identiguy&gt; А, ясно. 14:27 &lt;aum&gt; я использую Kademlia, у которой куда лучше гарантии извлекаемости 14:27 &lt;duck&gt; если только узлы не лягут 14:28 &lt;aum&gt; к тому же, мне просто лень возиться с fec, это геморрой 14:28 &lt;aum&gt; duck: есть избыточность — см. значение 'k' в Kademlia 14:28 &lt;jrandom&gt; duck: при k=20 даже без какого‑либо переопубликования всё будет ок ;) 14:28 &lt;duck&gt; хех, окей 14:28 &lt;deer&gt; &lt;mule&gt; aum: fec может помочь, если будет удалено несколько узлов 14:28 &lt;jrandom&gt; (а с переопубликованием будет больно только если все k помрут одновременно) 14:28 &lt;aum&gt; неа, я просто увеличу k 14:28 &lt;jrandom&gt; k=20, имхо, довольно солидно 14:29 &lt;jrandom&gt; (это значит, что у вас 20 полных реплик файла) 14:29 &lt;hypercubus&gt; пользователи всегда могут использовать отдельные инструменты для fec 14:29 &lt;MikeW&gt; jrandom: Under JobQueue, runners:1, active jobs:0, just finished:1, ready/waiting: 0, timed: 28 14:29 &lt;aum&gt; это значит 20 goatse, ребята :P 14:29 &lt;hypercubus&gt; и опубликовать результат 14:29 &lt;duck&gt; а как насчёт эффекта britneyspears? 14:29 &lt;duck&gt; когда очень популярные ключи оказываются на одном узле 14:29 &lt;jrandom&gt; (иначе говоря, вставляете файл 740MB и получаете 14.8GB данных, которые надо отправить) 14:30 &lt;aum&gt; duck: понятия популярности в Kademlia нет 14:30 &lt;duck&gt; (конечно, с ключами по 32KB это может быть не так страшно) 14:30 &lt;jrandom&gt; ок, круто, MikeW, но I2P ест ваш CPU прямо сейчас? 14:30 &lt;deer&gt; &lt;ardvark&gt; все эти сообщения Kademlia, которые я вижу в i2p, относятся к Stasher? 14:30 &lt;MikeW&gt; jrandom: да 14:30 &lt;aum&gt; duck: и в Kademlia нет ретрансляции 14:30 &lt;hypercubus&gt; ardvark: то, что в router console — это реализация netDb kad 14:31 &lt;aum&gt; идеи 'relaying', 'popularity', 'caching' и т. п. — это для Freenet, который вынужден обнажаться перед миром, без плаща‑невидимки I2P 14:31 &lt;deer&gt; &lt;ardvark&gt; запущены I2P и Tor, и у меня загрузка CPU сейчас 3%, так что :/  *пожимает плечами* 14:31 &lt;jrandom&gt; MikeW: значит, ваш router не может поддерживать соединения и жрёт CPU, выполняя множество параллельных установок соединений 14:31 &lt;duck&gt; ок, мозг у меня испорчен Freenet 14:31 &lt;duck&gt; пощадите :) 14:31 &lt;deer&gt; * shendaras утешает. 14:31 &lt;jrandom&gt; MikeW: если сможете остаться после встречи для отладки, будет здорово 14:32 &lt;MikeW&gt; сделаю 14:32 &lt;jrandom&gt; ок, круто. aum, что люди могут сделать, чтобы помочь? 14:32 &lt;jrandom&gt; или нам просто потестировать и накидать багов? 14:33 &lt;duck&gt; я пытаюсь привыкнуть к leo 14:33 &lt;aum&gt; да, присылайте баги в список, если ок, ребята 14:33 &lt;duck&gt; мне он уже нравится больше, чем eclipse 14:33 &lt;hypercubus&gt; что такое leo? 14:33 &lt;jrandom&gt; (ух‑ох, сейчас будет тирада ;) 14:33 &lt;aum&gt; duck: в последнее время я пользуюсь только leo — кроме emacs для быстрых хаков и zile для ещё более быстрых 14:34 &lt;hypercubus&gt; главное, чтобы ты не использовал vi или emacs ;-) 14:34 &lt;aum&gt; http://leo.sf.net — даёт обзорное («outline») представление кода 14:34 &lt;hypercubus&gt; но мне, пожалуй, стоит попробовать этот leo самому 14:34 &lt;aum&gt; leo даже интегрируется с emacs, если хочешь 14:34 &lt;hypercubus&gt; это не редактор? 14:35 &lt;aum&gt; &lt;bile&gt; 14:35 &lt;aum&gt; чёртов msvc — он допускает __int64 для 64‑битных int, но не допускает 'LL' или 'ULL' для 64‑битных литералов int 14:35 &lt;aum&gt; !! 14:35 &lt;aum&gt; &lt;/bile&gt; 14:35 &lt;hypercubus&gt; ага, понял 14:37 &lt;jrandom&gt; ок, если с этим всё, то у нас больше ничего не осталось и можем перейти к 3) ??? 14:37 &lt;jrandom&gt; у кого‑нибудь есть ещё что добавить? 14:37 &lt;hypercubus&gt; да, пожалуй, скажу немного о новом направлении инсталлятора 14:37 &lt;jrandom&gt; ок, давай 14:38 &lt;hypercubus&gt; начиная с 0.4 пользователи командной строки просто возьмут tar-архив i2p, распакуют его, затем запустят скрипт, чтобы стартовать router и открыть router console в lynx или чём‑нибудь ещё 14:39 &lt;hypercubus&gt; то есть особо ничего не меняется, кроме того, что не нужно проходить глупую Q/A‑сессию инсталлятора 14:39 &lt;hypercubus&gt; всю настройку делаете в router console 14:39 &lt;hypercubus&gt; для пользователей GUI у нас есть кое‑что клёвое 14:39 &lt;jrandom&gt; (w00t) 14:40 &lt;hypercubus&gt; предпросмотреть можно тут: http://files.hypercubus.i2p/install.jar 14:40 &lt;jrandom&gt; или из cvs (ant pkg ; java -jar install.jar), верно? 14:40 &lt;aum&gt; hypercubus: как продвигается winstaller? он делает autodetect/autodownload/autoinstall Java? 14:41 &lt;hypercubus&gt; ярлыки в меню будут, как и интеграция с системным треем и возможность установить router как демон 14:41 &lt;aum&gt; демон? как в Windows 'service' ? 14:41 &lt;hypercubus&gt; нет, по крайней мере в обозримом будущем им придётся кликнуть ссылку на сайте i2p, которая ведёт на официальную страницу загрузки Java 14:42 &lt;hypercubus&gt; инсталлятор требует Java, но это ок, поскольку I2P тоже 14:42 &lt;aum&gt; hypercubus: прости, но так мы потеряем 80% пользователей 14:42 &lt;hypercubus&gt; назови хотя бы один Java‑проект, который так не делает 14:42 &lt;jrandom&gt; в итоге это у нас будет. 14:42 &lt;jrandom&gt; просто не сейчас. 14:42 &lt;aum&gt; в Freenet это сделано хорошо — их winstaller проводит тебя через загрузку 14:43 &lt;jrandom&gt; (у нас ещё куча более важных дел. мы сейчас и не *хотим* тысячи и тысячи пользователей) 14:43 &lt;hypercubus&gt; это на рассмотрении к 1.0 14:43 &lt;hypercubus&gt; у меня уже готова большая часть кода, чтобы это провернуть 14:43 &lt;aum&gt; jrandom: думал, ты говорил, что это будет для 0.4 14:43 &lt;deer&gt; &lt;mule&gt; тогда требуйте, чтобы Java собиралась из исходников :) 14:44 &lt;jrandom&gt; новый инсталлятор будет для 0.4 14:44 &lt;hypercubus&gt; мы выкинули весь код, который я до сих пор написал 14:44 &lt;hypercubus&gt; в пользу IzPack 14:44 &lt;hypercubus&gt; http://izpack.sf.net 14:44 &lt;jrandom&gt; мы можем предложить 15MB загрузку, объединяющую оба в одном, но большинство пользователей, которые будут пользоваться I2P до 1.0, знают, что такое «Java» 14:45 &lt;hypercubus&gt; это даст мне время довести до ума полностью Public Domain фреймворк Java‑инсталлятора, к которому я в итоге надеюсь вернуть I2P 14:45 &lt;hypercubus&gt; но приоритет сейчас — избавиться от ужасного текущего инсталлятора ;-) 14:46 &lt;hypercubus&gt; (без обид тому, кто его склепал) 14:46 &lt;deer&gt; &lt;shendaras&gt; Получил 404.... 14:46 &lt;duck&gt; http://www.izforge.com/izpack/ 14:46 &lt;hypercubus&gt; http://www.izforge.com/izpack/ 14:47 &lt;hypercubus&gt; сорри за это 14:47 &lt;hypercubus&gt; в любом случае, буду признателен за отзывы по превью инсталлятора, который я выложил на своём eepsite 14:48 &lt;hypercubus&gt; он протестирован на *nix и Windows, должен работать и на OS X и Solaris 14:48 &lt;jrandom&gt; r0x0r 14:48 &lt;duck&gt; круто 14:48 &lt;jrandom&gt; да, очень годно 14:49 &lt;hypercubus&gt; может, похакую izpack, чтобы убрать эти дурацкие иконки с кнопок 14:49 &lt;deer&gt; &lt;mule&gt; hypercubus: он уничтожит существующие конфиги или сохранит их? 14:49 &lt;hypercubus&gt; в пакете нет файлов конфигурации 14:49 &lt;hypercubus&gt; так что он перезапишет только jars и wars 14:49 &lt;jrandom&gt; (пока что ;) 14:49 &lt;hypercubus&gt; ладно, конфиги учтём 14:49 &lt;deer&gt; &lt;mule&gt; ок, спасибо 14:49 &lt;duck&gt; как запускать всю эту штуку Jetty? 14:50 &lt;duck&gt; по‑прежнему sh/bat ? 14:50 &lt;jrandom&gt; да 14:50 &lt;jrandom&gt; router будет запускаться скриптом и/или службой (которая вызывает этот скрипт) 14:50 &lt;hypercubus&gt; да, и я добавлю exe для пользователей Windows 14:50 &lt;jrandom&gt; w00t 14:50 &lt;hypercubus&gt; который будет запускаться из меню Пуск 14:50 &lt;hypercubus&gt; меню Пуск Windows 14:51 &lt;hypercubus&gt; должно получиться заставить Jetty работать как службу Windows к завтрашнему дню 14:51  * jrandom бормочет *это не jetty, это i2p* 14:51 &lt;hypercubus&gt; а, точно ;-) 14:52 &lt;hypercubus&gt; но у Jetty есть win32‑обёртка для службы 14:52 &lt;hypercubus&gt; мы можем использовать её, чтобы оборачивать что угодно 14:52 &lt;jrandom&gt; да, есть 3–4 PD/BSD Java‑обёртки для служб 14:52 &lt;hypercubus&gt; ага, вероятно, есть и для Linux 14:53 &lt;jrandom&gt; ну, служба в Linux == init‑скрипт :) 14:53 &lt;hypercubus&gt; да, но службы в Linux обрабатываются по‑разному даже среди основных дистрибутивов 14:53 &lt;hypercubus&gt; например, в Gentoo используется схема скриптов rc-setup 14:54 &lt;jrandom&gt; w3rd 14:54 &lt;hypercubus&gt; в любом случае, я заставлю это работать для всех основных дистрибутивов и *BSD 14:54 &lt;hypercubus&gt; если не больше 14:55 &lt;hypercubus&gt; oops, s/rc-setup/rc-update/ 14:55 &lt;hypercubus&gt; ок, думаю, это всё 14:55 &lt;hypercubus&gt; можете просыпаться ;-) 14:55 &lt;deer&gt; * shendaras зевает 14:55 &lt;jrandom&gt; круто, спасибо, hyper, звучит хорошо. 14:56 &lt;jrandom&gt; кто‑нибудь ещё хочет что‑то поднять? 14:56 &lt;aum&gt; извините, если пропустил раннее обсуждение, но.. 14:56 &lt;aum&gt; как «погода» с точки зрения задержек дейтаграмм и т. п.? 14:57 &lt;jrandom&gt; про дейтаграммы не знаю — единственные приложения, которыми я пользуюсь, работают поверх дейтаграмм через потоки 14:57 &lt;jrandom&gt; состояние сети всё ещё довольно плохое — см. заметки о статусе @ http://dev.i2p.net/pipermail/i2p/2004-August/000409.html 14:58 &lt;aum&gt; к 14:58 &lt;jrandom&gt; ок, если больше ничего... 14:58  * jrandom разминается 14:59  * jrandom *baf* закрывает встречу </div>
