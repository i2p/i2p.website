(function(){"use strict";const a=document.querySelector(".theme-toggle"),i=document.documentElement;function d(e){i.setAttribute("data-theme",e),localStorage.setItem("theme",e)}function r(){const e=i.getAttribute("data-theme"),t=e==="light"?"dark":"light";d(t)}a&&a.addEventListener("click",r);const t=document.querySelector(".mobile-menu-toggle"),e=document.querySelector(".nav-menu");function n(){const n=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!n),e.classList.toggle("active"),document.body.style.overflow=e.classList.contains("active")?"hidden":""}if(t&&t.addEventListener("click",n),document.addEventListener("click",function(s){e&&e.classList.contains("active")&&!e.contains(s.target)&&!t.contains(s.target)&&n()}),document.addEventListener("keydown",function(t){t.key==="Escape"&&e&&e.classList.contains("active")&&n()}),e){const t=e.querySelectorAll("a");t.forEach(t=>{t.addEventListener("click",()=>{e.classList.contains("active")&&n()})})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t==="#")return;e.preventDefault();const s=t.substring(1),n=document.getElementById(s);if(n){const e=80,t=n.offsetTop,s=t-e;window.scrollTo({top:s,behavior:"smooth"})}})});const o=document.querySelectorAll("section[id]"),c=document.querySelectorAll(".nav-links a");function l(){let e=window.pageYOffset;o.forEach(t=>{const s=t.offsetHeight,n=t.offsetTop-100,o=t.getAttribute("id");e>n&&e<=n+s&&c.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${o}`&&e.classList.add("active")})})}o.length>0&&window.addEventListener("scroll",l);const s=document.querySelector(".site-header");function u(){window.scrollY>10?s.style.boxShadow="var(--shadow-md)":s.style.boxShadow="none"}s&&window.addEventListener("scroll",u);function h(){const n=window.navigator.userAgent,t=window.navigator.platform,s=["Macintosh","MacIntel","MacPPC","Mac68K"],o=["Win32","Win64","Windows","WinCE"],i=["iPhone","iPad","iPod"];let e=null;return s.indexOf(t)!==-1?e="mac":i.indexOf(t)!==-1?e="ios":o.indexOf(t)!==-1?e="windows":/Android/.test(n)?e="android":/Linux/.test(t)&&(e="linux"),e}function m(){const n=document.getElementById("detected-platform");if(!n){console.log("[I2P] No detected-platform element found");return}const t=h();if(console.log("[I2P] Detected OS:",t),!t){console.log("[I2P] Could not detect OS");const e=document.querySelector(".platform-card");e&&e.scrollIntoView({behavior:"smooth",block:"nearest"});return}const s={windows:{name:"Windows",details:"Version 2.10.0 • ~24M • Requires Java",downloadUrl:"https://i2p.net/files/2.10.0/i2pinstall_2.10.0-0_windows.exe",torrentUrl:"magnet:?xt=urn:btih:75d8c74e9cc52f5cb4982b941d7e49f9f890c458&dn=i2pinstall_2.10.0-0_windows.exe&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce",i2pUrl:"http://mirror.stormycloud.i2p/2.10.0/i2pinstall_2.10.0-0_windows.exe",torUrl:"http://hhn4r4qyrmplmfiermza6p3d67a5ra7ecwjeoo5a5ddiogwhyjg675id.onion/2.10.0/i2pinstall_2.10.0-0_windows.exe",sha256:"f96110b00c28591691d409bd2f1768b7906b80da5cab2e20ddc060cbb4389fbf",icon:'<svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor"><path d="M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"/></svg>'},mac:{name:"macOS",details:"Version 2.10.0 • ~30M • Java 8+ required",downloadUrl:"https://i2p.net/files/2.10.0/i2pinstall_2.10.0.jar",torrentUrl:"magnet:?xt=urn:btih:20ce01ea81b437ced30b1574d457cce55c86dce2&dn=i2pinstall_2.10.0.jar&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce",i2pUrl:"http://mirror.stormycloud.i2p/2.10.0/i2pinstall_2.10.0.jar",torUrl:"http://hhn4r4qyrmplmfiermza6p3d67a5ra7ecwjeoo5a5ddiogwhyjg675id.onion/2.10.0/i2pinstall_2.10.0.jar",sha256:"76372d552dddb8c1d751dde09bae64afba81fef551455e85e9275d3d031872ea",icon:'<svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>'},linux:{name:"Linux / BSD",details:"Version 2.10.0 • ~30M • Java 8+ required",downloadUrl:"https://i2p.net/files/2.10.0/i2pinstall_2.10.0.jar",torrentUrl:"magnet:?xt=urn:btih:20ce01ea81b437ced30b1574d457cce55c86dce2&dn=i2pinstall_2.10.0.jar&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce",i2pUrl:"http://mirror.stormycloud.i2p/2.10.0/i2pinstall_2.10.0.jar",torUrl:"http://hhn4r4qyrmplmfiermza6p3d67a5ra7ecwjeoo5a5ddiogwhyjg675id.onion/2.10.0/i2pinstall_2.10.0.jar",sha256:"76372d552dddb8c1d751dde09bae64afba81fef551455e85e9275d3d031872ea",icon:'<svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor"><path d="M20.581 19.049c-.55-.446-.336-1.431-.907-1.917.553-3.365-.997-6.331-2.845-8.232-1.551-1.595-1.051-3.147-1.051-4.49 0-2.146-.881-4.41-3.55-4.41-2.853 0-3.635 2.38-3.663 3.738-.068 3.262.659 4.11-1.25 6.484-2.246 2.793-2.577 5.579-2.07 7.057-.237.276-.557.582-1.155.835-1.652.72-.441 1.925-.898 2.78-.13.243-.192.497-.192.74 0 .75.596 1.399 1.679 1.302 1.461-.13 2.809.905 3.681.905.77 0 1.402-.438 1.696-1.041 1.377-.339 3.077-.296 4.453.059.247.691.798 1.041 1.479 1.041.973 0 2.13-.901 3.299-.901 1.007 0 1.64.36 1.868.684.178.261.53.456 1.004.456.456 0 .924-.277 1.024-.757.15-.723-.809-1.318-1.624-2.076z"/></svg>'},android:{name:"Android",details:"Version 2.10.1 • ~28 MB • Android 4.0+",downloadUrl:"https://download.i2p.io/android/I2P.apk",torrentUrl:"magnet:?xt=urn:btih:android_example",i2pUrl:"http://stats.i2p/android/I2P.apk",sha256:"c3d4e5f6789012345678901234567890123456789012345678901234abcdef",icon:'<svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor"><path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85a.637.637 0 00-.83.22l-1.88 3.24a11.43 11.43 0 00-8.94 0L5.65 5.67a.643.643 0 00-.87-.2c-.28.18-.37.54-.22.83L6.4 9.48A10.81 10.81 0 001 18h22a10.81 10.81 0 00-5.4-8.52M7 15.25a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5m10 0a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5z"/></svg>'}},e=s[t];if(e){console.log("[I2P] Platform config found:",e),n.style.display="block",document.getElementById("detected-icon").innerHTML=e.icon,document.getElementById("detected-name").textContent=`Download for ${e.name}`,document.getElementById("detected-details").textContent=e.details;const s=document.getElementById("detected-download-btn");if(s.href=e.downloadUrl,console.log("[I2P] Set download button href to:",s.href),e.torrentUrl&&(document.getElementById("detected-torrent").href=e.torrentUrl),e.i2pUrl&&(document.getElementById("detected-i2p").href=e.i2pUrl),e.torUrl?document.getElementById("detected-tor").href=e.torUrl:document.getElementById("detected-tor").style.display="none",e.sha256){const t=document.getElementById("detected-checksum");t.setAttribute("data-sha","SHA256: "+e.sha256),t.style.display="inline-flex"}const o=document.querySelector(`.platform-card[data-platform="${t}"]`);o&&(o.style.display="none")}}function f(){const t=document.getElementById("detected-mirror"),e=document.getElementById("detected-download-btn");t&&e&&t.addEventListener("change",function(){const t=this.value,n=e.href,s=n.split("/").pop();e.href=t+s})}document.querySelector(".downloads-hero")&&(m(),f()),console.log("I2P Website initialized")})()